[
  {
    "objectID": "visual_methods/videoRangeHelp/docs/videoRange_videoRange.html",
    "href": "visual_methods/videoRangeHelp/docs/videoRange_videoRange.html",
    "title": "Setup",
    "section": "",
    "text": "The video range modules in PAMGuard are used to analyse grabbed video images in order to measure the range to an object floating on the water.\nThe principle of the method is very simple. The range to floating objects at sea can be calculated from the angle of dip between the horizon and the waterline of the object. Often this angle is estimated using reticules in binoculars, but this is difficult and inaccurate, especially when the subjects are small marine mammals that are only fleetingly visible at the surface. However, the angle can be measured accurately and at leisure from an image taken with a calibrated lens from a known height.\nimages can be obtained using either still or video cameras. With the advent of affordable higher definition video equipment HD camcorders are usually the most effective means of obtaining the necessary images. Some practical information on equipment and field procedures can be found at http://www.ecologicuk.co.uk/\nThe method can also be applied from land stations (an application for which theodolites are traditionally employed.) When used from land station its necessary to configure PAMGuard with a fixed stationary array. Instruction on setting up PAMGuard in this mode are found here.\nThe methods implemented here are described in detail in Leaper, R., and Gordon, J. 2001. Application of photogrammetric methods for locating and tracking cetacean movements at sea. J. CETACEAN RES. MANAGE. 3(2):131-141\nThe first step is to create an instance of a video range module in PAMGuard\nNext: Adding and Setting up a New Video Range Module",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Video Range ",
      "Setup"
    ]
  },
  {
    "objectID": "visual_methods/videoRangeHelp/docs/videoRange_Measuring_setup.html",
    "href": "visual_methods/videoRangeHelp/docs/videoRange_Measuring_setup.html",
    "title": "Range Measurement Setup",
    "section": "",
    "text": "To measure a range from an image choose a previously entered Height in the Height drop down dialog.\nIf an appropriate height has not be set then press Settings&gt;Heights&gt; Add\nEnter the camera height above sea level and give it a sensible name\n\n\n\nChoose Height\n\n\nThe Settings tabs allow different choices of calculation method to be chosen\n\n\n\nCalculationMethod\n\n\nThe “Round Earth” method is most straight forward and quite adequate for closer objects.\nThe “Refraction Method” makes allowances for predicted refraction conditions based on the prevailing temperature, temperature gradient and atmospheric pressure. Values for these must be added in the appropriate fields.\nThe final choice, under Analysis, is between Measuring from the Horizon and Measuring from the Shore.\nMeasuring from the shore line is an advanced option to be used when a shore line and no horizon is visible behind the object of interest. Details of how to use this option are found here. Measuring to the Shore\nPrevious: Calibration\nNext: Plotting and Measuring"
  },
  {
    "objectID": "visual_methods/videoRangeHelp/docs/videoRange_MeasureToShoreline.html",
    "href": "visual_methods/videoRangeHelp/docs/videoRange_MeasureToShoreline.html",
    "title": "Measuring to a shoreline",
    "section": "",
    "text": "In situations where a horizon is not visible “behind” the object or animal, but a shoreline is, PAMGuard provides he option to calculate a range based on the angle subtended between the object and the shoreline rather than the object and the horizon.\nTo use this option choose the Shore tab of the Video Range Settings options\n\n\n\nShore Option\n\n\nOne will need to specify the a file in PAMGAURD map format which holds the shoreline data. Use the Browse button to find and choose the appropriate file. (Help on maps in PAMUARD format can be found here.)\nPAMGuard will now use the camera’s location and bearing to determine the range to the closest shoreline in the direction the imaged was taken. From this, and the observer’s height, the dip to the waterline on the shore can be determined.\nAdditional options are provided by three tick boxes\nIgnore closest shore segments should be chosen when making observations from shore because the first shoreline on the bearing line would be the one between the land and sea below the observation point.\nDraw Shore on image\nHighlight Shore Vector Points\nNote: In areas with a high tidal range and a gently shelving shore the range to to the waterline on the shore may vary considerable with tide height and in these situations this method will be unreliable and should not be used.\nPrevious: Plotting and Measuring",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Video Range ",
      "Measuring to a shoreline"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/TIMESTAMP.html",
    "href": "visual_methods/loggerFormsHelp/docs/TIMESTAMP.html",
    "title": "TIMESTAMP Control",
    "section": "",
    "text": "The TIMESTAMP Type is used on a User Defined Form to create an input filed for date and time data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoupdate\nThis control will update on a time if a non-null positive integer value is entered in the Autoupdate column. The number is the number of seconds between auto-updates\nTopic\nThe time zone for the data. By default all data are in UTC. Enter a standard time zone name to collect data in other time zones.\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the entered value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nIt is assumed that the date and time are in adjacent positions in the NMEA string and that the NMEA_Position is the position of the first Date field and the the Time is at NMEA_Position+1. Currently it is also assumed that the date is in the form ddmmyy and that time is in the format hhmmss. We hope to support other date and time formats in future releases.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/SYMBOLTYPE.html",
    "href": "visual_methods/loggerFormsHelp/docs/SYMBOLTYPE.html",
    "title": "SYMBOLTYPE Property",
    "section": "",
    "text": "The SYMBOLTYPE Property is used to set the default symbol used by a particular form when data are plotted on the PAMGuard map.\nAvailable symbols are:\n.\npoint\no\ncircle\nx\nx-mark\n\n\n\nplus\n*\nstar\ns\nsquare\nd\ndiamond\nv\ntriangle(down)\n^\ntriangle (up)\n&lt;\ntriangle (left)\n&gt;\ntriangle(right)\np\npentagon\nh\nhexagon\n\nRequired Fields\nTitle\nThe type of symbol taken from the above list.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/SINGLE.html",
    "href": "visual_methods/loggerFormsHelp/docs/SINGLE.html",
    "title": "SINGLE Control",
    "section": "",
    "text": "The SINGLE Type is used on a User Defined Form to create an input field for single precision (32 bit) floating point data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the entered value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nNMEA data will be converted to a single precision number. If the conversion fails, the control value will be set to null.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/READONTIMER.html",
    "href": "visual_methods/loggerFormsHelp/docs/READONTIMER.html",
    "title": "READONTIMER Property",
    "section": "",
    "text": "The READONTIMER Property is used to make a form automatically save it’s data at regular fixed intervals.\nForms using READONTIMER should therefore only contain controls which can be updated automatically, such as times and NMEA data.\nREADONTIMER is typically used for collecting analogue data (not yet implemented) or NMEA data such as weather information at fixed intervals.\n\nRequired Fields\nAutoupdate\nThe time interval in seconds at which the form should be automatically saved\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/READONGPS.html",
    "href": "visual_methods/loggerFormsHelp/docs/READONGPS.html",
    "title": "READONGPS Property",
    "section": "",
    "text": "The READONGPS Property is used to make a form automatically save it’s data every time new GPS data are collected.\nForms using READONGPS should therefore only contain controls which can be updated automatically, such as times and NMEA data.\nREADONGPS is typically used for collecting other NMEA data, such as weather information, each time GPS data are read.\n\nRequired Fields\nNone\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/oldLoggerForms.html",
    "href": "visual_methods/loggerFormsHelp/docs/oldLoggerForms.html",
    "title": "Using Logger2000 forms",
    "section": "",
    "text": "Some users may wish to import UDF form definitions from databases used with the Logger 2000 software.\nFor compatibility with a wider range of database systems, we have had to make a number of changes to the format of the UDF_tables in PAMGuad.\nIf you attempt to use an old Logger forms UDF table with PAMGuard you are likely to get a number of errors. To correct these, you will have to make the following changes to the UDF table. Please note that these changes may stop the table working with Logger 2000\n\n“Id” column: The PAMGuard forms must have a column titled Id of type AutoNumber, which should ideally also be set to be a primary key\n“Length” column has changed from Integer to Long Integer\n“NMEA String” column has changed to “NMEA_String”\n“NMEA Position” column has changed to “NMEA_Position and it’s type has changed from Integer to Long Integer”\n“AutoUpdate” column has changed from Integer to Long Integer\n“ADC Channel” column has changed to “ADC_Channel”\n“ADC Gain” column has changed to “ADC_Gain”\n“Analog Multiply” column has changed to “Analog_Multiply”\n“Analog Add” column has changed to “Analog_Add”\n“Height” column has changed from Integer to Long Integer\n“Send Control Name” column has changed to “Send_Control_Name”\n“Control on Subform” column has changed to “Control_on_Subform”\n“Get Control Data” column has changed to “Get_Control_Data”\n\n\nFeatures not implemented\nThere are also several Logger 2000 features which have not yet been implemented in PAMGuard\n\nButton Forms\nButtons on normal forms\nSub forms\nAnalogue input\nForm Colour\nHotkeys (to open sub tab forms)\nNOTOFFLINE, NOTONLINE and NOTSHOWDATA\nFONT\n\nSubject to funding, we hope to add these features at some future date.\n\n\nMoving from MS Access to SQLite\nMoving database tables from MS Access databases to SQLite can be difficult, so it may be necessary for first export the UDF_ and Lookup tables from your Access database to Excel spreadsheets. This can mess up the table formats when importing them to SQLite. To help with this, there are some functions in the Matlab library in the package pgmatlab.db.logger that might help.\nPrevious: Designing Forms\nNext: Moving databases",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Logger forms ",
      "Using Logger2000 forms"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/NOCANCEL.html",
    "href": "visual_methods/loggerFormsHelp/docs/NOCANCEL.html",
    "title": "NOCANCEL Property",
    "section": "",
    "text": "The NOCANCEL Property will cause the “Cancel” button not to appear on a form.\nThis would typically be used on subtab forms in which case it would be impossible not to save a form once it was opened (i.e. the only option would be to complete the form and to save it.\n\nRequired Fields\nNone\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/NMEAFLOAT.html",
    "href": "visual_methods/loggerFormsHelp/docs/NMEAFLOAT.html",
    "title": "NMEAFLOAT Control",
    "section": "",
    "text": "The NMEAFLOAT Type is used on a User Defined Form to automatically collect floating point data from an NMEA string\nAn NMEA module should be included in the PAMGuard configuration to acquire NMEA data from a serial port\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nTopic\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoupdate\nThis control will update on a time if a non-null positive integer value is entered in the Autoupdate column. The number is the number of seconds between auto-updates\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/LOOKUP.html",
    "href": "visual_methods/loggerFormsHelp/docs/LOOKUP.html",
    "title": "LOOKUP Control",
    "section": "",
    "text": "The LOOKUP Type is used on a User Defined Form to create a drop down box of options\nLogger Forms use a standard user-editable PAMGuard lookup box for which the contents editing has already been built into the software. To add items to a lookup table, simply open right click on the LOOKUP control on the Logger form and select “Edit list …” from the drop down menu. The following dialog will then appear which allows to add, edit and modify lookup items.\n\n\n\nEditing Lookup Contents\n\n\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nTopic\nThe lookup topic\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if a lookup item has been selected. Note that there are extensive plot options available from the Display / Logger forms menu which will allow you to select what to plot based in the individual lookup items selected\nHere you can see the TOPIC field noted in the title bar as SEA_STATES. Add items as you wish with Code, Text, Selectable and Symbol. Code will be the shortcut able to be entered in the first part of the control and Text is what shows in the drop-down. A Symbol must be entered at the moment though as you can see they can be the same and at the moment only used on map. E.g. would be used for a sighting but for SEA_STATES it will be unused.\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nThe NMEA data should ideally be the code of one of the look up items. i.e. you should populate your lookup control with all possible values. If the NMEA string does not match any of the look up codes, a null value will be selected.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/loggerFormsMoving.html",
    "href": "visual_methods/loggerFormsHelp/docs/loggerFormsMoving.html",
    "title": "Switching database",
    "section": "",
    "text": "It is highly likely that at some point, you’ll want to move your logger forms to a new database. To do this, you will need to copy across all of your UDF_ tables, and also your Lookup table.\nDo NOT export the tables as CSV or other text files, or they will lose important format information. Instead, open both your old and your new database and copy the tables across using the database software.\nIf you’re using and sqlite database and SQLite Studio software, then this is straightforward using mouse driven copy-paste operations, so long as both databases are open in the same instance of SQLite Studio.\nPrevious: Using Old Logger 2000 forms",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Logger forms ",
      "Switching database"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/INTEGER.html",
    "href": "visual_methods/loggerFormsHelp/docs/INTEGER.html",
    "title": "INTEGER Control",
    "section": "",
    "text": "The INTEGER Type is used on a User Defined Form to create an input field for 32 bit integer data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this field is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the entered value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nNMEA data will be converted to an integer number. If the conversion fails, the control value will be set to null.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/DOUBLE.html",
    "href": "visual_methods/loggerFormsHelp/docs/DOUBLE.html",
    "title": "DOUBLE Control",
    "section": "",
    "text": "The DOUBLE Type is used on a User Defined Form to create an input field for double precision (64 bit) floating point data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the entered value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nNMEA data will be converted to a double precision number. If the conversion fails, the control value will be set to null.\nBack to form Design\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/COUNTER.html",
    "href": "visual_methods/loggerFormsHelp/docs/COUNTER.html",
    "title": "COUNTER Control",
    "section": "",
    "text": "The COUNTER Type is used to create an automatically incrementing COUNTER on a Logger form\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this field is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/CHAR.html",
    "href": "visual_methods/loggerFormsHelp/docs/CHAR.html",
    "title": "CHAR Control",
    "section": "",
    "text": "The CHAR Type is used on a User Defined Form to create an input field for character data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this field is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nNMEA data will be directly copied into the control.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/AUTOALERT.html",
    "href": "visual_methods/loggerFormsHelp/docs/AUTOALERT.html",
    "title": "AUTOALERT Property",
    "section": "",
    "text": "The AUTOALERT Property is used on a User Defined Form to issue a warning to the user when the form is due to be filled in.\nWarnings are displayed in the PAMGuard side panel\n\nRequired Fields\nLength\nThe time between warnings\nBack to form Design"
  },
  {
    "objectID": "utilities/WILDInterface/docs/WILDOverview.html",
    "href": "utilities/WILDInterface/docs/WILDOverview.html",
    "title": "WILD ArcGIS Interface",
    "section": "",
    "text": "The WILD ArcGIS Interface module provides the user the ability to integrate PAMGuard with the WILD ArcGIS-based marine mammal survey software package. The module takes postional data from the GPS module and couples that with user-inputted information regarding marine mammal location to create a NMEA string. The string is then output to the WILD package through a serial port.\nThe NMEA string uses the CPAM format, defined on May 3, 2011 as:\n$PSOCALPAM, date,time,lat,long,gyro,speed,dx0,dy0,dz0,animal,signal strength,signal duration,bearing,azimuth,distance, animal lat,animal long, animal depth*CS\nwhere\n\nDate: ddmmyy = Date of the observation leading zero padded e.g. 020408 represents 2nd day of April 2008.\nTime: hhmmss.uuuuu represents UTC time of observation leading zero padded with fractional seconds to necessary accuracy based on the 24 hour clock\nLat: aa.aaaaa - estimated latitude of ship in decimal degrees WGS-84 Negative number represents Southern hemisphere. Domain = -90.00000 to 90.00000\nLong: ooo.ooooo - longitude of ship decimal degrees WGS-84. Negative number represents Western Hemisphere. Domain = -180.00000 to 180.00000\nGyro: nnn.nn - true bearing in degrees of ship. Domain = 0 to 359.99 Degrees\nSpeed: ship speed through the water (Knots)\ndx0,dy0,dz0: array offset (m)relative to GPS (ship) position; if empty assume 0\nAnimal: animal name (I would prefer name if that is OK, less chance of a problem). domain = UNK (unknown), PM (Physeter macrocephalus), ZC (Ziphius cavirostris), GME (Globicephalus melas), GMA Globicephala Macrohynchus) GG Grampus Griseus, DSP (Delphinidea), a null value is stored as “Not Specified” in the feature class.\nSignal strength: domain = 1 - 3; 1 weak, 2 moderate, 3 strong.\nSignal duration: domain = 1 short, 2 intermediate, 3 continuous.\nAnimal bearing: bearing of animal detection relative to ship bearing in degrees. Domain = 0 to 359.99\nAnimal Elevation (Azimuth): domain = -90.00 degrees (directly under array) to 90.00 degrees (directly over the array).\nDistance: distance from animal to sensor (meters) (or ship if dx0,dy0, dz0 are zero or not reported)\nAnimal lat: Latitude of animal WGS-84 (decimal degrees) domain: 90.000 to -90.000\nAnimal Lon: Longitude of animal WGS-84 (decimal degrees) domain: 180.000 to -180.000\nAnimal Depth: Depth of the animal below local sea level (meters). Domain: 0 to depth of water column, positive number.\nCS: check sum\n\n\nCreating the Module\nFrom the File &gt; Add Modules &gt; Utilities menu, select “WILD ArcGIS Interface”. Enter a descriptive name for the new module and press OK.\n\n\nConfiguring the Module\nSelect Detection &gt; WILD ArcGIS Interface on the toolbar to open the parameters dialog, shown below.\n\n\n\nWILD parameters\n\n\nThe GPS Source dropdown box contains a list of GPS modules that have been previously configured. In order to pass GPS data to the WILD package, a valid GPS source must be selected. If no source is selected or the GPS data is not available, blank values will be used in the NMEA string.\nThe serial port connected to the WILD software package must be configured in order to properly pass the NMEA string.\nThe NMEA strings can also be saved to a csv file, the name and location of which can be specified by the user. Each string is appended to the csv file as a new row after being output to the serial port.\n\n\nSide Bar\n \nThe side bar displays information from the GPS source, as well as text fields to allow the operator to locate the animal. The animal location parameters will be either Bearing Angle, Azimuth and Distance or Animal Latitude, Animal Longitude and Animal Depth. Pressing the Switch Parameters button will toggle between the two sets of parameters. Pressing the Send Data button will compile the NMEA string and send it to the output serial port.\nNote that if an invalid value is entered into a text field, such as a character instead of a number or a number outside the allowable range, the value is replaced with 0.\nNote also that the text fields are cleared after sending the data, in preparation of the next detection."
  },
  {
    "objectID": "utilities/tethys/docs/tethys_speciescodes.html",
    "href": "utilities/tethys/docs/tethys_speciescodes.html",
    "title": "ITIS Species Codes",
    "section": "",
    "text": "When exporting data from PAMGuard to Tethys, some PAMGuard records will require additional information indicating what type of animal or phenomena were detected. If a specific call-type was detected, e.g. “Clicks” or “Whistles”, these should be noted as well.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "ITIS Species Codes"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_speciescodes.html#species-names",
    "href": "utilities/tethys/docs/tethys_speciescodes.html#species-names",
    "title": "ITIS Species Codes",
    "section": "Species Names",
    "text": "Species Names\nTethys uses the Integrated Taxonomic Information System (ITIS) to encode species names as taxonomic serial numbers (TSNs), unique numeric identifiers for species. These data conform with several international coding systems which are described on the ITIS standards page.\nIt is not uncommon to be unable to describe a call to the genus level. In such cases, one can use a higher taxonomic level. For example, beaked whale echolocation clicks are distinctive from the clicks of other toothed whales as their pulses have a frequency-modulated component. While they can frequently be associated with the family Hyperodontidae, it is not always possible to associate a click to a specific species as many of the at least twenty-two species remain understudied. In such a case, we would use the TSN for Hyperodontidae, 770799. While not currently supported by PAMGuard, each species identifier has an optional Group attribute that can be used in an ad-hoc manner to provide additional information. This can be used to add population markers, tentative genus groups, etc.\nITIS does not describe abiotic sounds, Tethys records such sounds as follows:\n\nFor anthropogenic signals, the Tethys convention is to use Homo sapiens, TSN 180092, for the species code and describe the human-generated signal via a call type, e.g. ship, mid-frequency active sonar, etc.\nTethys reserves the TSN -10 for geophonic signals. The call type is used to describe the source. Examples include ambient sound, earthquake, rain, etc. Note that negative TSNs are not part of the ITIS standard.\n\nNote that in general, you do not have to worry about remembering TSNs. Tethys uses TSNs internally, but will translate TSNs to/from Latin names or user-defined abbreviations both when querying and presenting results.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "ITIS Species Codes"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_speciescodes.html#call-types",
    "href": "utilities/tethys/docs/tethys_speciescodes.html#call-types",
    "title": "ITIS Species Codes",
    "section": "Call types",
    "text": "Call types\nSome detectors identify specific call types. When this is the case, users will need to specify the call type name. While species names are standardized in Tethys, call names do not have a well-defined standard and experts frequently use different names for the same type of call. Consequently, Tethys does not provide a standard coding for call types and users are free to choose the call type names with which they feel most comfortable.\nThat said, the authors of Tethys do however provide a list of recommend call types for many species. These recommendations can be accessed in the supplemental information of the open access article “Management of acoustic metadata for bioacoustics,” Roch et al. (2016), (DOI:10.1016/j.ecoinf.2015.12.002).\nWithin PAMGuard, different detectors have different numbers of call types. Some, such as the Whistle and Moan detector, have only one fixed call type “Tonal”, for others such as the Click Detector, the user can define any number of different call types in the click classification configuration. The Tethys interface allows the user to map the internal call types from PAMGuard to ITIS species codes and call types.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "ITIS Species Codes"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_speciescodes.html#export-dialog",
    "href": "utilities/tethys/docs/tethys_speciescodes.html#export-dialog",
    "title": "ITIS Species Codes",
    "section": "Export dialog",
    "text": "Export dialog\nBefore you can export records to Tethys, you must complete a mapping that can translate the ad-hoc encodings defined within PAMGuard to valid ITIS codes and call types. The dialog for these mappings can be accessed in two ways, firstly, in the table of PAMGuard data blocks in the lower left of the display, right click on any row and select the menu item “PAMGuard ITIS Species mapping …”, Otherwise, a similar dialog will appear as a page with the export wizard once you’ve pressed the “Export …” button.\nPAMGuard events typically are a short name that represents the species and/or potentially a call. Knowledge of the PAMGuard modules that were run and the data on which they executed will let a user infer what should be recorded. The dialog below shows a sample set of species defined in the PAMGuard click detector, where the user has defined the codes Porpoise, BWC, Oo, Pm, UNK, and Zc. Note that the first entry “Click” has been added automatically as a default for when no classification result was returned.\n\nIn the dialog above, we can infer that the only porpoise present in the study area was Harbour Porpoise, so have selected ITIS code 180473, Phocoena phocoena. However, the identity of species BWC is unclear, though believed to be some type of beaked whale, so it has been given the code 770799 for Hyperoodontidae.\nAn ITIS code and call/sound type can be associated with each event. The dialog lists:\n\nName - The ad-hoc name given by the PAMGuard module. This may not be changed.\nITIS code -This is the ITIS TSN that is associated with PAMGuard event code. Click on Find to inovke the TSN search dialog whose behavior is described in the next section.\nIf you happen to know the TSN, you can enter it directly. Pressing Find after typing the TNS will populate the Latin and English vernauclar names so that you may verify your TSN was entered correctly.\nCall / sound type - This will default to the code provided by the module but should be updated to specify an appropriate call type or left blank to indicate that the detection is not related to a specific call type. In the case of a porpoise detector, the likely call type would be “Clicks”. We should double check that no Call element is generated when this is blank.\n\nOnce all species names and call/sound types have been identified, press the Okay button.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "ITIS Species Codes"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_speciescodes.html#searching-for-itis-taxonomic-serial-numbers-tsns",
    "href": "utilities/tethys/docs/tethys_speciescodes.html#searching-for-itis-taxonomic-serial-numbers-tsns",
    "title": "ITIS Species Codes",
    "section": "Searching for ITIS Taxonomic Serial Numbers (TSNs)",
    "text": "Searching for ITIS Taxonomic Serial Numbers (TSNs)\nAs noted above, pressing Find without typing a TSN will bring up a search dialog:\n\nThe top of this dialog has a search box where one can enter either a Latin name or the common name for a species. The Tethys server will search for all species that match the search-box contents. For many species, there are common name entries in languages other than English, and these are searched as well.\nOnce you press the search button, a list will appear with all matches for your search term. If there are too many, a scroll bar will permit you to look through the list. Select the entry that you wish and press OK. The TSN on the species dialog will be populated along with the Latin name and common names from the ITIS database.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "ITIS Species Codes"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_speciescodes.html#export-and-import",
    "href": "utilities/tethys/docs/tethys_speciescodes.html#export-and-import",
    "title": "ITIS Species Codes",
    "section": "Export and Import",
    "text": "Export and Import\nEntering all of these codes can get a little tedious and you’ll hopefully also want to be consistent between your different datasets. PAMGuard therefore has options to save the species mapping to a file, which can then be re-imported into a different configuration.\nMappings are stored individually for each PAMGuard datablock and are identified by the datablock name. To Export, go to the “Tethys/Export Species Maps …” menu and in the dialog, select the maps you want to export.\n\nYou will be then be asked for the name of a file to export to and data will be saved to that file.\nImporting is similar: From the Tethys menu, select “Import Species Maps …”, you will be asked to select a previously exported file, and can then choose which maps to import.\nPrevious: Detections & Localizations\nNext: Tethys / PAMGuard mappings",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "ITIS Species Codes"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_overview.html",
    "href": "utilities/tethys/docs/tethys_overview.html",
    "title": "Tethys Overview",
    "section": "",
    "text": "Tethys mosaic\n\n\nPAMGuard is compatible with Tethys 3.2 beta 2 or later available for download from https://tethys.sdsu.edu/install/.\nTethys is a freely available open source temporal-spatial database for metadata related to acoustic recordings. The database is intended to house the metadata from marine mammal detection and localization studies, allowing the user to perform meta analyses or to aggregate data from many experimental efforts based on a common attribute. This resulting database can then be queried based on time, space, or any desired attribute and the results can be integrated with external datasets such as NASA’s Ocean Color, lunar illumination, etc. in a consistent manner. While Tethys is designed primarily for acoustic metadata from marine mammals, the design is general enough to permit use in other areas as well.\nThe Tethys database is not a replacement for the existing PAMGuard Database. Where the PAMGuard database only contains data from a single instrument or cruise, the Tethys database contains data from many cruises and projects and can be used to hold a summary of all data from a lab or organisation. PAMGuard’s Tethys module provides an interface for exporting detailed or summary information about acoustic detections to the Tethys database.\nBefore using the module in PAMGuard, you should install the Tethys Server. While clients that communicate with Tethys can run on a variety of computer operating systems, there are a small number of dependencies on Microsoft technologies that require the server to be installed on a Microsoft Windows machine. Instructions for installing the Tethys Server can be found here.\nModule help:\n\nThe Tethys module (start here)\nThe Connecting to Tethys\nThe Instrument calibrations\nThe Instrument deployments\nThe Detections & Localizations\nGuide to specifying species names",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Tethys Overview"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_mappings.html",
    "href": "utilities/tethys/docs/tethys_mappings.html",
    "title": "PAMGuard Mapping",
    "section": "",
    "text": "Introduction\nIt is important that when the PAMGuard Viewer is connected to a Tethys database, that it can correctly display lists of Tethys documents for that PAMGuard dataset. This help page explains the relationships between PAMGuard datasets and Tethys documents.\nA PAMGuard dataset is likely to consist of a database, and of a folder of binary files. There may also be sound recordings, though these are not required here.\nA Tethys database is likely to contain data from multiple PAMGuard datasets. These will be in the form of Calibration, Deployment, Detection, and Localization documents. Because the database name may change for a PAMGuard dataset, it is not used in the relationships between PAMGaurd and Tethys. Instead, the relationship relies on the Project name and on Instrument Id from the Array Manager. Because a project may have made several deployments using the same instrument, the dates of the Deployment are also used.\nEach document in a Tethys database has a Name (analogous to a file name and will indeed be the name of the temporary file created when the data were exported) and an Id (often referred to as the Document Id for clarity). For Deployment, Detections, and Localizations documents, PAMGuard will always use the same Name and Id. This is not possible for Calibrations, since there may be multiple copies of Calibrations documents (see below).\n\n\nDeployments\nDeployment documents are at the heart of the link between PAMGuard and Tethys. These are identified by the Project Name from the Projects metadata, and the Instrument Id from the Array Manager. When you open a PAMGuard dataset in Viewer mode, PAMGuard will query the Tethys database for all Deployment documents that have the same Project Name and the same Instrument Id and then from that list it will select those deployments which overlap in time with the PAMGuard data. The Instrument Type in the Array Manager is not used in this linkage.\nThis system is robust, since it is impossible to have the same instrument in two places at the same time. However it does require care on the part of the user to be consistent and careful in setting the Project Name and Instrument Id in PAMGuard.\nFor a static mooring, whether recording continuously or on a duty cycle, there will be one Deployment document for each PAMGuard dataset.\nFor vessel based surveys, where data collection periods may have been more ad-hoc (for instance only during the day time or periods of good weather), there may be multiple Deployment documents, one for each recording period.\n\n\nDetections and Localizations\nEvery Detections and Localizations document has a cross reference to a Deployment document. Therefore, to find these documents, PAMGuard first searches the database for matching Deployment documents, then for every Deployment document matched to the dataset, it runs additional queries to search for Detections and Localisations that match each Deployment.\n\n\nCalibrations\nCalibrations documents should be created for every hydrophone or microphone within the “Instrument” used for a deployment. Because a device may be reused on many Deployments or even across multiple Projects, and it may or may not have been calibrated for each one (or perhaps calibrated twice for each Deployment - before and after), the relationship between Calibrations, Deployments, and a PAMGuard dataset can be more complex.\nPAMGuard creates a name for each calibration document consisting of the Instrument Name and the Instrument Id from the Array Manager and the channel number. Spaces in names are replaced with underscore characters. e.g. if a Instrument Name was “SoundTrap HF600” and the Instrument Id was “64232”, and the channel number 0, then the calibration document Id would be\n    SoundTrap_HF600_64232_ch00\n    ```\n\nHowever, since there may be multiple calibration documents for the same device, the document name would also contain todays date, and would be something like\n\nSoundTrap_HF600_64232_250112_ch0\n```\nfor a document created on 12 January, 2025.\nWhen querying the Tethys database for matching Calibrations documents, PAMGuard first reads ALL Calibrations documents from the database, then selects all of those which have an Id starting with the combined Instrument Name and Instrument Id (in this case SoundTrap_HF600_64232). This selection will not use the document date, since the date of the calibration may not lie within the time period of the Deployment. It is therefore possible that you will see multiple copies of similar calibration documents when you link PAMGuard to a Tethys database. This is fine, the only requirement being that there is at least one calibration document for each hydrophone before PAMGuard will allow you to export Deployments or Calibrations.\nPrevious: Species Codes\nNext: Deleting Documents",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "PAMGuard Mapping"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_deleting.html",
    "href": "utilities/tethys/docs/tethys_deleting.html",
    "title": "Viewing and Deleting Documents",
    "section": "",
    "text": "Viewing Documents\nThe best way to view documents is the Tethys Web Client. This can easily be opened by pressing the Open Client button near the top of the display. Alternatively, if you’re not already running PAMGuard, you can just enter http://localhost:9779/Client/l into the title bar of a web browser (replacing 9779 with the appropriate port number if you’ve launched the Tethys server using a different port).\nIn the top right hand corner of the web page is a small image of the Tethys goddess. To the right of this is a small dropdown menu, where you can open pages listing the various types of Tethys documents.\n\nClicking on any document will open it and display it’s contents.\nYou can also jump straight to opening the web browser page for any document type using the small dropdown menu to the right of the Open Client button.\n\nIf Show in Browser is selected, the same web pages that are part of the Tethys Client will open. Otherwise, if Show in PAMGuard is selected, a documents list will open within PAMGuard:\n\nAt the top of this list, you can select the types of document to list. You can also use the checkboxes to only show documents from the current Tethys Project, or from the current PAMGuard dataset.\nTo view a document, right click on it and select Display Document … from the drop down menu and the document text will be displayed in a new window. You can copy text out of this window, but not change it.\n\n\nDeleting Documents\nDeleting documents is not something you should be doing often, but sometimes you will want to. Be particularly careful if you’re deleting a Deployment document, since it’s possible that some Detections and Localizations documents will be referring to that Deployment document, so you may end up with a Tethys database that’s going to behave abnormally. Ideally, if you need to delete a Deployment, delete everything to do with that Deployment and start over.\nDocuments can be deleted from the PAMGuard built in document viewer, described above. For safety, you are only able to delete documents associated with the Tethys Project you’re currently working with, though this may encompass multiple PAMGuard datasets. Once you’ve found the document you wish to delete in the PAMGuard document list, simply right click and select Delete Document ….\nPrevious: Tethys / PAMGuard mappings\nNext: Batch Output",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Viewing and Deleting Documents"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/detect_localize.html",
    "href": "utilities/tethys/docs/detect_localize.html",
    "title": "Detections and Localizations",
    "section": "",
    "text": "The bottom left panel of the Tethys module shows a list of different types of PAMGuard data that can be exported. The data in this list correspond to the various PAMGuard modules that have been configured. See the data model viewer help for an example of how PAMGuard might be configured.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Detections and Localizations"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/detect_localize.html#species-information",
    "href": "utilities/tethys/docs/detect_localize.html#species-information",
    "title": "Detections and Localizations",
    "section": "Species information",
    "text": "Species information\nSome of these data represent detections of specific species or phenomena that must be translated to Tethys. A context menu (right-click on most computers) will show the option “Species info…” that will allow you to specify the translation of events to species identifiers and call/sound types. If you try to export without having done this, the species info dialog will be started automatically prior to export.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Detections and Localizations"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/detect_localize.html#selecting-data-blocks-for-import",
    "href": "utilities/tethys/docs/detect_localize.html#selecting-data-blocks-for-import",
    "title": "Detections and Localizations",
    "section": "Selecting data blocks for import",
    "text": "Selecting data blocks for import\nIn the sample data blocks below, four modules have been configured, but only one of them has been run. Column “N Pam Data” indicates the number of data records that have been produced, and “PAMGuard Time” tells us when the data were processed. “Tethys Documents” indicates how many Tethys records have been produced, and should be 0 until the data are exported.\n\n\n\nList of results showing detections and other module processing events\n\n\nSelect the data blocks to be exported by clicking on them. Multiple lines can be selected by using keyboard modifiers such as holding the shift while clicking to select all data blocks between the last clicked block and where you click. Holding the alternate (ALT) key will allow selection or de-selection of a single item without affecting the selection state of other blocks.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Detections and Localizations"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/detect_localize.html#exporting-data-blocks",
    "href": "utilities/tethys/docs/detect_localize.html#exporting-data-blocks",
    "title": "Detections and Localizations",
    "section": "Exporting data blocks",
    "text": "Exporting data blocks\nOnce the data blocks have been selected, press export. A series of dialogs will guide you through the export process. The first set of dialogs simply display a summary of information about what will be exported.\n\n\n\nList of details describing the mechanism, parameters, and version of modules used in processing\n\n\nThere is nothing to change in this summary. Press Next once you have reviewed it.\n\nThe second panel allows you to check ITIS species codes and call types and to select which call types you want to export.\n\nThe next panel allows you to chose whether to export Detections, Localizations (if available), or both. Here, you can also select the granularity, which will be a choice of “Call”, “Encounter”, “Binned”, or “Grouped”, depending on the type of data. You can also select an optional data filter which will restrict the output using criteria specific to the detector you’re using. Note that there may be overlap between the data filter and the selections you make in the earlier species selection page.\n\nThis panel allows specification of your objectives, abstract, and method. Many modules will have pre-populated the method for you. It is recommended to populate the objectives and abstract with as much information as possible.\n\nPress Next to proceed to the next step of the dialog. You will be asked what details you wish to store within the parameters that were used to produce these data. Your must select one of the following:\n\nNone - Do not report any of parameters used to produce these detections. This option is not recommended as it severely limits your ability to reproduce your results at a later date or know whether or not the results of different studies can be used together.\nData selector only - Output only the details of the data filter (if any), for instance that selected only a type of sound, or sounds with a received level above a set minimum.\nModule only - Report the parameters that were set with this module. Only parameters associated with the specific module will be reported. Examples include score and duration thresholds as well as any other type of criterion used to determine whether or not an event is associated with a specific phenomenon or species.\nFull process chain (default) - This is the most verbose option. It includes the module parameters as well as anything else that is part of the signal processing chain that leads to the module. As an example, a module only setting would not report the parameters that were used to generate a spectrogram that was presented to a module for classification, but the full process chain would record these details as well. Use of this option will dramatically increase the potential to reproduce your results, but it will generate a large amount of data about the signal processing chain, much of which might not be useful.\n\n\nThe final page of the dialog has an “Export data” button. Press either this, or the Export button at the bottom of the dialog, to export the data. The system will begin generating the Tethys document and display progress as it works through the data. When complete, it will show a message to indicate that export was successful, or an error message.\nPrevious: Deployments\nTranslating species to taxonomic serial numbers (species encoding)",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Detections and Localizations"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/connection.html",
    "href": "utilities/tethys/docs/connection.html",
    "title": "Connecting to Tethys",
    "section": "",
    "text": "Make sure you have a Tethys Server running. The PAMGuard interface will only work with Tethys 3.1 or later. The section below specifies how to set the address of Tethys server address as well as determine if PAMGuard can communicate successfully with Tethys. (The top panel will be orange if communication is not working).",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Connecting to Tethys"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/connection.html#tethys-server",
    "href": "utilities/tethys/docs/connection.html#tethys-server",
    "title": "Connecting to Tethys",
    "section": "Tethys Server",
    "text": "Tethys Server\nThe Tethys Server field next to the picture of the goddess Tethys indicates the address of the Tehtys server. To change this field, click on the gear icon. You will be prompted to provide a computer address (URL) and a port. The address should start with http:// followed by the machine name or Internet protocol address unless the Tethys server has been configured to use an encrypted connection. In this case, start the address with https://.\nBy default, PAMGuard will use http://localhost:9779 which assumes that your Tethys server is running on the same computer as PAMGuard and that it expects communication on port 9779, the default port (administrators may change this).\nIf PAMGuard can communicate with the Tethys server, the Connection and Project panel will be light grey. If communication is not possible, the panel will be colored orange. Likely causes for communication failure are:\n\nTethys has not been started on the server machine. One of the main reasons that we see this is when the administrator has not configured Tethys to run automatically as a service. In that case, when a machine reboots (e.g., for automatic operating system updates) the server will not start automatically. The Tethys manual explains how to configure Tethys as a service that starts automatically when the machine boots.\nThe server address or port is incorrect.\nFirewall rules do not permit traffic between the machine executing PAMGuard and the one hosting Tethys on the selected port. If you do not have administrative privileges, you will need to contact your support team for help.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Connecting to Tethys"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/connection.html#project-and-instrument-information",
    "href": "utilities/tethys/docs/connection.html#project-and-instrument-information",
    "title": "Connecting to Tethys",
    "section": "Project and Instrument Information",
    "text": "Project and Instrument Information\nProjects are names used by Tethys to help track work that should be considered together, such as a series of deployments designed to answer a specific question or funded under a specific grant. If you do not already have a project defined in your PAMGuard database, you can click the “New Project” button in the “Connection and Project details” section of the Tethys module. This will start a dialog that asks for a case-sensitive project name and a geographic region. The geographic region is for convenience, PAMGuard and Tethys track information by longitude and latitude, but sometimes it is helpful to query for information with respect to a geographic name such as Channel Islands National Marine Sanctuary.\nThe array instrumentation is selected from a drop-down menu next to the Instruments label. A dropdown menu next to the label “Instruments” shows the list of hydrophone arrays. These are likely to have been previously established prior to starting analysis of your data by using the menu Settings -&gt; Hydrophone Array.\nIf you are a long-time user of PAMGuard, you will notice additional fields are required for instrumentation: Instrument Type and Instrument Id. The type indicates what type of instrument is being used and may be generic such as a mooring or array or denote a specific instrument such as a HARP, Rock Hopper, SoundTrap, etc. The Id is a unique identifier for the instrument such as a serial number. Note that if you are using an older PAMGuard database, you may see a blank entry in the instruments list as these new fields will not have been populated. Press new/edit to access the instrument settings from the Tethys module page.\nProject names and instrument names are important in maintaining the relationship between a PAMGuard dataset and related documents in Tethys. Read about PAMGuard Tethys mappings for further details.\nPrevious: Tethys module\nNext: Instrument calibrations",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Connecting to Tethys"
    ]
  },
  {
    "objectID": "utilities/spectrogramannotations/docs/using.html",
    "href": "utilities/spectrogramannotations/docs/using.html",
    "title": "Using Editing and Deleting",
    "section": "",
    "text": "Once configured, simply drag the mouse across the relevant spectrogram display panel.\nWhen you release the mouse a small dialog will appear where you can enter a short amount of text describing the sound\n\n\nEditing and Deleting\nOnce a mark is created, you can right click with the mouse close it it’s center and a pop-up menu will appear enabling you to edit or delete the mark (this is easier in viewer mode than during real time processing).\nYou can also drag the edges of the marks with the mouse to alter the time and frequency limits.\nPrevious: Annotations Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Spectrogram Annotations ",
      "Using Editing and Deleting"
    ]
  },
  {
    "objectID": "utilities/spectrogramannotations/docs/adding.html",
    "href": "utilities/spectrogramannotations/docs/adding.html",
    "title": "Adding and Configuring",
    "section": "",
    "text": "From the File&gt;Add Modules&gt;Utilities menu select ‘Spectrogram Annotation’ to add a spectrogram annotation module to your configuration.\nYou can have as many spectrogram annotation modules in your configuration as you like, but it is wise to only have one associated with each spectrogram panel in your displays.\nGenerally, you should change the name of each spectrogram annotation module to something more meaningful such as “Gunshots” or “Dolphin Whistle”\n\nSpectrogram Settings\nOnce one or more spectrogram annotation modules have been added to a configuration, you will find them listed on the “Mark Observers” tab of the spectrogram display settings (right click on the spectrogram to view these).\n\nCheck the spectrogram annotations you wish to associate with that spectrogram panel and close the dialog. The selected annotation modules will now recieve mouse messages when the mouse is dragged across the display.\n\n\nSpectrogram Display\nIf you wish to see the marks on the display once they have been created, you will also have to right click on the spectrogram panel and select the spectrogram annotation module you wish to be displayed.\n\nColour\nMarks will always be drawn in red as the mouse is being dragged across the spectrogram.\nThe default colour for marks once they have been created is black. This can be changed from the Display&gt;Symbols&gt;Your Annotation Module menu. In the symbol dialog only the top (line colour) colour is used, the fill colour and symbol type are ignored.\nPrevious: Annotations Overview\nNext: Using Annotations",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Spectrogram Annotations ",
      "Adding and Configuring"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_SpClust.html",
    "href": "utilities/SIDEModule/docs/SIDE_SpClust.html",
    "title": "Species Cluster Selection",
    "section": "",
    "text": "The Species Clusters panel allows the user to specify which species to test for.\n\nSpecies are selected by checking the box next to their name, under the type of test desired. For descriptions of the Quick Test and Random Drill Test, please see the Overview page. The selected clusters should match the species for which you intend to monitor.\nThe Nominal Range value is the minimum detection range for the species. This is used as the mean distance from the receiver for generated signals, and would typically equal your exclusion zone for that cluster. Signals will be injected both inside and outside the Nominal Range using the Test Range Limits (see below) as a modifier.\n\nTest Range Limits\nThe Test Range Limits window allows the user to specify the dispersion of the generated sounds.\n\nSpecies sounds are randomly distributed between the minimum distance (Nominal Range/Range Factor) and the maximum distance (Nominal Range � Range Factor). To minimize sequences injected at very close and very far ranges, edit the factor to 2. To increase the sequences that are injected at very close and very far ranges, increase the factor above 4\nPrevious: SIDE Module Creation and Configuration\nNext: Quick/Random Test Parameters",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Species Cluster Selection"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_ReportMatrix.html",
    "href": "utilities/SIDEModule/docs/SIDE_ReportMatrix.html",
    "title": "Reporting Matrix",
    "section": "",
    "text": "The Reporting Matrix links species clusters with detectors, allowing the user to select which detectors they intend to use so that the SIDE module can log and assess the detector performance. If the sensitive bandwidth of a detector does not overlap with the bandwidth of a sound, then the selection box will be disabled. For each cluster the operator can select a primary detector, which will appear first in any reports.\n\nIt is the responsibility of the operator to determine which detectors (besides the primary) should be selected. Some may not be suitable for particular sound types, or not used by the operator. For example, if the operator typically annotates a spectrogram or hits print screen to record a detection but rarely clicks the things I heard button, then only the first two options would be selected. There is no detriment to activating all actions; however, it will require additional analysis on the operators part to assess detection performance by combining all the actions, and selecting irrelevant detectors will generate a very cluttered report.\nThe SIDE module will only report the detection performance based on a single user action.\nPrevious: Information Tables\nNext: Sidebar",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Reporting Matrix"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_Overview.html",
    "href": "utilities/SIDEModule/docs/SIDE_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "The Signal Injection and Detection Evaluator (SIDE) Module offers the ability to predict detection efficacy and document real-time automated detector and human operator effectiveness as a function of distance (range) between a detector and the sound source. Incorporating the SIDE module into PAMGuard will improve the scientific validity of any monitoring and mitigation regimes that use PAM as part of their suite of survey methods. It will serve as a toolkit for performance monitoring on both commercial and non-commercial projects.\nIt is hoped that the integration of the SIDE module into PAMGuard will increase the pace of acceptance of PAM methodologies by regulatory authorities, by allowing an objective evaluation metric for critical assessment of in situ detection performance within specified monitoring distances and proposed PAM programs. In addition, the ability to automatically generate summary evaluation statistics in a standardized format will support and encourage the development and adoption of PAM standards throughout the industry. Importantly, use of SIDE will allow the efficacy and quality of different PAM operations to be objectively evaluated by non-specialists, and to allow operators to test the system themselves.\n\nClusters, Signals, and Sequences\n\nSpecies Clusters\nThere are over 70 species of marine mammals, and it is impossible to define a set of test signals for every one of those species. However, groups of related species often share similar signal properties. This has led to the definition of a set of species clusters for the SIDE module. A species cluster is defined as a group of marine mammal species that share similar acoustic signal characteristics. Each species cluster is associated with a specific default call type that is expected to occur over a particular frequency bandwidth, over a range of source levels (i.e. loudness), and with a particular structure (pulsive, tonal, frequency sweep, etc.) and repetition rate. There are 9 different species clusters in the SIDE modules that the operator can test with:\n\n\n\n\n\n\n\n\n\n\n\nSpecies Cluster Name\nSignal Type and Bounds\nDuration\nSource Level (pk-pk) [dB re 1 ?Pa @ 1m]\nNumber of signals in a sequence\nDepth distribution of injected signals [m]\n\n\n\n\nLow-frequency baleen whales\nRandom linear sweep between 15-100 Hz. Sweep is restricted to 1 octave (e.g. can sweep from 15-30 Hz, or from 50-100 Hz, but not from 15-100 Hz).\n2 s (� 0.5)\n192 (� 6)\nOne sound generated per sequence\n\n\n\nHigh-frequency baleen whales\nRandom linear sweep between 50 and 1000 Hz. Restricted to 1.5 octaves.\n2 s (� 0.5)\n163 (� 10)\nOne sound generated per sequence\n\n\n\nRight whale\nBased on right whale upcall. Shape is a quadratic sweep with three points drawn from frequency distributions of 90 � 15, 110 � 20, and 170 � 30.\n0.75 s (� 0.25)\n180 (� 2.5)\nOne sound generated per sequence\n\n\n\nSperm whale\n5-6 cycles of sound generated between 5 and 6k Hz. (1 ms duration). Hann windowed.\n0.001 s with slowly varying ICI (mean ICI = 0.5 s)\n189 (�2) slowly varying\n20 clicks per sequence.\n\n\n\nBeaked whales\nLinear up-sweep from between two distributions start is 20+/-5k Hz, end is 45+/-5k Hz.\n0.3 s � 0.003 slowly varying (mean ICI = 0.4 s)\n182 (� 9)\n10 clicks per sequence\n\n\n\nDolphin whistles\nLinear chirps between 2 and 24k Hz. Restricted to 1.5 octaves. No harmonics.\n0.5 s (� 0.2)\n149 (� 13)\n10 whistles generated per 10 s long cluster, with independent random starts\n\n\n\nDolphin clicks1\nSingle cycle pulse at 60k Hz (gives a click with a bandwidth of about 30-120k Hz).\n166ms (mean ICI = 0.1s, slowly varying)\n172 � 10\n10 clicks per sequence\n\n\n\nBlackfish tone\nRandom sweep between 4-8 k Hz, restricted to 0.6 octaves. 7 square wave harmonics.\n0.4 s (� 0.1)\n125 � 4\n2 sounds per sequence (2 s gap, but randomised)\n\n\n\nHarbor porpoise1\nFrequency at 130+/- 5k Hz. Raised sin window.\n77 (� 7) microseconds (mean ICI = 0.4 s, slowly varying)\n168 � 13\n10 clicks per sequence\n\n\n\n\n\n\nSignals\nA signal is defined as a discrete vocalization that has a specific duration, frequency range, amplitude and depth as described in the table above. Using these parameters, individual signals are generated and displayed in PAMGuard spectrograms.\nA synthetic signal detection should not result in an unnecessary mitigation event during application of the SIDE module in a commercial survey. Therefore, the signal generation algorithm uses only key characteristics of the signal necessary to trigger automated detections. The simplified signals are suitable for use with the PAMGuard detectors, which are generally looking for quite a broad range of sound types. Operators should be able to recognize signals from background noise, but not mistake them for actual marine mammal vocalizations. They are not suitable for use with species-specific classifiers (e.g. the Rocca module, or Whistle classifier), which will reject them as unknown or make a random classification.\nSynthetic dolphin whistles are shown in the image below. \n\n\nSequences\nWith the exception of some baleen whales, few cetaceans will make just one call over the course of a minute. In practice, PAM systems often make detection decisions based on an entire call sequence, rather than by individual signals. A sequence is therefore defined as a series of signals that are associated with one another in the call repertoire of the species cluster.\nThe SIDE module generates sequences in a manner relevant to how both automatic detectors and humans make detection decisions. The module randomly varies the number of individual calls in a sequence, however the mean number of signals per sequence for each species cluster remains consistent. As with the individual synthetic sounds, the intent was not to generate a series of sounds that represent the actual vocal output of an animal but to generate enough signal for a detector or alert an operator to determine that an animal is present.\n\n\n\nTests\nA Test is defined as a collection of rapidly injected sequences for each cluster to answer the question Can my system detect calls from a number of species clusters at specified distances, under the current noise conditions? In order to achieve this, a number of sequences of sounds are generated and injected into the current audio stream. The testing algorithm performs the following series of steps:\n\nRandomly generates a time to produce a sequence of signals\nGenerates a range, depth, and bearing of a source. The detection range of interest (generally the radius of the mitigation zone) and randomization factor can be set by the operator in the Species Cluster settings panel\nSelects the number of sequences to generate based on parameters provided by the species cluster (see table above).\nSynthesizes individual signals representative of the bandwidth and temporal structure specified for that particular species cluster (see table above).\nScales the signals according to the expected received level implied by the source slant range, source level distribution, and propagation law.\nInserts the appropriately scaled and time-delayed synthesized sequences into multi-channel real-time (or archived data being streamed in real-time) data streams. Accurate time delays are essential since they allow PAMGuard modules to accurately localize the signals. This is important since operators, and some detectors, often use the regularity of multiple calls being detected on a consistent bearing to confirm a detection.\n\nTwo types of test are available, a Quick Test (QT) and a Random Test (Drill). Both operate in almost exactly the same say and generate similar output, but serve slightly different purposes.\n\nQuick Test\nThe goal of a Quick Test is to determine the detection functionality of the PAM system in the current environmental conditions. The test is not intended to evaluate operator performance, but primarily to evaluate the efficacy of the automated detectors.\nSequences are run one after the other with little or no delay, in order to generate sufficient data for evaluation in the shortest possible amount of time. In the image below, the generated signals of a Quick Test are shown as blue highlighted contours.\n\nDetection matching takes place in real time, with the SIDE module monitoring data coming from each detector and matching the simulated sounds with the detections. Since a precise time of detection is available for automatic detections, a match between an injected signal and detection is counted if there is overlap in time and frequency of the simulated sounds (allowing for appropriate propagation time delays) and the detection.\nQuick Tests can be particularly useful at the start of a PAM operation to determine how well the system is operating under the current noise conditions. This could lead to reconfiguration of the detectors or changes to the hydrophone deployment in order to improve detection efficiency (confirmed by further quick tests) before operations start in earnest. Quick Tests can be repeated whenever conditions change and detector efficacy is in question.\n\n\nRandom Drill\nRandom Drills are intended to test both operator alertness and automated detector efficiency over much longer periods of time and different noise conditions. Sequences are injected into the audio stream like the Quick Test, but at an infrequent rate (every few hours) over a period of days or even weeks.\n\nOver an extended period of time Random Drills will generate the same statistics as the quick tests, but are more likely to capture the full range of operational (noise) conditions and operator attentiveness.\nNext: Configuring the SIDE Module",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_OpStat.html",
    "href": "utilities/SIDEModule/docs/SIDE_OpStat.html",
    "title": "Operations Status",
    "section": "",
    "text": "The Operations Status window allows the user to specify and log the current operating conditions or monitoring phase. Test statistics will be collected separately for each state. Critical Monitoring and Non-Critical Monitoring statuses are included by default. The Critical Monitoring state is intended for periods of active mitigation monitoring, while the Non-Critical Monitoring state is intended for periods of monitoring that are not required for compliance or prior to a critical monitoring period.\nIt is recommended that Quick Tests be performed during non-critical monitoring when possible. Random Drills can be implemented and edited throughout monitoring periods.\n\nThe current operations status can be selected from the drop-down text box. In order to properly log a status change to the database, a selection must be made from the text box even if the correct status is already displayed. When a status is selected, it will be shown in the Operations State table in the middle of the SIDE Module display, along with a time stamp to indicate when the status was changed.\nPressing the Edit button will allow the user to add custom operational status codes. For example, noise conditions may vary considerably when seismic shooting and not shooting, so it may be sensible to have separate statuses for each of those conditions.\nIt may also be desirable to avoid Random Drill tests during certain ‘Critical Monitoring’ periods such as immediately prior to line start. Random Drill tests can therefore be allowed or disabled for specific operations states by checking or unchecking the appropriate box.\nPrevious: Quick/Random Test Parameters\nNext: Information Tables",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Operations Status"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_Configure.html",
    "href": "utilities/SIDEModule/docs/SIDE_Configure.html",
    "title": "Creation and Configuration",
    "section": "",
    "text": "Creating a SIDE Module\nFrom the File &gt; Add Modules &gt; Utilities menu, select SIDE Module. Enter a descriptive name for the new module and press OK.\nUnlike most other modules, the SIDE settings are accessed from a User Display tab. Create a User Display by selecting File &gt; Add Modules &gt; Displays &gt; User Display. Enter a descriptive name for the display and press OK. Click on the tab that you just created. In the menu bar, select User Display &gt; New SIDE Module Display.\n\nThe following panel will be created. The configurable parameters are given along the left hand side.\n\nNote that clicking on an arrow () will show/hide a window panel. Use this feature if you are limited on screen space and don’t need to see all of the parameters.\nPrevious: SIDE Module Overview\nNext: Species Cluster Selection",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Creation and Configuration"
    ]
  },
  {
    "objectID": "utilities/quickAnnotations/docs/quickAnnotations.html",
    "href": "utilities/quickAnnotations/docs/quickAnnotations.html",
    "title": "Overview",
    "section": "",
    "text": "Quick Spectrogram Annotations are an extension that builds upon the more basic Spectrogram Annotations and allow the user to make marks on the spectrogram display and add a small amount of text to go with each mark.\nThey can be used either in real time or offline using the PAMGuard viewer\nData from the marks are stored in the PAMGuard Database.\nNext: Annotations Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Quick Annotations ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/quickAnnotations/docs/adding.html",
    "href": "utilities/quickAnnotations/docs/adding.html",
    "title": "Adding and Configuring",
    "section": "",
    "text": "From the File&gt;Add Modules&gt;Utilities menu select ‘Quick Spectrogram Annotation’ to add a spectrogram annotation module to your configuration.\nIt is wise to only have one Quick Annotation module, since this module can contain a list of user-defined labels that can be automatically applied to new Annotations upon their creation.\n\nSpectrogram Settings\nOnce one or more Quick Annotation modules have been added to a configuration, you will find them listed on the “Mark Observers” tab of the spectrogram display settings (right click on the spectrogram to view these).\n\nCheck the Quick Annotation modules you wish to associate with that spectrogram panel and close the dialog. The selected annotation modules will now recieve mouse messages when the mouse is dragged across the display.\n\n\nSpectrogram Display\nIf you wish to see the marks on the display once they have been created, you will also have to right click on the spectrogram panel and select the spectrogram annotation module you wish to be displayed.\n\n\nAutomatically applied labels\nThe Quick Annotation module can automatically apply a user-defined label to new annotations. These labels are configured via the Quick Annotation Settings &gt; Create and edit labels menu.\n\nThe Code column in the table titled ’_Lookup Editor (Quick annotations)’ _can be automatically applied to the annotations. These Codes will appear in the Quick Annotation sidebar. The code that is selected in the Quick Annotation sidebar will automatically be applied to newly created annotations if the box marked ‘Assign Label’ has a check.\n\nColour\nMarks will always be drawn in red as the mouse is being dragged across the spectrogram.\nThe default colour for annotations once they have been created is black. This can be changed via the Symbol column of the Table that appears when you click on Quick Annotation Settings &gt; Create and edit labels menu. In the symbol dialog only the top (line colour) colour is used, the fill colour and symbol type are ignored.\nPopup dialog\nIf the box marked ’Popup annotation dialog’ is checked, then the Annotation Dialog Box will popup when new Quick Annotations are created (i.e. the behaviour will be similar to the Spectrogram Annotation module). If this box is left unchecked, the label will be applied automatically, colour-coded spectrogram marks will be shown, but no dialog for further entry of text will be displayed.\nWav export\nChecking the box labelled ’Export new annotations as wav file’ will allow you to select a folder for WAV output. This functionality is similar to the Clip Generator, but Quick Annotations will operate and create WAV files identically in Normal, Mixed, and Viewer Modes (provided Viewer is configured to use Offline files). The names of WAV files will append the Code/Label, if assigned, as a prefix to the timestamp.\nPrevious: Annotations Overview\nNext: Using Annotations",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Quick Annotations ",
      "Adding and Configuring"
    ]
  },
  {
    "objectID": "utilities/listening/docs/Listening_Configuration.html",
    "href": "utilities/listening/docs/Listening_Configuration.html",
    "title": "Configuration",
    "section": "",
    "text": "You can configure the list of species and noise types in a dialog accessed from the _Detection&gt;Aural Listening Settings …_menu command.\n\n\n\nAural Listening\n\n\nUse the Add, Remove and Edit buttons to Add Remove and Edit items in the list of sound types.\nUse the Move up and Move down buttons to change the order of a selected item in the list\nItems on the main aural listening tab display will appear in the same order as they do in the list\n\nSymbols\nTo set a species specific symbol, double click on the symbol in the right hand column and a dialog will appear from which you can change both the symbol type, it’s size and it’s colour\nPrevious: Listening Overview",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Aural Listening Form ",
      "Configuration"
    ]
  },
  {
    "objectID": "utilities/hydrophoneArrayManagerHelp/docs/Array_NewStreamer.html",
    "href": "utilities/hydrophoneArrayManagerHelp/docs/Array_NewStreamer.html",
    "title": "Streamers",
    "section": "",
    "text": "A streamer in PAMGuard is a collection or cluster of one or more hydrophones that are physically connected and are expected to move together. The name ‘streamer’ is a bit of a misnomer these days. It comes from early PAMGuard versions when we were mostly dealing with towed hydrophone arrays, but the general concept applies to a wide range of equipment. Things that should be considered as a streamer include towed arrays, mooring buoys, fixed autonomous sensors, drifters, etc.\nIn many circumstances, there is flexibility as to how many streamers you have and how many hydrophones. For example, if you’d put out ten moorings and knew the GPS locations of each, enter them as a streamer each, with one hydrophone per streamer. If you have a very long array with multiple active sections, you may want to enter this as a separate streamer for each section so that you can use separate array sensors for each section to better determine the hydrophone positions.\n\nConfiguration\n\nThe Streamer name is for information purposes only.\n\n\nReference Position\nStreamer locations can be referenced to either the “Ships GPS Data” or to “Fixed location (moorings and buoys)”. If GPS data is selected then the system will automatically connect to data from the GPS Module. If a fixed location is selected, then additional options will appear allowing you to enter a reference Latitude and Longitude.\n\nTo change the position, use the menu on the button to the right of the displayed location. It is possible to enter a new value manually, take the current GPS position or to paste in the last location clicked on the PAMGuard map.\n\n\nHydrophone Locator Method\nTwo methods are available for calculating true hydrophone coordinates from the reference position. These are the “Threading Streamer” locator and the “Straight / Rigid Streamer” locator.\nThe Threading system is most applicable to towed hydrophone systems referenced to ship GPS data. It assumes that the streamer cable exactly follows the track of the vessel as it goes round corners. However, for hydrophones mounted rigidly on the hull of a vessel it would be more sensible to use the Straight / Rigid method.\nIf the reference position is a fixed location, then it only makes sense to use the Straight / Rigid method.\n\n\nHydrophone Coordinates\nEnter the hydrophone coordinates in metres relative to the reference position.\nAlso enter estimates of the errors on those coordinates.\n\n\nOrientation data\nFor GPS referenced locations, if these values are not null, they will override heading values from the GPS data. If they are null, then the GPS values will be used. Some users are starting to collect orientation data for hydrophones which can give a more accurate position than relying on the threading hydrophone model. See the Analog Array Sensors module information to see how you can hook up sensors to the array manager. If you wish to use other sensors, then it’s possible to program new PAMGuard modules which will integrate directly into the array management system. An example of this is the RION Compass plug-in module which reads a digital compass through a serial port. If you’re interested in adding additional sensors of your own, looking at the source code for the RION module is a good place to start, or contact the PAMGuard team.\n\n\nInterpolation\nThings sometimes move ! As we start to incorporate sensors into our arrays, it will be necessary to chose how to pick a position from a list of evolving positions over time.\nThese options tell the system to take the latest value entered by the user, to interpolate between values bracketing the time of an event or to use the values immediately preceding an event.\nPrevious: Array Configuration\nNext: Hydrophone Dialog",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Hydrophone Array Manager ",
      "Streamers"
    ]
  },
  {
    "objectID": "utilities/hydrophoneArrayManagerHelp/docs/Array_Configuration.html",
    "href": "utilities/hydrophoneArrayManagerHelp/docs/Array_Configuration.html",
    "title": "Array Configuration",
    "section": "",
    "text": "The array configuration dialog is now opened from the Settings&gt;Hydrophone array menu.\n\n\n\nHydrophone array dialog\n\n\nThe array dialog is divided into six distinct regions.\n1) Instrument Information\nThis is the name of the array or instrument. Provide a serial number for the Instrument Id if you can, otherwise any name that you can associate with a specific device.\n2) Hydrophone Diagram\nProvides a graphical display of the hydrophone positions within the array.\n3) Array Configuration\nLists the individual streamers and hydrophone elements making up the array.\n4) Channel Configuration\nLists the software channels associated with a Sound Acquisition Module..\n5) Environment\nLists environmental parameters.\n6) Array Management\nAllows you to create, import, export and rename different hydrophone arrays.\n\nInstrument Information\nThis is for book keeping purposes only and will help you to remember exactly how data were collected when you come back to this dataset in years to come.\n\n\nHydrophone Diagram\nThis part of the dialog is for information purposes only and there are no configuration options. Hydrophone positions are shown relative to the reference coordinate and heading. Physical hydrophone numbers are shown in black. Software channel numbers are shown in red. It is possible, if no software channel is connected to a particular hydrophone that the software channel will be absent for some hydrophones.\nCoordinate Frame\nFor towed systems it is assumed that the vessel’s GPS is at (x,y) = (0,0) and is travelling in the forward (increasing) y direction. Consequently, for an array towed astern of the vessel, y coordinates are generally negative numbers. For a single array in the centre line of the vessel with a centrally mounted GPS, all x coordinates will be zero, etc. For display purposes, depth is entered as a positive number, however developers should be aware that within the PAMGuard data model, the positive z coordinate is upwards, therefore depths are stored as negative numbers.\nFor fixed locations, the diagram is relative to the heading set for that mooring, which should be an angle relative to True North. If no heading is set, the angles are relative to True North.\n\n\nArray Configuration\nThis lists the individual streamers and hydrophone elements making up an array.\nSelecting an array\nIf more than one array is available within a configuration, a particular array may be selected using the drop down list. Note that only one array is loaded at any one time.\nHydrophone Streamers\nIf you are using a towed array you should define one or more streamers which will be shown in the Hydrophone Streamers table.\nA Streamer is used to refer to any cluster of hydrophones which share a common origin, e.g. a towed array or a buoy of some sort would normally be entered as a single streamer containing one or more hydrophones.\nUse the Add, Edit and Delete buttons to add, edit and delete streamers. When you add or edit a streamer the Streamer Dialog will appear which allows you to set up the streamer coordinates and other properties.\nYou will not be able to remove the last streamer. You will also only be able to delete a streamer if no hydrophones are associated with that streamer.\nHydrophone Elements\nThis area lists individual hydrophone elements. Each hydrophone is given a unique Id which is referred to in the Channel Configuration section and is also associated with a single hydrophone streamer.\nUse the Add, Edit and Delete buttons to add, edit and delete hydrophones. When you add or edit a hydrophone the Hydrophone Dialog will appear.\n\n\nChannel Configuration\nThe first stage of most PAM processes is to acquire the sound with a digitiser (e.g. a sound card) or some other Sound Acquisition module within the PAMGuard model.\nIt is possible for PAMGuard to operate with more than one Sound Acquisition module and a one-to-many relationship can exist between hydrophones and data channels within the sound acquisition modules. For instance, a single multi-element array may contain both low and high frequency hydrophones, some of which are connected to a low frequency digitiser and other high frequency hydrophones.\nThe drop down list at the top of the Channel Configuration panel will list all Sound Acquisition Modules currently instantiated in the PAMGuard data model. Information on a single Sound Acquisition module is displayed at any one time.\nBy default, when a sound acquisition module is created, it will map it’s channels 1 to 1 to the PAMGuard array. To change these mappings, select the software channel of interest in the Channel Configuration panel and press ‘Change hydrophone’ and select the hydrophone you want to relate to that software channel.\nOther parameters displayed in the list area of the Channel Configuration panel are set in the Sound Acquisition dialog and are for information only.\n\n\nEnvironment\nThis currently contains the speed of sound in sea water and an estimate of the error on the speed of sound measurement.\n(It is possible that future releases of PAMGuard will allow entry of a sound speed profile here ).\n\n\nArray Management\nWhen you have finished with the PAMGuard Hydrophone Array dialog, press the OK button.\nTo exit without saving changes, press Cancel.\nOther buttons perform the following actions:\nNew Array: Creates a new PAMGuard hydrophone array\nCopy: Copies the currently loaded array\nRename: Renames the currently loaded array\nImport: Imports a hydrophone array from a PAMGuard Array File (.paf)\nExport: Exports the currently selected array to a PAMGuard Array File (.paf)\nDelete: Deletes the currently selected array.\nPrevious: Overview\nNext: Streamer Dialog",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Hydrophone Array Manager ",
      "Array Configuration"
    ]
  },
  {
    "objectID": "utilities/generalDatabaseHelp/docs/database_sqlite.html",
    "href": "utilities/generalDatabaseHelp/docs/database_sqlite.html",
    "title": "SQLite Databases",
    "section": "",
    "text": "SQLite is a single file database and is an excellent replacement for Microsoft Access. Data are stored in a single file which can easily be backed up and copied between computers.\nSQLite is cross platform so should work on Mac’s and Linux platforms as well as Windows.\nSQLite is open source and free to use. A number of viewers are available to enable you to view data directly within the database file. We have tested and recommend SQLiteStudio which can be downloaded here.\n\nConfiguring an SQLite database\n\nPAMGuard will automatically create the necessary .sqlite3 database file on your computer.\nYou do not need to add tables to the database, PAMGuard will automatically create the tables it needs.\n\nAuto commit\nIf Auto commit is selected, the database file will be updated every time a new record is written to the database. This can have a serious impact on overall performance, so it not recommended.\nIf you have NOT selected auto commit, then changes will be written to the database at the following times:\n\nEvery three seconds\nWhenever the number of uncommitted records reaches 10\nWhenever PAMGuard stops\nWhenever PAMGuard exits\nWhenever tables are added to the database, or the database structure changed in any way\nIn Viewer Mode, whenever the data about to be reloaded.\n\nYou can also commit changes at any time, using the menu command File/Database/Commit Changes.\nBack to database main page",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Database ",
      "SQLite Databases"
    ]
  },
  {
    "objectID": "utilities/generalDatabaseHelp/docs/database_MySQL.html",
    "href": "utilities/generalDatabaseHelp/docs/database_MySQL.html",
    "title": "MySQL Databases",
    "section": "",
    "text": "MySQL can be downloaded for free from www.mysql.com/downloads/. Conveniently MySQL make a windows installer which contains both MySQL server and a client to access the data outwith PAMGuard and a nice workbench to easily manage everything. It is available from www.mysql.com/downloads/installer/\nOne disadvantage of using a MySQL databases is that the database consists of many files and transferring a database between machines and users is more complicated than for Access and some other database types.\n\nConfiguring a MySQL database\n\n\n\nMySQL Configuration\n\n\nTo connect to a MySQL database you will need to have a user name and password for the MySQL server you are connecting to. You will get this from whoever is administering MySQL on the machine you are working on.\nOnce you have successfully connected to the MySQL server, you can either select an existing database or you can automatically create a new database by pressing the ‘Create New’ button and filling in the name of the new database.\nYou do not need to add tables to the database, PAMGuard will automatically create all of the tables it needs.\nBack to database main page",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Database ",
      "MySQL Databases"
    ]
  },
  {
    "objectID": "utilities/generalDatabaseHelp/docs/database_database.html",
    "href": "utilities/generalDatabaseHelp/docs/database_database.html",
    "title": "Overview",
    "section": "",
    "text": "PAMGuard stores data from many modules in a database. The database not only stores detector output, but also detector configuration and settings so that it will effectively form a single document at the end of the cruise, detailing how PAMGuard was set up and what was detected.\n\nAdding a database module\nFrom the File&gt;Add Modules&gt;Utilities menu select ‘Database’ to add a database to your configuration.\n\n\nConfiguring the database\nPAMGuard can use either MySQL or SQLite databases. Support for Microsoft Access databases has been removed with the upgrade from Java 7 to Java 8. See here for information on how to convert old Access databases to one of the supported formats.\nThe setup for each databases type is slightly different, but operation and integration into the rest of PAMGuard is the same.\nTo configure the database, go to the File&gt;Database Selection… menu to open the Database Selection dialog. At the top of the dialog, select either MySQL, Microsoft Access or OpenOffice from the drop down list. Then refer to specific instructions for each database type below.\nConfigure an SQLite database\nConfigure a MySQL database\nConfigure a Microsoft Access database\n\n\nChoosing a database system\nWhich database system you use is largely a matter of personal choice.\nAn excellent article on the advantages and disadvantages of SQLite and MySQL is available here.\nBasically, SQLite is a single file database (rather like MS Access) which can easily be backed up and copied between machines just like any other data file. MySQL is a server based database which is much harder to move between computers but can better handle multiple users accessing the same data simultaneously. So if you’re in the field collecting data on a laptop, you’re almost definitely better off with SQLite. On the other hand, if you have the technical know how and want a managed database system back at the lab, you might consider MySQL as a solution.\nThe latest PAMGuard versions contain excellent facilities for moving data between different database systems.\n\n\nAdding tables to the database\nPAMGuard will automatically add the necessary tables to your database.\nIf a new detector module is added to PAMGuard at any point, the database module is notified and will add the additional tables required.\nIf a module is removed and a table is no longer needed, that table will be left in the database unaltered.\nShould the definition of a table change due to the new release of a module which outputs additional information, any additional columns required will be automatically added to existing tables.\n\n\nOther alterations\nYou may add other tables and queries to the database without affecting PAMGuard operation. Additional tables will be ignored by PAMGuard.\nYou can even add additional columns to tables which are used by PAMGuard and these additional columns will also be ignored.\nHowever, you should not change the format of any existing columns and do not create relationships between tables which may not always be satisfied or PAMGuard may be unable to write data to the database.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Database ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/depthreadout/docs/depth_configuration.html",
    "href": "utilities/depthreadout/docs/depth_configuration.html",
    "title": "Configuration",
    "section": "",
    "text": "From the File&gt;Add modules&gt;Utilities menu, or from the pop-up menu on the data model display select ‘Hydrophone Depth Readout’. Enter a name for the new module and press Ok.\nThe depth readout module is not dependent on any other modules and will automatically find and exchange information with the Hydrophone Array Manager. Go to Detection&gt;Hydrophone Depth Readout Settings… for configuration.\n\n\n\nDepth Configuration\n\n\n\nSelect Measurement Device\nSelect the data acquisition card you wish to use. Depending on the card type, it may be necessary to first configure the card using software provided by the card manufacturer. For Measurement Computing cards, you will need to run their ‘instacal’ configuration utility. You should also refer to your device manual.\nSelect the maximum voltage range of the device. Generally, this should be as small as possible, since this will improve resolution. Obviously, the range has to be greater than the maximum values you are expecting from your sensor.\nSet the number of sensors and the interval between readouts. After changing the number of sensors, hit ‘Enter’ and the number of panels in the lower part of the dialog will change accordingly.\n\n\nSensor Configuration\nFor each sensor, set the data acquisition cards hardware channel, the position on the cable and the hydrophone channels data from that sensor should be applied to.\nIf more than one sensor is set to apply data to the same hydrophone, then the actual hydrophone depth is calculated using linear interpolation based on the relative positions of the hydrophones and the depth sensors. This feature would be useful in longer arrays which may not be towing horizontally and contain more than one depth sensor.\n\n\nCalibration\nThe depth is calculated from the measured voltage using a simple linear model of the form\nDepth = A * Voltage + B,\nwhere A and B are constants.\nPrevious: Hydrophone Depth Overview",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Hydrophone Depth Readout ",
      "Configuration"
    ]
  },
  {
    "objectID": "utilities/BinaryStore/docs/matlabandr.html",
    "href": "utilities/BinaryStore/docs/matlabandr.html",
    "title": "R, Matlab, Python",
    "section": "",
    "text": "While the PAMGuard Viewer provides a powerful tool for reviewing data offline, many researchers want to wrte their own bespoke algorithms to further analyse PAMGuard detections or to plot and view the data in ways not available within the viewer.\nAlthough PAMGuard is fully open source, modifying the Java source code requires considerable programming expertise and is not for everyone. The PAMGuard team and our collaborators have therefore made available library functions for the R, Matlab, and Python programming languages, which allow users to unpack binary files into those programming environments for further bespoke analysis.\nAll libraries are freely available. For further information on how to install these libraries, and tutorials on how to use them, please refer to the PAMGuard Website.\nPrevious: Binary store overview\nNext: Binary store update",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Binary Storage ",
      "R, Matlab, Python"
    ]
  },
  {
    "objectID": "utilities/BinaryStore/docs/binarystore_update.html",
    "href": "utilities/BinaryStore/docs/binarystore_update.html",
    "title": "Binary Store Update",
    "section": "",
    "text": "Occasionally, we have to make format changes to the binary storage system. This is usually due to new features in some of the modules, but occasionally we also make changes to the main file structure.\nWe’ve done everything we can to keep PAMGuard backwards compatible with older versions, and are not aware of any backwards compatibility issues.\nHowever, the Matlab, R, and Python libraries, that can read binary files are only maintained for the latest PAMGuard file versions.\nIf you’re using these libraries with old PAMGuard data, or a data that mixes old and new data file formats, you’re going to run into difficulties.\nYou can update all data for a PAMGuard project in Viewer mode so that’s it’s in the latest format and will be compatible with the external libraries.\nUse the File &gt; Binary Store &gt; Update Old Binary Files … menu to open the update dialog.\n\nThis will show options to either overwrite existing data, or write data to a new folder, and a list of data outputs that use binary storage.\nSelect the options you want, and press Start. For most datasets, this will only take a few minutes. The first time you open the new dataset with PAMGuard Viewer, PAMGuard may need to recreate the Data Map, which will again take a few minutes.\nPrevious: Matlab, R, and Python interfaces",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Binary Storage ",
      "Binary Store Update"
    ]
  },
  {
    "objectID": "utilities/backupmanager/docs/backupmanager.html",
    "href": "utilities/backupmanager/docs/backupmanager.html",
    "title": "Overview",
    "section": "",
    "text": "The backup manager can be used to automatically backup (copy) data from PAMGuard on a daily basis, e.g. to external hard drives. For example, you might initially write data to internal hard drives, then want copies of the data made to external hard drives prior to deleting the data data on the internal drives.\nNote that this module is really intended to be used with PAMGuard installations running continuously, and is probably of very little use if you’re using it on a more ad-hoc or daily basis from a boat with an operator present\nThe three main outputs from PAMGuard are the Binary Store, the Database, and the Sound Recorder. Data for each of these can be automatically copied each day and then, if you wish, also deleted from the main hard drive.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/backupmanager/docs/backupmanager.html#configuration",
    "href": "utilities/backupmanager/docs/backupmanager.html#configuration",
    "title": "Overview",
    "section": "Configuration",
    "text": "Configuration\nTo use the backup manager, add a Backup Manager module from the utilities group menu: File&gt;Add Module&gt;Utilities&gt;Backup Manager\nYou then add (or use an existing) User Display and add a Backup Manager Display from the User Display menu.\n\nFigure 1. Backup manager display panel prior to configuration.\nUntil correctly configured, the backup manager won’t do anything. For each type of data you should add one or more actions. Possible actions for the binary store and the sound recorder are “Copy Files”, “Move Files”, “Delete Files”. The actions will take place in order, and the Delete action will not run if a preceding copy action has failed (e.g. due to an external hard disk being full).\nAdd the actions you want, then click on the configure button (small wheel) to set the destination folder.\n\nFigure 1. Backup manager display panel prior to configuration.\nActions for the database are slightly different: “Copy database” and “Clone database”. “Copy”” performs a straight forward file copy of the database file. “Clone” creates a new database, then runs a series of SQL commands to copy data from the old to the new database. The latter is slightly safer since the copied database can become corrupted if the database it updated while it is copying.\n\nOther types of data\nIf you also want to back up other types of data being collected on the same computer, but not by PAMGuard, then you can use the menu Settings&gt;Backup Manager&gt;Add Stream and then configure the new data stream on the main backup manager display to take files from within a designated folder and Copy / Move / Delete them as for the binary files and recordings above. As an example, we are using this to automatically backup data being collected using Tritech Genesis software which acquires data from multibeam sonars.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/backupmanager/docs/backupmanager.html#running-and-pausing",
    "href": "utilities/backupmanager/docs/backupmanager.html#running-and-pausing",
    "title": "Overview",
    "section": "Running and Pausing",
    "text": "Running and Pausing\nThere is currently only one available backup schedule whereby the backup is run each day at at 01:00 UTC. Other possible schedules allowing more user control may be added in the future.\nBy default, the backup will run every day. You can pause the backup, e.g. pausing for a few days while you wait for someone to change over external hard drives.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/backupmanager/docs/backupmanager.html#database-output",
    "href": "utilities/backupmanager/docs/backupmanager.html#database-output",
    "title": "Overview",
    "section": "Database Output",
    "text": "Database Output\nIf a database is present on the system, then a record of all backup actions for each file will be recorded in the database.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/Alarms/docs/Alarms_Display.html",
    "href": "utilities/Alarms/docs/Alarms_Display.html",
    "title": "Displays",
    "section": "",
    "text": "The status of each alarm is shown in the PAMGuard GUI side panel.\n\nUser Display\nA list of recent alarms can be shown in a User Display panel (the same PAMGuard modules you use for spectrograms).\nOnce you’ve created a user display panel, from the display menu, select “New Alarm history” and a panel containing a table of alarm events will appear.\n\n\n\nAlarm history\n\n\n\n\nOutput\nAlarm events will be written to the PAMGuard Database.\nPrevious: Alarms Actions",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Alarms ",
      "Displays"
    ]
  },
  {
    "objectID": "utilities/Alarms/docs/Alarms_Actions.html",
    "href": "utilities/Alarms/docs/Alarms_Actions.html",
    "title": "Actions",
    "section": "",
    "text": "From the alarm configuration dialog, select the “Actions” tab to chose what will happen when an alarm fires.\n\n\n\nAlarm Actions\n\n\nThree alarm actions are currently available:\n\nPlaying a sound\nSending a message via a serial port\nSending an email via SMTP\n\nAdditional alarm actions may be added in future releases\nData hold time refers to the amount of time (in seconds) that each trigger of the alarm is held in internal memory. Note the alarm triggers are stored immediately in the database, and the value entered here does not affect that. It will, however, affect how long the alarm is shown in the User Display Panel\n\nPlay a sound\nPress the settings button to select the sound you want to play. Sounds will be played back over the default sound output device. Sounds should be in wav file format and can be anything you want - a beep or even a recorded voice message.\n\n\nSerial Port Output\nThis option outputs a string of data over a serial (COM) port. Note that the format of the strings may vary depending on the alarm trigger.\nNote that if multiple alarms are used, all alarms will share a common serial port.\n\n\nSend Email\nPress the settings button to configure the SMTP email client. The following window is displayed:\n\n\n\nEmail Parameters\n\n\nThe values given for the Host and Port shown above are default for a Gmail account.\nIt is HIGHLY recommended that you create a new Gmail account for this application, and only use that account for this application. PAMGuard is open source software; as such, anyone with programming experience and access to your computer could potentially step through the code and find the password associated with the email account. To minimize this risk, the password is not stored in the psfx file or within PAMGuard - you will be required to enter it every time you start PAMGuard or change the email settings.\nEnter the email address of the account in the Account Username text box.\nEnter the email address to send the email to in the To Address text box.\nEnter the email address which will appear in the From field of the email, in the From Address text box. Note that this is typically the same as what you enter in the Account Username text box, but it does not have to be.\nCheck whether you want an email sent for an Amber alarm, a Red alarm, or both.\nPrevious: Alarms Configuration\nNext: Alarms Display and Storage",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Alarms ",
      "Actions"
    ]
  },
  {
    "objectID": "sound_processing/SpectrogramSmoothing/docs/AddingConfiguring.html",
    "href": "sound_processing/SpectrogramSmoothing/docs/AddingConfiguring.html",
    "title": "Configuration",
    "section": "",
    "text": "To add a new Spectrogram Smoothing Kernel module to PAMGuard, select the File&gt;Add Modules&gt;Sound Processing&gt;Spectrogram smoothing kernel menu command.\nIf there is not already a FFT (Spectrogram)) Engine present in the PAMGuard model, you will be prompted to create one.\n\nConfiguring the smoothing kernel\nTo configure the smoothing Kernel, go to the Detection&gt;Kernel Smoothing Settings … menu command.\n\n\n\nUser Input\n\n\nFrom the drop down list, select the data source and select the channels you wish to include in the output data of the smoothing process.\nPrevious: Spectrogram Smoothing Overview",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Spectrogram Smoothing ",
      "Configuration"
    ]
  },
  {
    "objectID": "sound_processing/soundRecorderHelp/docs/RecorderOperation.html",
    "href": "sound_processing/soundRecorderHelp/docs/RecorderOperation.html",
    "title": "Sound Recorder Operation",
    "section": "",
    "text": "Off\nIf the Off button is highlighted, then only triggered recordings will be made.\n\n\nAutomatic Cycle\nPressing the Automatic Cycle button causes the recorder to start recording for specified durations at predefined time intervals.\n\n\nContinuous\nPressing the Continuous button will start continuous recording. File lengths will never exceed the maximum set in the Options dialog. If a new file is started automatically, then no data will be lost and there will be no gap if you should join the files together again, or analyse them as a single file at a later date.\n\n\nContinuous + Buffer\nPressing the Continuous + Buffer button will have the same effect as the Continuous button, but the buffer contents will be written at the start of the file and the file name will reflect the start time of the recording (i.e. some time before the button was pressed).\n\n\nTriggered Recording\nSome detectors are capable of automatically triggering recording. The instructions that do this are hard coded into individual detectors. Detectors that trigger recordings will have a time to record from prior to the detection (using the buffer system as used with Continuous + Buffer manual recordings) and a time to record for after the detection. If multiple detections occur with the set recording times, recording will simply continue. These times may be hard coded in specific detectors or may be controllable by the user via menu items associated with the detectors in question.\nTriggered recording may be enabled and disabled for individual detectors using the check boxes on the main Sound Recorder display panel.\n\n\nSide Panel\nThe four main control buttons and status display are duplicated in a side panel for ease of operation.\n\n\n\nSound Recorder Side Panel\n\n\nIf a database module is active in the PAMGuard model, then AIS data will be logged to the database\nPrevious: Sound Recorder Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Recorder ",
      "Sound Recorder Operation"
    ]
  },
  {
    "objectID": "sound_processing/soundPlaybackHelp/docs/soundPlayback_soundPlayback.html",
    "href": "sound_processing/soundPlaybackHelp/docs/soundPlayback_soundPlayback.html",
    "title": "Sound Output Overview",
    "section": "",
    "text": "The sound output module can be used to play back sounds from PAMGuard through a sound card or other data acquisition device.\nThis allows you to aurally monitor sounds after they have been modified by PAMGuard modules such as Filters or the Seismic Veto\nThe availability of the sound output function depends on the type of input selected in the Sound Acquisition module.\n\nReal time play back\nWhen processing in real time, it is of course essential that sound output is at the same speed as the sound input. Ideally, you should select the same device for output as you are using for input to guarantee that they are running at exactly the same speed. Sometimes this is either impossible (because the input device doesn’t have any outputs) or impractical for other reasons in which case you can use a different device but should be aware that there may be ‘glitches’ in the output.\nIf you’re using the same device for output as for input, always use the same output sample rate. If using a different device, then you may need to use a different output sample rate, for example if your input data come from a high speed acquisition card sampling at 500kHz and you wish to play back through a sound card which can only output at 48kHz. In this case, PAMGuard will automatically decimate or up-sample the data so that the play-back is in real time. Of course, if you’re acquiring high frequency data, you’ll only be able to hear the part of that data that’s in the audio band.\n\n\nFile or PAMGuard Viewer play-back\nIf processing data from file, or using PAMGuard viewer, the speed at which data can play can be varied by the user via controls in the dialog or side panel.\nData will automatically be decimated or up-sampled to match the input sample rate, output sample rate of the device and the selected play speed.\n\n\nCreating sound output modules\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Sound Output”. Enter a name for the new module and press Ok.\nSound output modules can be inserted anywhere in the PAMGuard data model where there are raw audio data such as the output of a Sound acquisition module, a Filter module, a Decimator, a Seismic Veto, etc.\nNext: Sound Output Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Output ",
      "Sound Output Overview"
    ]
  },
  {
    "objectID": "sound_processing/soundPlaybackHelp/docs/soundPlayback_Config.html",
    "href": "sound_processing/soundPlaybackHelp/docs/soundPlayback_Config.html",
    "title": "Sound Output Configuration",
    "section": "",
    "text": "To access the module’s settings, select Detection&gt;Sound Output… from the main menu . This will bring up the Sound Output dialog.\n\nData Source\nThe sound output module requires a source of raw data before it can operate. Select a raw data source from the drop down list.\nSelect the data channels. Note that a sound card will only be able to play back two channels at a time and you will therefore only be able to check one or two boxes.\n\n\nOptions\nThe available options will depend on the type of sound acquisition device.\n\nSound Card and ASIO Sound Card Input\nIf using a sound card input, you will only be able to play back out through a sound card, and should ideally select the same device.\nYou will be restricted to two output channels. Once two channels are selected, other channels will be ‘grayed out’. De-select a channel in order to make a fresh selection.\n\n\n\nSound Output Dialog\n\n\n\n\nOther Input Devices\nIf using other input devices, (National Instruments cards, SAIL Daq cards, etc.) you can play back through any available device, though it is recommended that you use the same device if at all possible.\nThe sample rate of the output device does not need to match the input sample rate and PAMGuard will automatically up-sample or decimate data to convert between the input sample rate and the output sample rate.\n\n\n\nSound Output Dialog\n\n\n\n\nAudio files and File Folders\nSelect the output device type which can either be a sound card or a National Instruments device.\nSet the output sample rate. This can be anything so long as it is supported by the output device you are using.\nSet the play-back speed. This is how many times real-time the data will play at.\nPAMGuard will automatically up-sample or decimate data to convert between the input sample rate and the output sample rate, taking into account the playback speed.\nIf listening on headphones via a sound card, then an output sample rate of 48kHz or 96kHz is recommended. however, if you’re outputting data from PAMGuard for other purposes, such as driving a high frequency sound source, then you will need to select an appropriately high sample rate and ensure that you are using an output device that supports that sample rate.\nNote: During file analysis, if no channels are selected and there is no play-back, analysis will continue at the maximum rate possible using all available processor power. If sound play-back is enabled, then analysis will proceed at the speed governed by the sound play-back rate. If the processor can’t keep up with analysing data at the play-back rate, then play-back will appear interrupted and ‘glitchy’\nIt is possible to re-configure channels during analysis, so if you are analysing a lot of data, you may want to occasionally turn on sound output on one or two channels to have a listen, then turn them off again so that it processes as fast as possible.\nPrevious: Sound Output Overview\nNext: Sound Output Control",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Output ",
      "Sound Output Configuration"
    ]
  },
  {
    "objectID": "sound_processing/seismicveto/docs/veto_configuration.html",
    "href": "sound_processing/seismicveto/docs/veto_configuration.html",
    "title": "Configuration",
    "section": "",
    "text": "Creating a Seismic Veto\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Seismic Veto”. Enter a name for the new seismic veto module and press Ok.\n\n\nSeismic Veto Configuration\n\n\n\nSeismic Veto Configuration\n\n\n\n\nFFT Data Source\nSelect a source of FFT data for the seismic veto module. The veto module will automatically find the input raw data used to create the FFT / Spectrogram data.\nSelect the channels you wish to include in the Veto output data using the check boxes\n\n\nVeto Trigger\nSet the parameters of the veto trigger. To assist in setting the right parameters, you should view the Seismic Veto Trigger Function plugin on the bottom of a spectrogram display as shown below.\nThe lower black horizontal line shows the 0dB (or average noise) level, the upper line shows the trigger threshold\nClearly, when the signal rises above threshold, the veto has cut out all data in the spectrogram and replaced it with zeros.\n\n\n\nSeismic Veto Trigger\n\n\nThis shows the difference between current signal level in a given energy band and the background noise averaged over a set time period. The Seismic pulses should be clearly visible in the display window. Set the trigger threshold so that the seismic pulses rise above the threshold, wheras other sounds do not.\n\nTrigger Threshold\nIs the threshold value in dB between the current signal and the measured background.\n\n\nBackground smoothing constant\nTime in seconds that background noise should be measured over\n\n\nlow and high frequencies\nFrequency limits of background and noise level measurements\n\n\n\nVeto Actions\nSet the time you want the veto to start at relative to the start of the trigger\nGenerally you will want to start the veto a fraction of a second before the onset of the seismic pulse\n.\nSet the time you want the veto to continue for after the end of the trigger\nGenerally you will want to end the veto a fraction of a second after the end of the seismic pulse\n.\nSet whether you want to fill the vetoed data with zeros, or with random generated noise\nFor listening, zeros are generally more pleasant, but some detectors thresholds may adjust badly during a period of empty data and consequently get a number of false detections immediately the veto ends\nPrevious: Seismic Veto Overview",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Seismic Veto ",
      "Configuration"
    ]
  },
  {
    "objectID": "sound_processing/NoiseOneBand/Docs/NoiseOneBandDisplays.html",
    "href": "sound_processing/NoiseOneBand/Docs/NoiseOneBandDisplays.html",
    "title": "Displays and Output",
    "section": "",
    "text": "Measurements are shown on a scrolling display of sound pressure level vs. time.\nRight click on either the main measurement display or the pulse measurement display for display options.\n\n\n\nFilters Settings\n\n\n\n\n\nMeasurements are written to both the Database and the Binary Store if those modules are present in the PAMGuard configuration.\nPrevious: Filtered Noise Measurements",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Filtered Noise Measurement ",
      "Displays and Output"
    ]
  },
  {
    "objectID": "sound_processing/NoiseOneBand/Docs/NoiseOneBandDisplays.html#displays",
    "href": "sound_processing/NoiseOneBand/Docs/NoiseOneBandDisplays.html#displays",
    "title": "Displays and Output",
    "section": "",
    "text": "Measurements are shown on a scrolling display of sound pressure level vs. time.\nRight click on either the main measurement display or the pulse measurement display for display options.\n\n\n\nFilters Settings",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Filtered Noise Measurement ",
      "Displays and Output"
    ]
  },
  {
    "objectID": "sound_processing/NoiseOneBand/Docs/NoiseOneBandDisplays.html#output",
    "href": "sound_processing/NoiseOneBand/Docs/NoiseOneBandDisplays.html#output",
    "title": "Displays and Output",
    "section": "",
    "text": "Measurements are written to both the Database and the Binary Store if those modules are present in the PAMGuard configuration.\nPrevious: Filtered Noise Measurements",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Filtered Noise Measurement ",
      "Displays and Output"
    ]
  },
  {
    "objectID": "sound_processing/NoiseBands/Docs/NoiseBandsFilters.html",
    "href": "sound_processing/NoiseBands/Docs/NoiseBandsFilters.html",
    "title": "Filter Bank Method",
    "section": "",
    "text": "This module allows you to measure noise in frequency bands of different widths: Octave, Third Octave, Deci-Decade, Decade, 1/10 Octave, and 1/12 Octave. These measurements are compatible with the ANSI Standard ANSI S1.11-2004 American National Standard Specification for Octave-Band and Fractional-Octave-Band Analog and Digital Filters.\nThe method works by first measuring noise noise bands the highest octave of the available data using a bank of band pass filters. The data are then decimated by a factor 2 (or 10 for Decade bands) and a further set of measurements made in the next octave down (i.e. the highest octave of the decimated data). This process can be repeated for as many decimators / octaves of data that you wish, reaching lower and lower frequencies. Because the amount of raw data to be processed is halved in each decimator, each bank of filters requires increasingly less processing power.\n\nCreating the module\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select ” Noise Band Monitor”. Enter a name for the new module and press Ok.\n\n\nConfiguring the module\nTo configure the module, open the settings dialog from the Detection&gt;“your module name” menu:\n\n\n\nFilters Settings\n\n\n\nRaw Data Source\nSelect a source of raw data. This will generally be a Sound Acquisition Module or the output of a Decimator if a lower frequency noise measurement is required. Check the channels you want to measure noise on.\n\n\nOutput Interval\nEnter the interval between measurements in seconds.\n\n\nMeasurement Bands\nSelect the band type you wish to measure in from the drop down list, and the Reference Frequency, which is the centre frequency of a band, against which all other band centres will be calculated. By default, this is 1000Hz.\nSelect the maximum and minimum frequencies you want to measure between. Bands will then be calculated to fit between these limits, i.e. the upper edge of the highest band will not be greater than the maximum frequency and the lower edge of the lowest band will not be lower than the minimum frequency. e.g. if you are working with third octave bands and set the frequency limits to be 200Hz and 24kHz, you’ll get 20 bands between 222.7Hz and 22.63kHz.\n\n\nFilters\nSelect Butterworth or IIR Filters. Generally, Butterworth filters will operate much faster than FIR filters on a desktop computer. Generally 6th order Butterworth or 7th order (128 tap) FIR filters are more than adequate. The exact cut off frequencies and filter responses are shown for information only.\n\n\nBode Plots\nThe filter responses and the responses of the decimators are shown in the Bode plot on the right hand side of the dialog. It is also possible to overlay the various ANSI standards. The scale of the amplitude axis can be altered by double clicking on it.\nPrevious: FFT Method\nNext: Displays and Output",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Noise Band Measurement ",
      "Filter Bank Method"
    ]
  },
  {
    "objectID": "sound_processing/NoiseBands/Docs/NoiseBands.html",
    "href": "sound_processing/NoiseBands/Docs/NoiseBands.html",
    "title": "Noise Band Measurement",
    "section": "",
    "text": "PAMGuard contains two modules which can measure noise levels in multiple frequency bands. These are called the Noise Monitor and the Noise Band Monitor, both available from the File / Add Modules / Sound Processing menu.\nBoth modules should give the same results to within a fraction of a Decibel, so which you use is largely up to you. however, there are some subtle differences.\nThe Noise Monitor module works using FFT data as input. The resolution of the noise measurements in both time and frequency is therefore governed by how you’ve set up the FFF. For example, if you’ve data with a sample rate of 48kHz and are using a FFT length of 1024 samples, then the frequency resolution of the FFT will be 48000/1024 = 46.9Hz. Since the measurements are made by adding up multiple bins of data from the FFT’s, you can’t get a sensible measurement below a frequency bin size of about 200Hz. Further, the FFT time intervals may not align nicely with exact seconds, so the intervals between measurements may be a bit longer than you’ve asked for.\nThe Noise Band Monitor works differently, using a bank of filters to process the incoming raw data and these filters can go as low in frequency as you like, and take measurements from the data at the exat times you’ve asked for. On the other hand, the filter banks are slow to process, so this module will take more resources on your computer than the FFT based method.\nThe advantages and disadvantages of the two methods are laid out below\n\n\n\nMethod\nAdvantages\nDisadvantages\n\n\n\n\nNoise Monitor (FFT method)\nFaster (especially if you’re doing the FFT anyway); User can create non-standard bands\nPoor resolution at low frequency; Time intervals between measurement may not be precise\n\n\nNoise Band Monitor (Filter bank method)\nBetter resolution at low frequency; Accurate time intervals;\nSlower\n\n\n\nNext: FFT Method",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Noise Band Measurement ",
      "Noise Band Measurement"
    ]
  },
  {
    "objectID": "sound_processing/mel/docs/mel_overview.html",
    "href": "sound_processing/mel/docs/mel_overview.html",
    "title": "Overview",
    "section": "",
    "text": "A Mel Spectrogram is similar to an ordinary spectrogram, but on a logarithmic frequency scale. This tends to make frequency bins at low frequencies ‘larger’ and at high frequencies ‘smaller’ on a display.\nThe PAMGuard Mel Spectrogram module is a pure Java implementation of the popular Python librosa melspectrogram function, though the PAMGuard implementation only works of incoming FFT data, not raw audio data.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Mel Spectrogram ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/mel/docs/mel_overview.html#adding-the-module",
    "href": "sound_processing/mel/docs/mel_overview.html#adding-the-module",
    "title": "Overview",
    "section": "Adding the module",
    "text": "Adding the module\nTo add a Mel Spectrogram module to PAMGuard, first add a FFT module, then from the File&gt;Add Modules&gt;Sound processing menu select Mel Spectrogram, give the module a name and it will be added to your configuration.\nNext: Mel Spectrogram Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Mel Spectrogram ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/mel/docs/mel_config.html",
    "href": "sound_processing/mel/docs/mel_config.html",
    "title": "Configuring",
    "section": "",
    "text": "To configure the Mel Spectrogram, , go to the Detection&gt;“your module name” settings …“ menu.\n\nSelect the FFT data source from the drop-down list at the top of the dialog. If no FFT sources are available, you’ll have to add a FFT module.\nThe main parameters of the FFT module are displayed in the middle panel. Of these, the most important is the Frequency Resolution, since you can’t make Mels with a finer resolution than that which exists in the FFT module.\nSet the frequency range and number of Mels. The lowest frequency must be greater than 0, and should probably be bigger than the FFT frequency resolution. The smallest step between frequencies in the Mels is shown at the bottom of the panel. This should also be larger than the FFT frequency resolution, otherwise, all your Mels will be sampling exactly the same FFT data.\nSet the ‘power’ this is the power that samples from the FFT data will be raised to as they are summed into each Mel frequency bin.\nWhen you OK the dialog, it will issue a warning if the configuration of the Mels includes frequencies that are simply to small and close together to make any sense. If requried, you can change the frequency range of the Mel Spectrogram, the number of Mels, or adjust the FFT parameters - a larger FFT Length will give a finer frequency resolution, but a courser time resolution.\nNext: Mel Spectrogram Displays\nPrevious: Mel Spectrogram Overview",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Mel Spectrogram ",
      "Configuring"
    ]
  },
  {
    "objectID": "sound_processing/LTSA/Docs/LTSA.html",
    "href": "sound_processing/LTSA/Docs/LTSA.html",
    "title": "LTSA (Long Term Spectral Averaging)",
    "section": "",
    "text": "This module allows you to make average measurements of spectrum data over periods of several seconds.\nThe output of a typical spectrogram (for example a 512 pt FFT with 50% overlap operating on data sampled at 48kHz) produces around 200 FFT ‘slices’ per second. Consequently a typical laptop display 1600 or so pixels wide can only display around 8s of data if one pixel of the display is used for one ‘slice’ of FFT data.\nAn LTSA is a great way of viewing large amounts of data. For example, even averaging FFT data over a single second and displaying the result will mean that 200 time more data (about 20 minutes in this example) are shown on the display.\n\nCreating the module\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Sound Processing&gt; Long Term Spectral Average”. Enter a name for the new module and press Ok.\nSince the LTSA module needs to connect to the output of a FFT (spectrogram) module, if an FFT module is not already present, you will be prompted to create one.\n\n\nConfiguring the module\nTo configure the module, open the settings dialog from the Detection&gt;“your module name” menu:\n\n\n\nFilters Settings\n\n\n\nRaw Data Source\nSelect a source of FFT data. This will generally be a FFT (spectrogram) module. Check the channels you want to measure on.\nNext: Displays and Output",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "LTSA (Long Term Spectral Averaging) ",
      "LTSA (Long Term Spectral Averaging)"
    ]
  },
  {
    "objectID": "sound_processing/FiltersHelp/Docs/Filters_panel.html",
    "href": "sound_processing/FiltersHelp/Docs/Filters_panel.html",
    "title": "Filter Design",
    "section": "",
    "text": "Two main types of filter are available in PAMGuard.\nIIRF (Infinite Impulse Response) Filters are generally preferred since they are faster than the alternative FIR (Finite Impulse Response) filter types.\nHowever there may be circumstances when you prefer to use an FIR filter, particularly if an unusual filter response is required (for instance, one mimicking the hearing response of an animal, or with multiple ‘notches’ to remove noise).\nButterworth filters have a flat response over frequencies in the pass band, so are preferred for any processes that will be making noise measurements downstream of the filter.\nChebyshev filters have a slightly better attenuation, but at the expense of some ripple in the pass band.\nBoth types of filter can be configured from within PAMGuard’s filter design panel. This is used in the stand alone Filters Module, but also appears in the configuration for several other modules, including the click detector, the Decimator and some noise measurement modules.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Filters (IIR and FIR) ",
      "Filter Design"
    ]
  },
  {
    "objectID": "sound_processing/FiltersHelp/Docs/Filters_panel.html#configuration",
    "href": "sound_processing/FiltersHelp/Docs/Filters_panel.html#configuration",
    "title": "Filter Design",
    "section": "Configuration",
    "text": "Configuration\n\n\n\nFilters Settings\n\n\n\nFilter Type\nSelect the type of filter, which can be one of: “None”, “IIR Butterworth”, “IIR Chebyshev”, “FIR Filter (Window Method)”, “Arbitrary FIR Filter”, or “FFT Filter”.\n\n\nFilter Response\nFor Butterworth, Chebychev and FIR Filters using the Window Method, select either a High pass, Band Pass, Band Stop or Low Pass response and the filter cut off frequencies in Hz. Note that these should be greater than 0 and less than half of the sample rate.\nAlso set the filter order - this controls how steeply the filter will attenuate close to the cut off frequencies. High order filters use more processing power than low order ones and can also have a long impulse response which can reduce the time resolution of transient signals. Note that for FIR filters, the filter order parameter that you enter is actually the log base 2 of the length of the actual filter, i.e. a filter order of 6 will generate 64 tap filer, 7 a 128 tap filter, etc.\nFor Chebychev filters, you can also set the amount of ripple in the passband and for FIR filters, you can set ‘gamma’ which alters the rate of filter attenuation verses ripple in the stop band.\nFor IIR filters, in the lower left part of the dialog, you will see a pole-zero diagram. For FIR filters, this is replaced by the filter taps, or impulse response of the filter.\n\n\n\nFilters Settings\n\n\nIf you have selected an FIR Arbitrary filter, the dialog will change to show a list of frequencies and gains.\n\n\n\nFilters Settings\n\n\nIt’s currently only possible to update this list by creating and editing a text file, which should be a comma separated list of frequencies and gains, e.g.\n0, -80\n5000, -80\n6000, -40\n7000, 0\n11000, -5\n13000, -10\n15000, 0\n17000, 0\n17000, -30\n18000, -80\n24000, -80\nUse the import button to import the values from your text file\n\n\nBode Plot\nThe filter dialog displays a bode plot (attenuation verses frequency) for the chosen filter parameters. You can show this on either a logarithmic of linear frequency scale. Double clicking the amplitude axis will change the range of the amplitude scale.\n\n\nPole-Zero or Impulse Response Plot\nIn the lower left corner you will see either a plot of the filters Impulse Response, or a Pole-Zero plot (IIR Filters only). The Impulse response of a filter is the signal that will come out of a filter if a single unit sample is input to the filter, i.e. a 1 followed by an infinite number of zeros. It is important to understand since it shows how a filter will distort a waveform, generally delaying it, and elongating it in time. Particularly for very short sounds, such as dolphin echolocation clicks, the waveform you see in the click detector may be a function of any filters you’ve included in the detector as much as it is a function of the sound coming out of the animal.\nPole Zero plots are a part of IIR Filter design, but understanding them is probably not important to most PAMGuard users. When designiing IIR Filters, you can switch between pole-zero and impulse responde plots by right clicking on the display.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Filters (IIR and FIR) ",
      "Filter Design"
    ]
  },
  {
    "objectID": "sound_processing/fftManagerHelp/docs/noise_removal.html",
    "href": "sound_processing/fftManagerHelp/docs/noise_removal.html",
    "title": "Noise Removal",
    "section": "",
    "text": "The FFT Engine contains five different noise removal processes\n**Click Removal\nMedian Filter\nAverage Subtraction\nGaussian Kernel Smoothing\nThresholding**\nEach method can be enabled individually\n\nClick Removal\nThe click removal method operates on the time series data prior to the FFT calculation and therefore affects both output streams of the FFT Engine.\nClick removal measures the standard deviation of the time series data and then multiplies the signal by a factor which increases rapidly for large signal components. This has the effect of reducing the magnitude of short duration transient signals such as echolocation clicks\n\n\nMedian Filter\nWithin each spectrogram slice, the median value about each point is taken and subtracted from that point.\n\n\nAverage Subtraction\nA decaying average spectrogram is computed and subtracted from the current spectrogram value.\n\n\nGaussian Kernel Smoothing\nThe spectrogram is smoothed by convolving the image with a Gaussian smoothing kernel\n1 2 1\n2 4 2\n1 2 1.\n\n\nThresholding\nA threshold is applied and all data falling below that threshold set to 0.\nPrevious: Creating an FFT Engine",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "FFT (Spectrogram) Engine ",
      "Noise Removal"
    ]
  },
  {
    "objectID": "sound_processing/fftManagerHelp/docs/FFTEngine_Creating.html",
    "href": "sound_processing/fftManagerHelp/docs/FFTEngine_Creating.html",
    "title": "Creating",
    "section": "",
    "text": "From either the File&gt;Add Modules menu or the popup menu on the PAMGuard data model view, select new FFT (Spectrogram) Engine ?.\nYou will be prompted to enter a name for the new FFT Engine.\nThe FFT Parameters dialog will then be displayed allowing you to set-up the FFT Engine.\nPrevious: Overview\nNext: Configuring an FFT Engine",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "FFT (Spectrogram) Engine ",
      "Creating"
    ]
  },
  {
    "objectID": "sound_processing/EnvelopeTrace/Docs/EnvelopeOverview.html",
    "href": "sound_processing/EnvelopeTrace/Docs/EnvelopeOverview.html",
    "title": "Envelope Tracing",
    "section": "",
    "text": "This module allows you to drop the frequency of ultrasonic transient sounds into the audio band.\nFor example, if you’ve a high speed acquisition card set up to detect harbour porpoises, you won’t be able to hear them because the sounds are several octaves too high for human hearing and you won’t be able to play the sounds back over your sound card because the sound card won’t support those high sample rates\nEnvelope tracing takes place in four distinct stages:\n1. High frequency data are band pass filters. This allows you to select only the parts of the spectrum that you’re interested in.\n2. The high frequency data are rectified (i.e. all negative values are made positive).\n3. The data are smoothed using a low pass filter.\n4. The data are decimated to a lower frequency.\nIn the configuration below, high frequency data are going to a click detector and also via the envelope tracer to a sound output module. The output sample rate of the Envelope Tracer is set to 48kHz, which can be played back easily using a PC sound system\n\n\n\nEnvelope Model\n\n\n\nCreating the module\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Sound Processing&gt; Envelope Tracing”. Enter a name for the new module and press Ok.\n\n\nConfiguring the module\nTo configure the module, open the settings dialog from the Detection&gt;“your module name” menu:\n\n\n\nFilters Settings\n\n\n\nRaw Data Source\nSelect a source of Raw data. This will generally be a Sound Acquisition module. Check the channels you want to envelope trace on.\n\n\nFilter Band\nSelect the filter band you want to apply before the envelope tracing. This should generally be matched to the sounds you are most interested in.\n\n\nOutput\nSet the output sample rate and smoothing filter. The output filter should generally be a low pass filter with a cut off frequency at around half the output frequency.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Envelope Tracing ",
      "Envelope Tracing"
    ]
  },
  {
    "objectID": "sound_processing/ClipGenerator/docs/ClipGeneratorDisplay.html",
    "href": "sound_processing/ClipGenerator/docs/ClipGeneratorDisplay.html",
    "title": "Display",
    "section": "",
    "text": "Clips can be displayed on a User Display Panel.\nOnce you’ve created your Clip Generator module, an additional menu item will appear in the User Display Panel menu which you can use to create a display.\n\n\n\ndisplay menu\n\n\nThe advantage of incorporating the display into the more general user display panel is that is can be shown directly alongside spectrogram and radar displays.\nEach clip is shown as a small spectrogram. A number of controls at the top of the display allow you to change the time, frequency and amplitude scales of the spectrograms and also control how many are held in memory at any one time.\nTo create more space on the screen it’s possible to hide the control panel by clicking on it’s left border.\n\n\n\ndisplay\n\n\nPrevious: Overview\nNext: Clip Bearings",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Clip Generator ",
      "Display"
    ]
  },
  {
    "objectID": "sound_processing/ClipGenerator/docs/ClipGenerator.html",
    "href": "sound_processing/ClipGenerator/docs/ClipGenerator.html",
    "title": "Overview",
    "section": "",
    "text": "The clip generator module can be used to generate short sound clips (typically a second or so long) in response to either an automatic detection or to the user selecting an area on the spectrogram display.\n\nCreating a Clip Generator\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Clip Generator”. Enter a name for the new amplifier module and press Ok.\n\n\nConfiguring the Clip Generator\nTo configure the clip generator, you will need to set a source of audio data and also to set up triggers which can initiate clip generation.\nTo set up the clip generator, open the dialog from the “Detectors/Clip Generator” menu\n\n\n\nclip dialog\n\n\n\nSelect an audio data source\nSelect a source of audio data. This will usually be from a sound acquisition module but it may also be from a decimator or filter module\n\n\nSelect an output format\nSelect to store the clips either as wav files or in binary storage. The advantage of wav files is that it will be possible to open your clips with other software. The binary storage option stores the clips in a compressed format which uses slightly less disk space and also loads the clips more efficiently when looking at them with the PAMGuard viewer.\nEven if you are using wav file storage, you should include the Binary Storge module in your PAMGuard configuration since some book keeping information will still need to be stored in binary files\n\n\nSetup Data Triggers\nSelect which detectors can trigger clips.\nThis can be one or more of the detectors set up in PAMGuard. If using more than one detector though, you might find it easier to have separate clip generators for each detector so that files / binary data are stored in different folders.\nOnce you’ve enabled a trigger, configure it by pressing the adjacent “Settings” button\n\n\n\nbudget dialog\n\n\nSelect the channels you want to trigger from\nSelect the time in seconds before and after the actual trigger you want to record for.\nIf data are being stored in wav files, also set “file initials” - a few characters which will be added to the start of each file name\n\nData Budgets\nYou can set the clip generator to respond to every single detection or you can set a data budget which will limit the amount of recorded data in a given time period.\nThe latter option may be useful if you only want to store a few example sounds from each encounter for species id check, but also runs the risk of discarding important data !\n\n\n\nManual clipping\nTo generate clips manually, right click on a spectrogram display to open it’s settings dialog. Go to the “Mark Observers” tab and select the Clip Generator check box.\nWhen the spectrogram display is running, you will now be able to mark out regions with the mouse which will be used to fire the clip generator.\n\n\n\nmanual clipping\n\n\nNext: Clip Displays",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Clip Generator ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/beamformer/docs/Beamformer_Overview.html",
    "href": "sound_processing/beamformer/docs/Beamformer_Overview.html",
    "title": "Beamformer Overview",
    "section": "",
    "text": "Time-domain beamforming uses streams of audio input from multiple sensor channels, adds different time delays/advances to these audio streams, and then differentially weighs and sums them, resulting in one or more acoustic beams. These beams will be most sensitive in only one direction, the direction providing constructive interference. They will suppress noise coming from other directions, destructive interference, thereby improving signal-to-noise ratios in the desired direction. In effect, a beamformer is a spatial filter, filtering out all arriving signals except those in the direction of interest.\nAn alternative interpretation is that beamforming converts data from a multi-sensor/multi-channel array into data from a single directional receiver located at the array phase center. The direction in which this directional receiver is pointed can be changed via time delays and advances. Time-delay-and-sum beamforming is a phase-coherent array processing method. Other phase-coherent beamformers operate in the frequency domain, after taking Fourier transforms of the input time series data, phase delaying/advancing, weighting, and summing, and outputting one or more narrowband beams that can be integrated over a frequency band of interest for broadband signals.\nMore advanced algorithms (e.g., adaptive beamforming) can be used to electronically steer the beams under specified optimization criteria (e.g., minimize the beamformer’s output variance under the constraint of unity gain in the desired look direction), allowing the user to effectively look or listen in a specific direction while minimizing the interference from noise and sounds in other directions. These data-adaptive beamforming approaches are effective for maximizing array gain in the presence of interfering noise sources, such as airgun operations or vessel noise.\n\nImplementation\nPAMGuard’s Beamformer module offers two different types of frequency-domain beamforming algorithms: Basic (aka Conventional or Bartlett), and Minimum Variance Distortionless Response (aka MVDR). The Conventional beamformer uses a fixed set of weightings to combine signals from different channels. The MVDR uses uses an adaptive weighting scheme which seeks to minimize the variance of the input signal. The MVDR is more processor-intensive, but may result in better noise reduction and signal amplification.\nThe beamformer module can be configured two different ways. Individual beams can be defined, which point in a specific direction. Output from these beams is FFT data which can be used as input to other modules and processes. A beamogram can also be configured, which sweeps over an area/volume to reveal bearing angles from which higher amplitude signals are originating.\nNext: Configuring the module",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Beamformer ",
      "Beamformer Overview"
    ]
  },
  {
    "objectID": "sound_processing/beamformer/docs/Beamformer_AlgoConfig.html",
    "href": "sound_processing/beamformer/docs/Beamformer_AlgoConfig.html",
    "title": "Beamformer Algorithm Configuration",
    "section": "",
    "text": "Algorithm Dialog Tabs\nBoth the Basic Frequency Domain and MVDR Beamformer Algorithms have the same user-configurable options. The dialog window has 2 tabs: Individual Beams and Beamogram. The user is able to define either individual beams, a beamogram, or both, depending on the output desired.\n\n\nConfiguring Individual Beams\nIndividual beams can be created to focus the beamformer algorithms in a specific look direction. The output data of a beam can be used with any module that accepts fft data, such as a spectrogram or the Whistle & Moan detector. When selecting a beam to use, the ‘beam number’ is used in place of the channel number that is normally specified in a dialog.\n\n\nArray Information: The type of array as defined by the channels in this group, and the corresponding valid angle ranges. There are three possible array types: Linear, Planar and Volumetric.\n\nLinear arrays position all the hydrophones in a single line (1-dimensional). This type of array has both left/right and up/down ambiguity. The primary angle is defined in the direction of the main array axis (Y-axis, as given in the Array Manager) and is valid from 0� (positive Y) to 180� (negative Y). The secondary angle is undefined.\nPlanar arrays position the hydrophones in two different axes (2-dimensional). This type of array resolves one of the ambiguities of the linear array, but not the other. For example, a planar array with both axis in the horizontal plane (X and Y) would be able to distinguish between left and right of the array, but not above or below. In that case the primary angle is defined relative to the main axis (positive Y) and valid from -180� to 180�. The secondary angle is measured perpendicular to the plane, and valid from 0� (in the same plane) to 90� (directly above/below).\nVolumetric arrays position the hydrophones in all three axes (3-dimensional). This type of array has no ambiguity. The primary angle is defined relative to the main axis (positive Y) and valid from -180� to 180�. The secondary angle is defined relative to the perpendicular axis (positive Z) and valid from -90� to 90�.\n\nList of Individual Beams: A list of the currently defined beams. Selecting one of the beams will highlight it and display the beam pattern in the chart to the right (if all beam patterns are being displayed in the chart, the selected beam pattern will be shown in orange).\nBeam Generation Tools: To create a new beam, type in the primary angle and secondary angle, select the window type, and press the Add Beam button. Pressing the Delete Beam button will delete whichever beam is currently selected in the table above. Pressing the Create Default Beams button will automaticall create n beams, where n is equal to the number of channels in this group. The beams will be evenly spaced throughout the valid primary angle range.\nBeam Pattern chart: a chart displaying the beam pattern of the currently selected beam, in orange. If all beams are being displayed, the other beams will be appear in grey. The beam pattern shows the gain as a function of primary angle, at the specified secondary angle and frequency. The gain is an indication of the angles at which constructive/destructive interference will occur between the channels.\nBeam Configuration Tools: tools to allow the user to modify the beam parameters and immediately see the effect in the chart above. The parameters are applied only to the beam selected in the table to the left, which will be shown in orange in the chart. Checking the Display All Beam Patterns box will display all of the beams in the chart, with the selected beam in orange and the remaining beams in grey.\n\n\n\nConfiguring the Beamogram\nInstead of creating individual beams to identify signals originating from a specific direction, a beamogram can be used to sweep an entire range of directions. The resultant output is a ‘heat-map’ of the amplitude of the signal versus primary and secondary angles. The output can be shown on a User Display tab by selecting New Beamformer Display.\nA beamogram can be considered as a great number of individual beams, combined into a single output. As such, it is much more computationally-intensive and care should be taken when selecting the parameters below. Small step sizes and large angle ranges (i.e. fine resolution scanning) will require appropriate processor speed and memory.\n\n\nArray Information: The type of array as defined by the channels in this group. Valid angle ranges are given in the appropriate sections below. There are three possible array types: Linear, Planar and Volumetric. See the Individual Beams Array Information section for details of each.\nCheckbox indicating whether or not to calculate the beamogram.\nPrimary angle parameters: the minimum, maximum and step size to use when sweeping the primary angle. The direction and valid range of the primary angle depends on the type of array. See the Individual Beams Array Information section for details.\nSecondary angle parameters: the minimum, maximum and step size to use when sweeping the secondary angle. The direction and valid range of the secondary angle depends on the type of array. See the Individual Beams Array Information section for details.\nThe Frequency range: the beamogram requires much more processing-power than individual beams. In order to speed up the calculations and prevent memory overflow problems, it is recommended that the frequency range over which the beamogram is calculated be limited to the frequencies containing the signals of interest.\n\nPrevious: Beamformer Settings\nNext: Beamformer Output",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Beamformer ",
      "Beamformer Algorithm Configuration"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/sudfiles.html",
    "href": "sound_processing/AcquisitionHelp/docs/sudfiles.html",
    "title": "SUD Files",
    "section": "",
    "text": "SoundTrap recorders from Ocean Instruments store data in proprietary files called SUD files. See SoundTrap documentation for information on how to extract SUD files from SoundTrap recorders.\nEarlier versions of PAMGuard required you to ‘inflate’ the SUD files into standard wav audio files using the SoundTrap Host software before they could be processed.\nThe current version of PAMGuard no longer requires this since it can read data directly from the SUD files.\nInflating SUD files to WAV files generally required between 3 and 5 times as much disk space and could also take a fair amount of time, so not inflating will save both!\n\nSUD Index Files\nTo efficiently navigate SUD files, PAMGuard makes a map of each file and stores it in a new file in the same folder as the original SUD file. The index files have the same name as the original file, but end with .sudx. The index files are about 2.5% of the size of the original SUD files. When processing SUD files it is therefore important that a) the drive containing the SUD files is less than 95% full and b) that the system running PAMGuard has write access to the folder containing the SUD files.\n\n\nSUD File Times\nThe name of each SUD file contains the device serial number and a timestamp (data and time) in the form YYMMDDhhmmss. Note that these time stamps are in local time. When processing the file, PAMGuard will extract a UTC timestamp from within each SUD file and apply the UTC time to the data. you may therefore notice that the times of binary files and database entries differ from the times in the file names.\n\n\nMixing SUD and WAV files\nIf a SUD file and a WAV file with the same name are in the same folder, then PAMGuard will ignore the SUD file and process the WAV file. Note that in this case, PAMGuard will be unable to extract any metadata from the SUD file and will not extract SoundTrap Click Detections (see below).\n\n\nSoundTrap Click Detector\nIf you are using the SoundTrap build in click detector (see SoundTrap manuals) then the SUD files will also contain detected clicks.\nSee the help page for the SoundTrap Click Detector for information on how to get these clicks from the SUD files into PAMGuard.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Audio Files ",
      "SUD Files"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/SAILDaqCard.html",
    "href": "sound_processing/AcquisitionHelp/docs/SAILDaqCard.html",
    "title": "SAIL Daq Cards",
    "section": "",
    "text": "SAIL Daq Cards have been developed specifically for high speed USB data acquisition from hydrophones by St Andrews Instrumentation Ltd.\nEach card can support up to four channels of high speed audio input at sample rates of 62.5, 250, 500 or 1000kHz sample rate.\nThe analogue front end has been specifically designed for direct connection to most hydrophones, saving the need for additional preamplifiers and filter units between the hydrophone and acquisition system. A single high input impedance channel is suitable for direct connection to hydrophones which do not have an integral preamplifier.\nGain and filter settings are all software selectable, with gains of between 0 and 36dB in 6dB steps and second order Butterworth high pass filters at frequencies of 0, 10, 100, 2000 and 20000Hz.\nUp to three cards can be synchronised for simultaneous data acquisition on up to 12 hydrophone channels.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "SAIL Daq Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/SAILDaqCard.html#setting-up-sail-daq-cards",
    "href": "sound_processing/AcquisitionHelp/docs/SAILDaqCard.html#setting-up-sail-daq-cards",
    "title": "SAIL Daq Cards",
    "section": "Setting up SAIL Daq Cards",
    "text": "Setting up SAIL Daq Cards\nSetting up a sound card is easy. In the data acquisition dialog select “SAIL Daq Cards” as the Data Source Type.\n\n\n\nSAIL Daq\n\n\nEnable the channels you wish to use and set the gain and sample rates.\nIf more than one card is present, additional channels will be shown. Note that when multiple cards are in use, each card is ordered by it’s serial number. Press the “Flash LED’s” button to assist in identifying individual cards\nPrevious: National Instruments DAQ Cards\nNext: Simulated Sound Sources",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "SAIL Daq Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AsioHelp.html",
    "href": "sound_processing/AcquisitionHelp/docs/AsioHelp.html",
    "title": "Overview",
    "section": "",
    "text": "These instructions guide a user on how to configure the Asio Sound Card module in PAMGuard.\nIn PAMGuard users can tell the program to read a certain number of channels e.g 1, 3, 6, 7 …\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThis figure shows the result of 8 channels.\n\n\n\n8ChannelDisplay"
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionSimulator.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionSimulator.html",
    "title": "Simulated Sources",
    "section": "",
    "text": "PAMGuard can simulate data for a variety of different sound types from one or multiple sources.\nSimulated data are useful in training and are can be used by developers to test detection and localisation algorithms.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Simulated Sources"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionSimulator.html#setting-up-simulated-sources",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionSimulator.html#setting-up-simulated-sources",
    "title": "Simulated Sources",
    "section": "Setting up simulated sources",
    "text": "Setting up simulated sources\nIn the data acquisition dialog select “Simulated Sources” as the Data Source Type.\nThe dialog will then show a panel where you can create and alter any number of simulated objects.\n\n\n\nSimulated Sources\n\n\n\nBackground Noise\nBackground noise is simulated with a flat spectrum. Enter the spectrum level background noise level in dB re.1?Pa/?Hz.\n\n\nPropagation Model\nTwo very simple propagation models are currently available. These are Spherical Spreading and Spherical Spreading with a surface echo. If the latter is selected, the sea surface is assumed to be a perfect reflector.\nIt is possible that more sophisticated models will be added in the future.\n\n\nCreating and editing Simulated Objects\nYou can Add, Copy Remove and Edit objects in the simulated objects table using the buttons situated below the list of simulated objects.\nIf you Add, Copy, or Edit an object, the following dialog will appear\n\n\n\nSimulated Sources\n\n\nThe location for a new source is set at the current vessel position. Although it is possible to edit these positions here, it is easier to drag them to the desired location on the map display using the mouse.\nGive the sound source a name, select the sound type and set the signal amplitude in dB re.1?Pa p-p.\nSet the interval between successive sounds. If you check the ‘Randomise’ box, intervals will be selected at random between 0 and twice the Mean Interval. Otherwise, sounds will be regularly spaced in time. Note that the first one or each sound will always be generated at a random start time so that regular sounds with the same interval do not always perfectly coincide.\nYou can also set the source depth, course and speed over ground.\n\n\nProcessing speed and listening to simulated data\nIf no Sound Playback module is included in the PAMGuard configuration, or if no channels are selected in the Sound Playback module, then simulated data will be analysed as fast as possible, which could be considerably faster than real time.\nIf a Sound playback module is present and is in use, then analysis will run in real time and you will be able to hear the sounds being played back from the computers sound card\n.\nPrevious: SAIL Daq Cards",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Simulated Sources"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionNIDAQ.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionNIDAQ.html",
    "title": "National Instruments DAQ Cards",
    "section": "",
    "text": "National Instruments Data Acquisition devices offer PAMGuard users the highest sample rates and the highest numbers of channels.\nPAMGuard will work with M-series DAQ cards. In principle, any M-series card should work with PAMGuard, but the software has so far only been tested with PCI-6250 and USB-6251 devices.\nIf you plan to use a different device, you are strongly advised to install the National Instruments software (available from the National Instruments web site) and set up and test a simulated card prior to purchase. While this is not a 100% guarantee that the card will work with PAMGuard, if the simulated device doesn’t work, it’s very unlikely that the real one will. The PAMGuard team welcome any information regarding success or failure with other devices.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "National Instruments DAQ Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionNIDAQ.html#setting-up-national-instruments-cards",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionNIDAQ.html#setting-up-national-instruments-cards",
    "title": "National Instruments DAQ Cards",
    "section": "Setting up National Instruments Cards",
    "text": "Setting up National Instruments Cards\nNational Instruments cards and software drivers should be installed according to the instructions provided by National Instruments. The National Instruments software should be installed before starting PAMGuard\nSelect “National Instruments DAQ Cards” in the drop down list at the top of the Audio Data Acquisition dialog. You can then configure the card using the sound acquisition dialog shown below.\n\n\n\nSound Acquisition Dialog\n\n\n\nUsing a single National Instruments device\nMake sure that “Use Multiple DAQ boards” is not selected and choose the device you wish to use from the “Master Device” drop down list (there may be several National Instruments devices installed on a single system).\n\nTerminal Configuration\nThe terminal configuration you select will depend on how your hydrophone and pre-amplifiers have been connected to the National Instruments device. Detailed information on the four available configurations and how to use them is given in the National Instruments help files which should be installed on your system.\n\n\n\n\n\n\n\nTerminal Configuration\nOverview\n\n\n\n\nReferenced single ended\nSignals are referenced to a common ground (the AIGND) terminal\n\n\nNon-referenced single ended\nSignals are referenced to a common terminal (AISENSE) which is not necessarily the same as ground\n\n\nDifferential\nDifferential input signals are used NB. This may halve the number of available channels\n\n\nPseudo Differential\nDifferential input, but one side of the differential input is tied to ground via a resistor\n\n\n\n\n\n\nSample rate and number of channels\nSet the sample rate in Hz and the number of channels. This must be within the limits of the device. With most devices, the sample rate must be reduced for higher channel numbers, e.g. a PCI-6250 device can sample two channels at 500 kHz per channels but can only sample four channels at 250 kHz per channel.\n\n\nHardware channels\nSelect the hardware channels you wish to read. Note that it’s not possible to read the same channel more than once.\nWhichever hardware channels are selected, software channel numbering in PAMGuard will always be 0, 1, 2, etc…\n\n\nRange\nThe drop down list of ranges for each channel will be populated with a list of available input ranged for the selected device.\nSelect the range you wish to use. Note that the Peak to peak voltage range in the Calibration panel at the bottom of the dialog will automatically set to the range of the first channel. Values used in calculations of sound pressure levels in PAMGuard will use the correct values for each channel.\nIf the range list is empty, then it is likely that the device you have selected is not working correctly\n\n\nUsing multiple National Instruments devices\nIf you require more channels or higher sample rates than can be achieved using a single National Instruments device, it is possible to simultaneously sample from multiple devices. e.g. you could use two USB-6251 devices to sample four channels at 500 kHz sample rate per channel. In principle, you can use as many different devices as you like. In practice you will be limited by the number of PCI slots and USB ports on your computer and by the rate at which PAMGuard can process the data\nTo use multiple devices, check the “Use multiple DAQ boards” box on the dialog. The ‘Master Device’ selection will no longer be available and individual devices should be selected as shown below.\n\n\n\nSound Acquisition Dialog\n\n\n\nDevice and Channel Ordering\nAll Channels on each device must me grouped together as shown in the above example which reads channels 0 and 1 on Dev4, then channels 0 and 1 on Dev7. Reading Dev4 Channel 0 / Dev 7 Channel 0 / Dev 4 Channel 1 / Dev 7 Channel 1 is would not be allowed.\n\n\nIMPORTANT Timing information when using multiple devices\nWhen using a single device all timing (i.e. how often the device acquires samples) is taken from an internal clock in that one device. These are generally very accurate and the number of samples you expect to acquire in a given time interval will be very close to that time interval x the sample rate. However, if multiple devices are used, and each device acquires samples based on it’s own internal clock, the exact number of samples acquired by each device will gradually differ. For example, even if the clocks were 0.0001% accurate, after just two seconds sampling at 500 kHz sample rate, one device would have acquired one more sample than the other device. Small timing differences based on sample counts between signals arriving on multiple channels would therefore rapidly become meaningless.\nWhen using multiple devices, the internal clock in the first (or master) device is therefore sent to the other devices which use the master clock signal in preference to their own internal clock.\nYou must physically connect the clock signal from the master device to the other devices yourself: Using a single wire, connect the PFI 1 terminal of the master device to the PFI 1 terminals of all the other devices (yes, it is PFI 1 to PFI 1).\nIf you fail to do this, the other devices will not acquire data and you will continually receive the message “NIDaq Error DAQmxReadAnalogF64 code -200284 Measurements: Some or all of the samples requested have not yet been acquired …”\nPrevious: Audio File Folders\nNext: SAIL Daq Cards",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "National Instruments DAQ Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder - replaced_02_02_2017.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder - replaced_02_02_2017.html",
    "title": "Setting up Audio File Folders",
    "section": "",
    "text": "If you’ve a whole folder (or many folders) full or archived data than you wish to re-analyse, then you can set PAMGuard up to work it’s way through the whole lot in one go\nProcessing speed and dates and times operate in the same way as for single audio file analysis"
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder - replaced_02_02_2017.html#setting-up-audio-file-folders",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder - replaced_02_02_2017.html#setting-up-audio-file-folders",
    "title": "Setting up Audio File Folders",
    "section": "Setting up Audio File Folders",
    "text": "Setting up Audio File Folders\n\n\n\nFile Folder Configuration\n\n\n\nSelect and entire folder\nYou can select an entire folder by pressing the “Select Folder of Files” button and browsing for the folder containing the files you want to analyse.\n\nSub folders\nIf you want to analyse multiple sub folders of data, then check the ‘Include sub folders’ box.\n\n\n\nSelect multiple files\nIf you don’t want to select all files in a folder, then navigate into the folder and highlight just file files you want to analyse.\n\n\nMerging files\nFiles will be analysed in alphabetical order. It is not uncommon that a single recording session will have been broken into many short files. You can have PAMGuard merge files which are part of continuous recording together by checking the ‘Merge contiguous files’ box. If this box is not checked, then PAMGuard will stop at the end of each file and then restart on the next file.\n\n\nTime and Date\nDuring analysis, all times displayed on the screen and all times written to the database or binary storage will be based on the time extracted from the file name and the sample number within the file.\nIf a valid date cannot be extracted from the file name, then times will be based on the time at which analysis starts and the sample number within the files.\nIdeally the file times should be in UTC. If they are not, then the time zone of the file data can be set from the button to the right of the displayed file time.\nPrevious: Audio Files\nNext: National Instruments DAQ Cards"
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionConfiguration.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionConfiguration.html",
    "title": "Configuration",
    "section": "",
    "text": "To access the module’s settings, select Detection&gt;Sound Acquisition… from the main menu and click on the name of your module. This will bring up an Audio Data Acquisition dialog similar to the one shown below.\n\n\n\nSound Acquisition Dialog\n\n\nThe dialog is divided into four separate regions. the information in each region may vary depending on the type of input device you are using.\n\nData Source Type\nFrom the drop down list, select the type of input device you wish to use. Different input devices offer different numbers of channels, sample rates and quality of data. For many applications using just two channels of data in the human audio band, a standard sound card is adequate, but for higher sample rates, or higher numbers of channels, ASIO sound cards or National Instruments Data Acquisition devices may be required\nNote that not all input types are supported on all platforms.\n\n\n\nData Source Type\nWindows\nMac\nLinux\nRestrictions / Notes\n\n\n\n\nSound Card\nYes\nYes\nYes\nMaximum of two channels.\n\n\nConsiderable variation in quality between devices\n\n\n\n\n\n\nASIO Sound Card\nYes\nNot yet\nNo\nSome cards allow sampling on &gt; 2 channels\n\n\nAudio File\nYes\nYes\nYes\nAnalyse archived data. You should consider using Mixed Mode for this if you with to correctly localise sounds relative to GPS data.\n\n\n[Audio File folder\n\n\n\n\n\n\nor multiple files](AcquisitionFileFolder.html)\nYes\nYes\nYes\nBatch process many files.\n\n\nNational Instruments DAQ Cards\nYes\nNo\nNo\nSupport for multiple channels at high sample rates\n\n\nSAIL Daq Cards\nYes\nNo\nNo\nUSB input, high speed sampling on up to 12 channels (four per card).\n\n\nSimulated Sound Sources\nYes\nYes\nYes\nSimulated sources are useful for training, testing and developing new modules\n\n\n\n\n\nSelect audio line (or specific input device or file)\nThe information displayed here will vary depending on the type of Data Source. Please refer to instructions on specific data source configuration.\n\n\nSampling\nThe information displayed here will vary depending on the type of Data Source. Please refer to instructions on specific data source configuration.\n\n\nCalibration\nThe peak to peak voltage range of the device and the preamplifier gain are used by some PAMGuard modules to calculate absolute received signal levels in dB re. 1&mu Pa. For some devices, this information may be filled in automatically, for others you will need to enter it yourself. If you don’t know the input sensitivity of your device, don’t worry, PAMGuard will run, but amplitudes may not be accurate.\nIf your sound acquisition system has a DC offset in it (many do), tick the ‘Subtract DC …’ button and enter a time constant. A single pole high pass filter will then be applied to all incoming data.\n(Note that the ‘Bandwidth’ field has been removed since it was not used in any way)\nPrevious: Acquisition Overview\nNext: Sound Cards",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Configuration"
    ]
  },
  {
    "objectID": "sml/gaincontrol/docs/smlGainControl.html",
    "href": "sml/gaincontrol/docs/smlGainControl.html",
    "title": "Seiche Measurement Preamp Gain Control",
    "section": "",
    "text": "Help page under development.\n\n\n\nGain control dialog"
  },
  {
    "objectID": "sensors/arrayAccelerometer/docs/arrayAccelerometer.html",
    "href": "sensors/arrayAccelerometer/docs/arrayAccelerometer.html",
    "title": "Array Accelerometer Readout",
    "section": "",
    "text": "This module had now been replaced by the new Analog Array Sensors module.\nWe recommend that you switch to the newer module.",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Array Accelerometer ",
      "Array Accelerometer Readout"
    ]
  },
  {
    "objectID": "sensors/arrayAccelerometer/docs/arrayAccelerometer.html#overview",
    "href": "sensors/arrayAccelerometer/docs/arrayAccelerometer.html#overview",
    "title": "Array Accelerometer Readout",
    "section": "Overview",
    "text": "Overview\nThe Array Accelerometer module can be used to measure the pitch and roll of a hydrophone array.\nWith simple line arrays, knowing the precise orientation of the array is probably not necessary. However as more users move towards using multi-channel, multi-dimensional hydrophone arrays in order to determine animal locations in three dimensions, knowing the orientation of array sections becomes increasingly important.\nThree axis accelerometers are readily available at low cost (most of us probably have one in our phone and another in our camera). The PAMGuard Array Accelerometer module has been designed to specifically to work with the Analog Devices ADXL335. Users who don’t wish to, or don’t have the capability to incorporate surface mount IC’s into their hydrophone designs can use the EVAL-ADXL335Z Evaluation Kit. These are readily available from electronic component suppliers worldwide.\nThe system currently only works with MeasurementComputing data acquisition cards (www.mccdaq.com) but may be extended to support other devices in the future. It is possible to use the same MeasurementComputing card with the Array Accelerometer module and the Hydrophone Depth Module\nPith and roll information is passed to the hydrophone array manager which makes it available to other PAMGuard modules as required.\nhydrophone array configuration dialog.\nA small side panel shows a graph of recent pitch and roll history.\n\n\n\nAccelerometer side panel\n\n\n\nDatabase output\nBoth the raw voltage data and the calculated pitch and roll are written to the database. It is therefore possible to recalculate pitch and roll off-line if sensors are re-calibrated at any point. (PAMGuard will not currently do this for you - you’ll have to work it out for yourself using your own software).\nNext: Accelerometer Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Array Accelerometer ",
      "Array Accelerometer Readout"
    ]
  },
  {
    "objectID": "sensors/analogarray/docs/analogarraydisplays.html",
    "href": "sensors/analogarray/docs/analogarraydisplays.html",
    "title": "Displays",
    "section": "",
    "text": "Three different displays can be used to display array sensor data.\n\nTable Display\nA table of values is available which can be added to any PAMGuard user display from the User Display / New Analog Array Sensors table menu item.\nThis will show the configuration and the latest value read from each sensor channel in both it’s raw and calibrated forms.\n\n\n\nAccelerometer side panel\n\n\nHover the mouse over any item for additional information.\n\n\nDisplay Graphic\nA geometry diagram can be added to any PAMGuard user display from the User Display / New Analog Array Sensor graphic menu item.\nThis will show the configuration and the latest value read from each sensor channel in both it’s raw and calibrated forms.\n\n\n\nAccelerometer side panel\n\n\nThis will show a moving graphic of the pitch and roll of the array, with the array heading at the top of the display, and depth on the right.\n\n\nSide Panel\nA side panel can also be added to the main PAMGuard displa by adding an additional Array Orientation module from the Display / Array Orientation menu item. This shows similar information to the other displays in numerical and graphical format.\nThis will show the configuration and the latest value read from each sensor channel in both it’s raw and calibrated forms.\n \nPrevious: Calibration",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Analog Array Sensors ",
      "Displays"
    ]
  },
  {
    "objectID": "sensors/analogarray/docs/analogarraycalibration.html",
    "href": "sensors/analogarray/docs/analogarraycalibration.html",
    "title": "Calibration",
    "section": "",
    "text": "Go to Settings&gt;Analog Array Sensor Settings… and click on the calibration tab.\n\nFor each channel enter calibration constants which will convert the measured voltage or current into a Depth, Pitch, Roll or Heading. These all follow a simple linear formula:\nDepth (or heading, or pitch or roll) = (measured value + constant 1) * constant 2 + constant 3\nThere is some redundancy in this formula, but this is intended to make it easier to enter the correct calibration values. For example, if you were using a 4 - 20mA depth sensor which had a nominal maximum depth of 100m, the values would be calculated as follows:\nThe first value is simply the 4mA offset on the reading, so set it to -0.04\nThe second value is the range of the sensor (100m) divided by the range of the input device (16mA) so set it to 100/0.016 = 6250.0.\nThe third value can be left at zero\nNow consider the consequences of finding that there is a 3.2m offset in the depth readings. You could recalculate the first two constants, which would become -0.0045 and 6250. Much more simple will be to adjust the third parameter by the measured offset, leaving the first two alone, i.e. the three parameters become -.004, 6250 and 3.2.\nIf you require a non-linear calibration, please contact the PAMGuard development team.\nPrevious: Configuration\nNext: Display",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Analog Array Sensors ",
      "Calibration"
    ]
  },
  {
    "objectID": "overview/uid/docs/uid.html",
    "href": "overview/uid/docs/uid.html",
    "title": "Uinique Data Identifiers",
    "section": "",
    "text": "A New system of uniquely identifying individual PAMGuard data units was introduced in Version 1.16.00.\nThe system of Unique Identifiers (UID’s) makes it easier to identify individual data units on the different PAMGuard displays and to link to data when manipulating it with other software such as Matlab.\nIntroducing the UID system involved significant changes to both the the PAMGuard binary file system and to the PAMGuard database. Older datasets will be automatically updated to the new format which is NOT BACKWARDS COMPATIBLE.\nYou are therefore strongly advised to back up databases and binary files before attempting to use the new version.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Uinique Data Identifiers"
    ]
  },
  {
    "objectID": "overview/uid/docs/uid.html#stored-data",
    "href": "overview/uid/docs/uid.html#stored-data",
    "title": "Uinique Data Identifiers",
    "section": "Stored Data",
    "text": "Stored Data\nIn the PAMGuard database, all entries will have an additional UID column.\nIn the binary store, all data units will contain an additional UID field in general header data for each data unit.\nIn the binary store the UID’s are stored as a 64 bit integer. In the database the UId’s will be stored as a 64 bit integer if the underlying database supports 64 bit integers, otherwise they will be stored as a 32 bit integer. 32 bit integers allow for up to 2 billion individual UID’s which will be more than enough for any reasonable amount of data. There are a small number of very special circumstances where we think that 64 bit storage will be necessary, for instance the monitoring of fixed hydrophone installations over periods of many years.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Uinique Data Identifiers"
    ]
  },
  {
    "objectID": "overview/uid/docs/uid.html#new-data",
    "href": "overview/uid/docs/uid.html#new-data",
    "title": "Uinique Data Identifiers",
    "section": "New data",
    "text": "New data\nUID’s will automatically be added to any new data collected with PAMGuard version 2.00.00 or later.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Uinique Data Identifiers"
    ]
  },
  {
    "objectID": "overview/uid/docs/uid.html#converting-old-data",
    "href": "overview/uid/docs/uid.html#converting-old-data",
    "title": "Uinique Data Identifiers",
    "section": "Converting old data",
    "text": "Converting old data\nIf older data, collected with versions prior to 1.16.00 are opened with a version supporting UID’s, then a dialog will be shown to inform you that you need to make the data conversion. If you don’t want to convert, then press ‘Cancel’ and exit PAMGuard immediately.\n\n\n\nAUID Warning\n\n\nIf you do decide to proceed with the conversion, the the UID Repair tool Dialog will be shown. For safety, binary data will be copied to a new folder as the conversion takes place. By default, this will be the old folder name with “_withUID” appended to the folder name. You can change the new binary storage folder if you wish to at this point. If you still want to proceed, press OK and wait.\n\n\n\nAUID Warning\n\n\nConversion of a large dataset can take several hours. The time taken will depend on how much data there is, but also how many click events have been marked in the click detector. These pose a particular problem for conversion since the same UID has to be written to both the binary files and the OfflineClicks database table.\nWhen conversion is complete, it’s generally a good idea to restart PAMGuard to ensure that all datamaps are correct\nPrevious: Data Storage\nNext: Log Files",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Uinique Data Identifiers"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/viewerMode.html",
    "href": "overview/PamMasterHelp/docs/viewerMode.html",
    "title": "PAMGuard Viewer",
    "section": "",
    "text": "The PAMGuard viewer can be used to view data stored in the PAMGuard database and the binary storage system.\nSome viewer operations, such as the spectrogram display also load and re-process small amounts of raw audio data from sound files (if available).\n\nStarting PAMGuard Viewer\nThe PAMGuard viewer can be started from the shortcut to PAMGuard Viewer placed on your system when you installed PAMGuard.\nIf you are using one of the platform independent jar files, then run the jar file with the program argument -v. For instance, under Windows, the command line for starting PAMGuard Beta version 1.3.02 in viewer mode with 1 Gigabyte of memory is:\njava -jar -mx4096m PAMGuardBeta_2_02_15.jar PAMGuard -v\n\n\nRunning PAMGuard Viewer\nWhen PAMGuard starts in Viewer mode, it will not ask for a psfx file, but will instead ask for a database file to open. Normally, you should select a database which was previously filled with data from PAMGuard.\nWhen running in normal mode, PAMGuard writes settings to a table in the database and Viewer mode will read the settings back from the database. This ensures that the PAMGuard configuration you are viewing will be compatible with the data in the database.\nIf data were collected using only Binary Storage, of the database is unavailable for some other reason, then open a blank database and ignore any warning messages. This will create a blank looking PAMGuard with no modules apart from the binary store and Data Map. You can then import the correct settings from a psfx file to get the correct settings into the viewer using the File &gt; Import configuration … menu item.\nIf you can’t find the psfx file that was used to process the data, look in the binary storage folder. Each time PAMGuard starts, it writes a sopy of the psfx file into the binary storage folder for just this situation !.\nAs an absolute last resort, add the modules you need individually from the File &gt; Add Modules … menu.\nFor more information on how to continue your analysis in Viewer mode go to Click Detector Viewer Overview.\n\n\nData Scrolling\nIt is not possible to load entire large data sets into the Viewer since the program will run out of memory. On the other hand, it is inefficient to continually be loading data for display whenever the operator scrolls back or forth by a few seconds.\nThe PAMGuard viewer therefore uses a sophisticated double scroll system in which an outer scroller controls the loading of data into memory and an inner scroller moves through that data. For example, when viewing clicks with the click detector, an operator will probably want to load about 30 minutes of data at a time, but may only view minutes or seconds of those loaded data as they make a detailed analysis of the clicks.\nExactly which options are available on individual displays with PAMGuard can vary. However, the functionality will generally be a subset of that in the click detector:\n\nThe main part of the scroller (taking up most of the space on the left) is an ordinary scroll bar which allows you to navigate through loaded data. To the right are a pair of blue arrow buttons with a downward arrow button between them. The blue buttons are used to load the next section of data (e.g. to jump forward or backward half an hour).\nClick on the downward pointing arrow to display other options:\n\nOptions include the start time of the loaded data, the time period of the loaded data, and the percentage movement forward or backward when the blue arrows are pressed. (In the example above, 30 minutes of data are loaded, and there is a 75% step size, so the blue arrows would move forward or backward by 22.5 minutes).\nRight click on the downward arrow for an option to couple all scrollers in all PAMGuard modules.\nThe number in the right hand box shows the duration of data actually displayed in the window (120 seconds in the example). This can be changed by typing a new number or by using the small up and down arrow in the right of the edit box.\n\n\nPlay Button\nPressing the play button will cause the scroll bar to advance automatically, scrolling through the loaded data. Right click on the button to select different play speeds.\n\n\nScroller coupling\nIf several displays are shown within the same User display panel, then their scrollers are automatically ‘coupled’. That is, if one scoller is moved, the others will also move.\nRight clicking on the options button will give options to couple all scrollers within PAMGuard, i.e. so that when you move a spectrogram display scroller, the click detector time display will move with it.\n\n\nDataset navigation\nTo assist in navigating through large data sets, the Data Map will always be added to the PAMGuard model when operating in Viewer mode.\nPrevious: Normal Operation\nNext: Mixed Mode Operation",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Viewer"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/performanceTests.html",
    "href": "overview/PamMasterHelp/docs/performanceTests.html",
    "title": "Performance Tests",
    "section": "",
    "text": "PAMGuard puts a heavy load on the machine it’s running on\nMachine performance is dependent not just on the CPU speed but also on things like the quality of the graphics card and the types of hard drive\nThe PAMGuard team are developing a set of performance tests which can be run from within PAMGuard to assess the likely performance of different platforms\n\nRunning the performance tests\nOpen the performance tests dialog from the Help&gt;System performance Tests menu\nPress the ‘Start tests’ button\n\n\nInterpreting the output of the performance tests\nThese tests are currently under development and more information will be provided within the performance tests dialog in the near future\nAs a general guide:\nTest 3 the Double precision number crunching, should execute in less than 700 ms.\nTest 4 directly drawing dots on the screen should take around 400 - 500 ms\nTest 5 drawing dots using a buffered image should take &lt; 100 ms\nTest 6 drawing dots using a callback function should take less than 700 ms\nThese numbers are very preliminary and are based on tests carried out on a Dell Latitude D830 laptop with an Intel Core Duo CPU T9300 @2.5GHz with 3.5 GB of RAM. This machine runs PAMGuard very well.\nPrevious: Data Storage",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Performance Tests"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/pamGuardQuickStartGuide.html",
    "href": "overview/PamMasterHelp/docs/pamGuardQuickStartGuide.html",
    "title": "Quick Start Guide",
    "section": "",
    "text": "Installation\nThis assumes that you have successfully installed PAMGuard and started the application. If this is not the case, please see the PAMGuard Installation Guide included in the program download.\n****TO BE COMPLETED****\nPrevious: PAMGuard Architecture\nNext: Graphical User Interface Overview"
  },
  {
    "objectID": "overview/PamMasterHelp/docs/pamGuardArchitecture.html",
    "href": "overview/PamMasterHelp/docs/pamGuardArchitecture.html",
    "title": "PAMGuard Architecture",
    "section": "",
    "text": "Central to the software design is a flexible core architecture which allows the integration of a range of additional plugins. This provides you with flexibility, allowing you to tailor PAMGuard to your particular PAM operation.\nKey elements of the PAMGuard Core Functionality are:\n\nGUI Framework for PAMGuard displays and configuration options\n\nPAMGuard is an interactive cetacean detection and tracking environment with a variety of displays used both to configure and to display the output of a wide variety of detectors, mapping tools and sound processing modules.\n\nData manager and profiler\n\nA typical PAMGuard configuration will contain many data processing modules which produce many different types of data. The Data Manager handles all types of data, making data available to multiple displays and processes and also handling deletion and clean up of data from memory. It will also tell you how much computer power each process is using\n\nHydrophone array configuration and location manager\n\nPAMGuard contains a sophisticated hydrophone array manager, which can manage towed hydrophones, rigidly mounted hydrophones and fixed (i.e. bottom mounted) arrays.\n\nConfiguration and settings manager\n\nThe configuration manager offers an easy to use graphical depiction of loaded PAMGuard modules and the data flow between them. Configurations are stored in a format which can easily be sent between users or downloaded from the Internet.\n\nHelp manager\n\nPAMGuard contains comprehensive online help. If you’re reading this, then you’ve already found it, so press on …\nThe extensible nature of PAMGuard allows developers to easily add to PAMGuard’s functionalities. For instance, a developer who wishes to make a detector that requires spectrogram data as input can subscribe to an existing module that computes FFT’s and spectrogram information, which in turn will make use of PAMGuard’s sound acquisition modules to read data from a sound card, file, or some other input device. The PAMGuard data manager and GUI will then display and store output data from their detector with a minimum of programming effort through the use of standardised detection and data handling class structures.\nPrevious: PAMGuard Background\nNext: PAMGuard Modules",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Architecture"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/normalMode.html",
    "href": "overview/PamMasterHelp/docs/normalMode.html",
    "title": "Normal Operation",
    "section": "",
    "text": "During normal operation, PAMGuard collects data in real time via sound cards, GPS feeds, etc. The data are processed in real time by the PAMGuard modules and summary information is displayed on the PAMGuard GUI and / or written to the PAMGuard database.\nNormal mode is also used to process sound files, or folders of sound files, that might be from a ship based survey or from autonomous recorders. In this case, PAMGuard can be set up to process the data as fast as it can, or slowed down so that you can listen to the data as they are being processed.\n\nRunning PAMGuard\n(If you’re reading this, you’ve probably already worked this out !)\nIf you’ve used one of the platform dependent installers (Windows and Mac), then you should start PAMGuard from one of the shortcuts placed in your system menus.\nIf you are running one of the platform independent jar files (Linux), then you should tell the JAVA virtual machine to allocate as much memory as possible. For instance, under Windows, the command line for starting PAMGuard Beta version 1.3.02 with 4 Gigabyte2 of memory is:\njava -jar -mx4096m PAMGuardBeta_2_02_15.jar PAMGuard\n\n\nThe PSFX File\nPAMGuard saves it’s configuration between runs in PAMGuard Settings Files (.psfx).\nEach time you start PAMGuard a dialog will open asking you to select the psfx file you want to use.\n\n\n\nPAMGuard Configuration Launch Dialog\n\n\nEither select a recently used psfx from the drop down list or press the browse button to select a psfx file stored elsewhere on your system.\nSample psfxx files may be downloaded from the www.pamguard.org web site.\n\n\nPAMGuard WatchDog\nWhen collecting and processing data in real time you can use the PAMGuard WatchDog to keep PAMGuard running whatever happens\n\n\nBatch Processing\nIf you’re processing sets of data offline, you can use the Batch Processing Plugin to run the same configuration file on several different sets of data.\nPrevious: PAMGuard Modules\nNext: PAMGuard Viewer.",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "Normal Operation"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/multipleDisplays.html",
    "href": "overview/PamMasterHelp/docs/multipleDisplays.html",
    "title": "Multiple Displays",
    "section": "",
    "text": "Overview\nTo make the information displayed by PAMGuard easier to see you can create multiple graphics frames each displaying the tab panels from one or more plug in module.\nFor instance, you may want to put the map onto a separate frame and arrange your desktop so that you can view detector output in one frame and the map in another.\nThis is particularly useful if you have more than one monitor attached to your computer. Most Laptops and other computers support multiple monitors. (See your computer’s help files or manual for further information.)\n\n\nCreating frames\nTo create a new graphics frame, simply right click on one of the tabs in the PAMGuard GUI and from the menu, either move the tab to another already existing GUI frame or create a new one.\n\n\n\nMove Tabs\n\n\nIf an additional GUI frame is closed, it’s tabs will automatically be transferred back to the main GUI frame.\nIf the main GUI frame is closed, PAMGuard will exit.\nPrevious: Copying and Printing\nNext: Adding and Removing Plugin Modules",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Multiple Displays"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modelViewer.html",
    "href": "overview/PamMasterHelp/docs/modelViewer.html",
    "title": "Model Viewer",
    "section": "",
    "text": "The user can configure multiple PAMGuard modules in any number of ways, depending on the application. To assist the operator to appreciate how the different modules are connected and how data flows between them, the Data Model Viewer shows a graphical depiction of PAMGuard Modules and the processes and data within them.\nThe model viewer is opened from the File&gt;Show Data Model menu command.\n\n\n\nModel Viewer\n\n\nIn this example, eleven modules are being used in the following ways:\n\nArray Manager\nManages hydrophone locations and calibration information (always present in every configuration).\nMeta Data / Project Information\nProject metadata (always present in every configuration).\nNMEA Data Collection\nAcquires NMEA data from both GPS and AIS receivers (the data are multiplexed in the AIS receiver).\nGPS Processing\nTakes NMEA data, identifies GPS strings and unpacks the data in them.\nMap\nThe Map display.\nSound Acquisition\nAcquires audio data in real time from a sound card.\nClick Detector\nSearches for sperm whales and other odontocete clicks in teh raw audio data from the sound acquisition module.\nFFT (Spectrogram) Engine\nTakes audio data from the Sound Acquisition module, and then computes FFT’s of blocks of data.\nWhistle and Moan Detector\nSearches for dolphin whistles in the smoothed spectrogram data.\nUser Display\nGeneral display panel which can show spectrograms and many other data displays, depending on your configuration.\nBinary Store\nControls writing of detailed detection data to binary storage files.\nDatabase\nControls writing of navigation and detector data to a database.\nSound Output\nPlays sound back through the system speakers, or other compatible sound output device.\n\nFor each module, PAMGuard processes are shown in red. Some modules contain multiple processes. The percentage of available CPU power being used by each process is shown just to the right of the red box. Clicking on the red box with the right mouse button will often bring up a menu of options controlling that process.\nBelow each process there are one or more grey boxes. These represent data streams within PAMGuard. Data held within data streams may be of many kinds: blocks of raw audio data from the sound card, units of GPS data, and detected clicks and click trains are just examples. The number to the right of each grey box shows the number of data units currently held in memory for each data stream.\nOnly the main data flows from data streams to PAMGuard processes are shown by the arrows. So for example, although the database will be monitoring and receiving data from all data streams, yet no arrows are shown going into the database process.\nClicking on one of the grey data streams will bring up a window showing the full list of subscribers to that data stream.\n\n\n\nSubscribers\n\n\nThe window also shows for how long the subscribing module requires the data to be held in memory and also how much CPU the subscriber processes are using.\nRight clicking on blank space in the Model Viewer brings up a menu from where the user can add and remove PAMGuard modules.\nPrevious: Importing Modules\nNext: Project Information",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Model Viewer"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/logfiles.html",
    "href": "overview/PamMasterHelp/docs/logfiles.html",
    "title": "Log Files",
    "section": "",
    "text": "PAMGuard produces some text output, which is displayed in a “command window” that’s often hidden behind the main PAMGuard display.\n\nThe text in this window are also written to text files to provide a more permanent record of PAMGuard operation and bug reporting.\nThe log files can be found in the Pamguard sub folder of your user directory. On Windows computers, this will be C:\\Users\\***yourusername***\\Pamguard.\nThe easiest way to find this folder is to go to the PAMGuard Help menu and select Log File / Open Folder.\nThe text written to this window include important debug information which should be sent to the PAMGuard team to help diagnose any problems.\n\nDisabling log files\nIf you don’t want to write log files, then you can disable them from the Help / Log Files menu.\n\n\nAutomatic error reporting\nWhen PAMGuard starts, it will automatically analyse the most recent log file and search for errors. If errors have occurred, it will encourage you to send this log file and error report through the the PAMGuard team at bugs@pamguard.org.\nThis email will not be sent unless you agree, and press send. If you want to diable this feature, you can do so from the Help / Log Files / Check Log Files at Startup menu option.\nPrevious: Unique Data Identifiers",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Log Files"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/ImportingModules.html",
    "href": "overview/PamMasterHelp/docs/ImportingModules.html",
    "title": "Importing PAMGuard Modules",
    "section": "",
    "text": "Settings for individual modules or groups of modules can be imported into a PAMGuard configuration from other configurations on your system. To import modules from another configuration select File&gt;Import Modules…\nA file open dialog will open where you can select the PAMGuard configuration file (.psfx file) you wish to import from.\nOnce you’ve selected a psfx file, a dialog will appear showing a list of modules in that file and giving you options for importing those modules and their configurations into your current configuration.\n\n\n\nImporting Modules\n\n\nFor each module right click on the right hand (Import Options) column for a drop down list of options. These will be to not import the module, to overwrite the settings for an existing module or to create a new module.\nMake your selections and press Ok. Settings will be imported and modules created.\nPrevious: Adding and Removing Modules\nNext: Model Viewer",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Importing PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/datastorage2.html",
    "href": "overview/PamMasterHelp/docs/datastorage2.html",
    "title": "External Data Storage",
    "section": "",
    "text": "PAMGuard uses two external data storage systems:\n\nThe Database\nThe Binary Store\n\nEach has advantages and disadvantages.\nThe great advantage of the database is that stored data are generally in a form which is easy to read either as a human, or via some other software. However, the database interface can be slow and the database is very inefficient at handling variable length records, such as the waveform of a click, or the contour of a whistle.\nThe Binary store is fast and is great at handling any type of data, but the files are impossible to read except with proprietary software. There are software packages for R, Matlab, and Python which can read the binary files into these popular programming languages, thus allowing you to develop your own bespoke workflows.\nSome modules can only write to the database and some only to the binary store. Some modules, on the other hand, offer the choice of writing to both.\nFor all modules, the user can control whether or not data are stored in each location. This is controlled from the File/Storage options menu. Selecting this menu command will bring up a dialog looking something like this:\n\nAlthough the exact appearance will of course depend on which modules are loaded.\nGenerally, you are advised to make sure that all data are being stored in at least one of the locations and you should be aware that for data which have both options, it’s quite possible that less data will be stored in the database than in the binary store - for instance,the click detector does not store the click waveform in the database and the whistle detector does not store the whistle contour in the database.\nPrevious: Internal Data Storage\nNext: Performance Tests",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Storage ",
      "External Data Storage"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/CopyingPrinting.html",
    "href": "overview/PamMasterHelp/docs/CopyingPrinting.html",
    "title": "Copying and Printing",
    "section": "",
    "text": "Copying\nInformation from any PAMGuard display can be copied to the computer clip board in an image format which can be directly pasted into many desktop publishing applications\nTo copy the contents of any of the tabs on the main display, right click on the tab and select the ‘copy tab content to clipboard’ menu item. Then go to the application you want the image to appear in. for most applications, you can select ‘Paste’ from the Edit menu or press Ctrl and V simultaneously.\n\n\n\nMove Tabs\n\n\n\n\nPrinting\nDirect printing has only been implemented for the PAMGuard map.\nright click on the map and select ‘Print map …’ at the bottom of the pop-up menu\nPrevious: Graphical User Interface Overview\nNext: Multiple Displays",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Copying and Printing"
    ]
  },
  {
    "objectID": "overview/dataexport/docs/dataexport.html",
    "href": "overview/dataexport/docs/dataexport.html",
    "title": "Data Export",
    "section": "",
    "text": "The PAMGuard exporter allows users to export PAMGuard data, such as detections, to a variety of different formats. The exporter is a convenient solution for exporting sections or large chunks of a PAMGuard datasets without requiring any code. For more bespoke data management please see the PAMGuard-MATLAB library and PAMBinaries package which can be used for more bespoke data management. Note that the exporter only exports a sub set of data types - this will expand in future releases.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Export"
    ]
  },
  {
    "objectID": "overview/dataexport/docs/dataexport.html#exporting",
    "href": "overview/dataexport/docs/dataexport.html#exporting",
    "title": "Data Export",
    "section": "Exporting",
    "text": "Exporting\nThe PAMGuard exporter can be accessed from File-&gt;Export. This brings up the Export dialog. The export dialog allows users to select which data to export, where to export it and the file format to export as. Each data block also has a settings icon which opens the data block’s unique data selector. So for example, users can export only specific types of clicks or whistles between certain frequencies.\n\nDiagram of the exporter dialog. The dialog allows users to select which part of the dataset to export, how to export it and which type of data to export\nThe main parts of the dialog are as follows.\n\nData Options\nSelect which part of the dataset to export\n\nLoaded Data : the data currently loaded into memory i.e. usually what you can see in the displays - may be different time oeriods depending on the data type.\nAll data : the entire dataset.\nSelect data : manually enter a period between two times.\nSpecify time chunks : import a csv file with a list of time chunks.\n\n\n\nExport Options\nSelect where to export the data to using Browse… and select the maximum allowed file size using the Maximum file size selector. Select the format by toggling one of the data format buttons. Hover over each button to see more info.\n\n\nExport Data\nSelect which data to export. If a data type has a cog icon next to it then it has a data selector. The data selector settings can be used to filter which detections are exported. For example you may wish only to export clicks of a certain type or perhaps deep learning detections with a prediction value above a certain threshold. Each data selector is unique to the type of data. Note that the exporter only exports a sub set of data types - this will expand in future.\n\n\nProgress\nOnce Start is selected then the progress bars show progress in exporting the selected data.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Export"
    ]
  },
  {
    "objectID": "overview/dataexport/docs/dataexport.html#export-formats",
    "href": "overview/dataexport/docs/dataexport.html#export-formats",
    "title": "Data Export",
    "section": "Export formats",
    "text": "Export formats\nCurrently the exporter has three possible output formats.\n\nMAT files\nMAT files are files which can be opened easily in MATLAB and Python. They can store multiple different data formats e.g. tables, arrays, structures. Each PAMGuard detection is saved as a single structure and then the file contains an array of these structures for each data type. The fields within the structure contains the relevant data unique to each data unit. Whilst data units have unique fields depending on their type e.g. a click or a whistle, there are some fields that are shared between almost all data units - an example of a click detection structure is shown below\nGeneral fields shared by most data units in PAMGuard\n\nmillis: the unix*1000 start time of the click, whistle, clip etc. in milliseconds; this number can be converted to a date/time with millisecond accuracy.\ndate: the start time of the click in MATLAB datenum format. Use datastr(date) to show a time string.\nUID: a unique serial number for the detection. Within a processed dataset no other detection will have this number.\nstartSample: The first sample of this detection - often used for finer scale time delay measurements. Samples refers to the number of samples in total the sound card has taken since processing begun or a new file has been created.\nchannelMap: The channel map for this detection. One number which represents which channels this detection is from: To get the true channels use the getChannels(channelMap) function.\n\nUnique to clicks\n\ntriggerMap: which channel triggered the detection.\ntype: Classification type. Must use database or settings to see what species this refers to.\nduration: Duration of this click detection in samples.\nnChan: Number of channels the detection was made on.\nwave: Waveform data for each channel.\n\nNote that the format of each struct is the same as the format if extracting data using the PAMGuard-MATLAB library.\nTo open an exported .mat file simply drag it into MATLAB or use the function;\nload(/my/path/to/file.mat)\nTo open a .mat file in Python use\nimport scipy.io\nmat = scipy.io.loadmat('/my/path/to/file.mat')\nclkstruct = mat['det_20170704_204536_580'] #The name of the struct array within the file\n \n#Extract the third waveform from a click example\nnwaves = len(clkstruct[0]) #Number of clicks\nthirdwaveform = clkstruct[0, 2]['wave'] #Waveform from third click in samples between -1 and 1. \n\n\nR\nData can be exported to an RData frame. The data are exported as R structs with the same fields as in MATLAB (and PAMBinaries package). To open a an RData frame open RStudio and import the file or use;\nload(\"/my/path/to/file.RData\")\n\n\nWav files\nAny detection which contains raw sound data, for example a click, clip or deep learning detection, can be exported as a wav file. When wav files are selected three options are presented for saving files.\n\nWhen wav files are selected additional options are presented on how to save the file\n\nZero pad : Here detections are saved as wav files with the time in between detections zero padded. The resulting files will be as large as the initial wav files processed to create the data. This can be useful if for example opening the files in another acoustic analysis program.\nConcatenate : The detections are saved to a wav file without any zero padding. This saves storage space but temporal information is lost within the wav file. The sample positions of each detection are saved in a text file along with the wav file so that temporal info is available if needed. This is same format as SoundTrap click detection data.\nIndividual : Each detection is saved in it’s own time stamped individual sound file.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Export"
    ]
  },
  {
    "objectID": "overview/dataexport/docs/dataexport.html#after-export",
    "href": "overview/dataexport/docs/dataexport.html#after-export",
    "title": "Data Export",
    "section": "After export",
    "text": "After export\nOnce data are exported, the exported files are not part of PAMGuard’s data management system i.e. PAMGuard has no record they exist and they are not shown in the data model etc. If you export the same data again to the same location, then previous exported files may be overwritten without warning.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Export"
    ]
  },
  {
    "objectID": "overview/annotations/docs/targetmotionannotation.html",
    "href": "overview/annotations/docs/targetmotionannotation.html",
    "title": "Target Motion Annotation",
    "section": "",
    "text": "The Target Motion annotation can be used with the Detection Group Localiser to automatically localise detections which have been grouped by the user by estimating the most likely crossing point of bearing lines from those individual detections.\nThe Target Motion Annotation system uses the same algorithms as the real time Target Motion Analysis system in the click detector.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Target Motion Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/targetmotionannotation.html#usage",
    "href": "overview/annotations/docs/targetmotionannotation.html#usage",
    "title": "Target Motion Annotation",
    "section": "Usage",
    "text": "Usage\n\nConfiguring\nAny module using Target Motion annotations will offer a way of configuring the Target Motion analyser. (see Detection Group Localiser for an example). When you enter the configuration for the Target Motion analyser you will be presented with a dialog allowing to select the Target Motion Algorithm and other options.\n \nWhen data are added to an “event” or “group” the selected Target Motion Analysis algorithms will run on the data to compute the most likely crossing point of all the bearing lines. This location or locations will be saved to the database and will also be displayed on the PAMGuard map.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Target Motion Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/targetmotionannotation.html#stored-data",
    "href": "overview/annotations/docs/targetmotionannotation.html#stored-data",
    "title": "Target Motion Annotation",
    "section": "Stored Data",
    "text": "Stored Data\nSeveral columns are added to database tables to provide the results of the Target Motion analysis and an estimate on the errors on resulting locations.\nIf there is a left-right ambiguity in the bearings from the data input to the Target Motion analysis, then two sets of possible localisations will be generated ans stored.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Target Motion Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/annotations.html",
    "href": "overview/annotations/docs/annotations.html",
    "title": "Overview",
    "section": "",
    "text": "PAMGuard contains many different types of detector, most of which have their own unique set of output data which get stored either in the Binary Store or in the Database.\nHowever, many types of data will have common measurements or manually entered comments associated with them. Since PAMGuard version 2.00.00 these have been organised into Data Annotations.\nAnnotations are built in as fixed parts of several PAMGuard modules, for example the Spectrogram Annotation module, and the Group Detection Localiser.\nModules employing the user selectable annotations framework may only offer a subset of the full list of annotations, depending on the compatibility of the annotation with the type of data generated by the module.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Overview"
    ]
  },
  {
    "objectID": "overview/annotations/docs/annotations.html#annotation-data-storage",
    "href": "overview/annotations/docs/annotations.html#annotation-data-storage",
    "title": "Overview",
    "section": "Annotation Data Storage",
    "text": "Annotation Data Storage\nMost annotations are currently configured to save their data by adding additional columns to pre-existing database tables storing the output of particular modules in the PAMGuard Database. Future releases may also add annotation data to the Binary data store.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Overview"
    ]
  },
  {
    "objectID": "overview/annotations/docs/annotations.html#data-annotation-types",
    "href": "overview/annotations/docs/annotations.html#data-annotation-types",
    "title": "Overview",
    "section": "Data Annotation Types",
    "text": "Data Annotation Types\n\nSound Measurements\nThere are currently three annotation types which measure or act on sound data. These are:\n\nSNR Measurement. Measures Signal to Noise Ratio.\nSPL Measurement. Measures Sound Pressure Level.\nWAV File. Creates a WAV file clip.\n\nThese are only currently used built into larger modules\n\n\nUser Input\nThere are two annotation types which invite the user to enter additional input to describe something they are observing on the PAMGuard Display. These are:\n\nText Annotations. Allows a simple line of text to be entered.\nUser Form Annotations. Allows the design and use of a more complex data entry form.\n\n\n\nLocalisation\nThere is currently a single annotation type which adds localisation information to data. This is:\n\nTarget Motion Annotations. .",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Overview"
    ]
  },
  {
    "objectID": "mapping/NMEA/docs/NMEAConnections.html",
    "href": "mapping/NMEA/docs/NMEAConnections.html",
    "title": "NMEA Connections",
    "section": "",
    "text": "Often on larger boats, NMEA signals will be distributed by wire and available at several location.\nConnection to a 9 pin serial connector is very simple. In a 9 pin D plug connect:\n\nPin 2 to NMEA Data in (‘Data Out’ form GPS or other NMEA device)\nPin 5 to Ground (usually the same wire as connects to the negative of the power supply)\n\nIt is not necessary to make any other connections. PAMGuard does not send any data back to the GPS, so connection of Pin 3 (NMEA Data Out) is not necessary.\n\nUsing Serial to USB converters\nMost PC’s no longer have a built in serial (RS-232) port. If you don’t have a serial port, then purchase a serial to USB converter. Follow the manufacturers installation instructions for the converter and once installed connect your NMEA device. Your device will appear in the NMEA configuration dialog as a normal serial port.\nNote that if you move the serial to USB converter to a different serial port, then your operating system may re-install the drivers and assign a different serial port number, in which case you will have to reconfigure the NMEA settings in PAMGuard.\n\n\nUsing a USB GPS\nSome GPS’s have an USB connector instead of a serial one. In reality, the data are still the same serial data as from a GPS with a serial output, but a USB to serial converter has been built into the GPS. Therefore connect your GPS and install the manufacturers software drivers as you would for a serial to USB converter described above.\n\n\nConnecting one NMEA source to Multiple Computers\nIf you want to connect an NMEA device to multiple computers, then it’s generally possible to split an NMEA signal from a serial device and input it to multiple serial ports. If you do do this, ensure that only pins 2 and 5 are connected.\nPrevious: Configuring NMEA",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "NMEA and GPS ",
      "NMEA Connections"
    ]
  },
  {
    "objectID": "mapping/NMEA/docs/ConfiguringGPS.html",
    "href": "mapping/NMEA/docs/ConfiguringGPS.html",
    "title": "GPS Processing",
    "section": "",
    "text": "Adding an GPS Processing Module\nTo add a new GPS Data Collection module to PAMGuard, select the File-&gt;Maps and Mapping-&gt;GPS Processing menu item.\nNote that it is only possible to have one GPS Processing module in PAMGuard, so the menu item will be greyed out if a module has already been added.\n\n\nSetting the GPS Parameters\nFrom the Detection Menu, select GPS&gt;GPS Options ?\n\n\n\nGPS Options\n\n\n\n\nSelect NMEA Data Source\nSelect the NMEA data source from the drop down list. If there are no NMEA Data Collection modules in the current PAMGuard model, you must close the GPS Options dialog and add one.\n\nMain Navigation data string\nA number of different NMEA Strings (or NMEA sentences) contain navigation data. The first five letters of each sentence identify the type of data in the rest of the sentence. The most common sentences with GPS data are is GPRMC, but occasionally some GPS receivers may only output GPGGA data.\nOn very rare occasions, if the GPS data have been multiplexed through some other instruments, the first two characters of the string identifier are changed. If this is the case, it may also be necessary to set these so that the GPS module can identify the appropriate data. As an alternative, select the “Allow and string initials” option which will use any valid RMC or GGA string. Note however, that with a complex NMEA system there may be more than one GPS and it is better to select only strings from the most accurate\n\n\n\nRead Options\nThree options for reading and storing GPS data are available.\nRead all GPS data: all GPS data will be used, however often they arrive (typically once per second).\nRead at fixed time intervals: GPS Data will only be used at fixed time intervals (say 10s).\nRead on timer or course of speed change: GPS data will be used at fixed time intervals or whenever the course or speed change.\nThe latter options minimises the amount of data stored when undertaking straight line transects. PAMGuard will interpolate between GPS positions, so it is possible to set a relatively long time interval (say 1 minute) for regular reads, but data will get read more often if there are course or speed changes.\n\n\nHeading Data\nA GPS receiver can only directly measure a vessels position in space. GPS receivers output course information based on successive measurements of position. This course is therefore the direction the vessel is moving in relative to the earth, which is not necessarily the direction the vessel is pointing in. For instance, the vessel may be moving sideways in a cross current.\nThe course information from a GPS is generally referred to as Course Over Ground, or COG.\nA number of options exist for reading the true heading of a vessel, i.e. the direction it is pointing in. These are:\n\nA gyro compass (Generally only available on larger vessels. Gives a heading relative to true North)\nA fluxgate compass (A cheaper options which measures the magnetic heading of the vessel)\nA twin GPS heading sensor (Two GPS receivers close together. The relative positions of the two receivers are accurate enough to give true heading\n\nMost of the above devices will output an NMEA string GPHDT which contains either the true or the magnetic heading information, depending on the type of sensor.\nPAMGuard can read the GPHDT string and will add the heading information to the data from the GPS receiver. The heading data are displayed on the map and are also written to the GPSData database table\n\n\n\nHeading Data\n\n\nTo read heading data, go to the Heading tab, check the ‘Read heading data’ check box. Then select the NMEA data source. Note that with some NMEA installations, the heading data string may be in the same multiplexed data as the GPS data, in others, it may be on a separate serial data stream.\n\n\nVessel Options\nClicking the vessel tab allows you to specify where the GPS receiver is on the vessel.\n\n\n\nVessel Options\n\n\nEnter the ships dimensions and select an optional heading arrow to be shown on the map. These parameters affect displays only and have no other effect on PAMGuard operation.\nPrevious: Configuring NMEA\nNext: Clock Options",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "NMEA and GPS ",
      "GPS Processing"
    ]
  },
  {
    "objectID": "mapping/mapHelp/docs/overview.html",
    "href": "mapping/mapHelp/docs/overview.html",
    "title": "Overview",
    "section": "",
    "text": "The primary purpose of the map is to provide detection and localisation information graphically.\nThe PAMGuard map should not, on any account, be used as a tool for navigation.\n\nMap tab panel\nThe map is viewed by clicking on the Map tab panel.\n\n\n\nThe PAMGuard Map display\n\n\nThis tab display consists of the map itself (left), a map control panel (upper right) and an information display (lower right). The main map graphics are: labeled lines of latitude and longitude, an icon for the vessel hosting the PAMGuard GPS and depth/coast contours.\nDetection event graphics can be overlaid on the map by right clicking and selecting the desired overlay type. Further map options can be set from the Map menu item.\n\n\nMap Comments\nAnnotations can be added to the map by double clicking anywhere with the mouse.\nA dialog will then appear with the time and position (latitude and longitude) of where the mouse was clicked already filled in.\n\n\n\nEntering time and location stamped comments on the map display\n\n\nThe operator can then type in a comment which will be stored in the database and a symbol will be displayed on the map, the comment being shown whenever the mouse is hovered over the symbol.\nNext: Map display",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Map Display ",
      "Overview"
    ]
  },
  {
    "objectID": "mapping/mapHelp/docs/mapMaking.html",
    "href": "mapping/mapHelp/docs/mapMaking.html",
    "title": "Making Map Files",
    "section": "",
    "text": "PAMGuard now supports two types of map, raster maps and contour vector maps.\n\nRaster Maps\nRaster maps are the most easily accessible now that the GEBCO contour maps are no long available (see below).\nRaster maps can be created and downloaded from the BODC website in NetCDF format.\nOn the BODC website, DO NOT download the global grid files, Scroll down to where you can select a user defined area, hold the Shift key and use the mouse to select the area you’re interested in then place an order for the data in “2D netCDF” format.\nThe maps typically have about a 400m resolution, so will look a bit grainy if you zoom in.\nYou are also advised against making a map that is too large. Maps that are too large will be downsampled by PAMGuard, further reducing their resolution.\n\n\nContour Maps\nPAMGuard contour map files are text files that follow the same format for maps used by the IFAW LOGGER program. These are based on the standard export files from the GEBCO Digital Atlas.\nSadly, the GEBCO digital atlas is no longer available, though many users will have old ascii contour files or an old copy of the GEBCO CD’s or DVD’s which they can still use.\nFor more information on GEBCO click here.\nPAMGuard contour map files consist of a series of datablocks each of which defines a segment of depth contour (or coastline). Within each block the first line specifies the contour identity and the number of latitude and longitude values to follow. Subsequent lines are the latitude and longitude values for the contour segment\n0 3\n-10.0261 39.7077\n-10.0186 39.7119\n-10.0261 39.7077\n100 7\n-10.0000 39.7211\n-10.0027 39.7252\n-10.0186 39.7227\n-10.0302 39.7177\n-10.0358 39.7091\n-10.0286 39.7044\n-10.0000 39.7119\nThe example above shows two short datablocks\nThe first being three values for a section of coastline and the second being seven values on the 100m depth contour.\n\n\n\nPreparing maps using the GEBCO Centenary Edition Software\nRun the GebcoCE program from the CD\n(Note: some steps, can be very slow, especially if large amounts of data need to be read from he CD so patience may be required)\n\nOn the main panel ensure that decimal degrees DD are chosen\n\n\nCreate a Gebco Map\nThe first task is to create a map with the appropriate coverage and detail\nClick &gt;Select&gt;Chart Definition\nWhich will bring up the Chart Definition Dialog\n\nOpen and modify the following tabs:\nData Source\n\nChart Series There are two sources of data on the CD.\nGEBCO which covers the whole world and IBCM which provides better detail and precision for the Mediterranean and Black Sea.\nGebco Coastline Resolution - allows different coastline resolutions to be chosen. Generally the default (GEBCO) option is adequate\n\nContours Allows the user to select contours to display and export\nArea Allows the coverage of the chart to be specified. If you don’t know this in advance click check the Use Zoom button and click Select Area.\nThis will allow the user to select the area from a small scale map using a zoom box\nChoose an area somewhat larger than your requirements there will be an opportunity to amend this later.\nFiner scale choice of area can be made by choosing\nMap&gt; Zoom In &gt; From Map\n(choose Map&gt; Zoom Out to return to previous view)\nUse the Display menu to fine-tune the data to be displayed (and exported)\n&gt;Display&gt;Bathymetric _Contours_to choose contours\n&gt;Display&gt;Coastline to turn coastline on or off\n&gt;Display&gt; Gridded Data to turn off display of Gridded Data\nWhen you are happy with your map\n&gt;File&gt; Export Data &gt; Vector Data to export\n\nIn the Export dialog choose ASCII as the format for export and specify a file name.\n\n\nCleaning up the ASCII File\nThe final step is to remove all the “&gt;” symbols from the document. This can be done using “find and replace” in a text editor\n&gt; 0 3\n56.3531 -3.2707\n56.3573 -3.2443\n56.3531 -3.2707\nSave the file as a text file with an .asc extension and load it within PAMGuard by clicking\nMap&gt;Map Options\nPrevious: Map Controls",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Map Display ",
      "Making Map Files"
    ]
  },
  {
    "objectID": "mapping/mapHelp/docs/mapDisplay.html",
    "href": "mapping/mapHelp/docs/mapDisplay.html",
    "title": "Display",
    "section": "",
    "text": "The map provides a plan view of the survey area. The figure below is an example screen shot of the map in its simplest configuration.\n\n\n\nMap display with a GEBCO coastal outline\n\n\nThe vessel which hosts the GPS is indicated by a red icon and the course of the vessel, as derived from the GPS data, is indicated by the direction of the vessel icon.\nBy default, when PAMGuard starts up the vessel icon is placed in the centre of the map. Left clicking on the map allows the user to drag the map in the direction of the cursor.\nThe vessel’s recent track is indicated by a grey line.\n\nMap Options\nSelecting Map&gt;Map options or right clicking anywhere on the map and selecting “Map Options” allows the user to set the “map lifetime” - i.e. the length (in time) of the vessel track line and whether or not positions of hydrophones should be shown.\n\n\n\nmap options\n\n\nOther options include keeping the ship always on the map, keeping it centred and telling the map to rotate so that the ships heading is always towards to top of the screen.\nIt is also possible to enable rotation of the map in three dimensions. Once enabled, hold the Shift key and drag the map with the mouse to rotate.\n\n\nGrid\nTwo grids are now available and can be selected by the user on the ‘Grid’ tab.\n\n\n\nmap options\n\n\nThe default grid is lines of latitude (red) and longitude (blue). The resolution of the latitude and longitude lines displayed is automatically set, dependent on the map zoom factor. In the upper right hand corner of the map, a compass icon indicates the rotation of the map.\nyou can also display concentric rings centred about the ship.\n\n\nCoast and Contour Files\nPAMGuard currently supports display of raster and contour files which can be exported from the BODC website or the GEBCO software (Click here for information on making maps for PAMGuard).\n[Raster and contour maps can be selected independently and it’s quite OK to have both - a raster map overlayed with contours.\nMap files are selected on the third and fourth tabs of the map options dialog\n\n\n\nmap options\n\n\n](mapMaking.html)\nPrevious: Map Overview\nNext: Map Overlays",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Map Display ",
      "Display"
    ]
  },
  {
    "objectID": "mapping/AIS/docs/AISOverview.html",
    "href": "mapping/AIS/docs/AISOverview.html",
    "title": "AIS Overview",
    "section": "",
    "text": "The Automatic Identification System (AIS) is a system used by ships and vessel management services to identify and locate ships. It is required on all commercial vessels of over 300 gross tons and all passenger vessels irrespective of size, although many other vessels also use it.\nVessels equipped with an AIS tranceiver system regularly transmit their position, speed, course, name, cargo and destination.\nWhile AIS transceivers are expensive and must be registered with international shipping authorities, AIS receivers which do not transmit, but can receive data from other vessels can be purchased for a modest price.\nPAMGuard can decode AIS data and use it in a number of ways, for example:\n\nDisplay other vessels on the PAMGuard map\nDisplay the locations of airguns on other vessels, which is particularly useful if PAMGuard is being operated from a guard vessel or during multi-vessel surveys when airguns are in use on multiple vessels.\n\nNext: AIS Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "AIS ",
      "AIS Overview"
    ]
  },
  {
    "objectID": "mapping/AIS/docs/AISConfiguration.html",
    "href": "mapping/AIS/docs/AISConfiguration.html",
    "title": "AIS Configuration",
    "section": "",
    "text": "The AIS module requires an NMEA Data Source configured to read AIS data via a serial port.\nThe normal baud rate for AIS receivers is 38400 bps.\nTo configure the AIS module, open the AIS configuration dialog from the Detection&gt;AIS Ship Reporting menu and select the correct NMEA data source.\n\n\n\nAIS Options\n\n\nIf a database module is active in the PAMGuard model, then AIS data will be logged to the database\nPrevious: AIS Overview\nNext: AIS Display",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "AIS ",
      "AIS Configuration"
    ]
  },
  {
    "objectID": "mapping/AirgunDisplay/docs/AirgunDisplay.html",
    "href": "mapping/AirgunDisplay/docs/AirgunDisplay.html",
    "title": "Airgun Display",
    "section": "",
    "text": "The airgun location will be displayed on the PAMGuard map. See Map Overlays for instructions on displaying overlays on the map.\n\n\n\nAIS Options\n\n\nIf more than one set of airguns are in use on the same or on multiple vessels, it is possible to configure multiple airgun display modules, each set up with the correct source vessel identification and dimensions.\nMultiple vessels and Airgun arrays during a wide azimuth seismic survey\n\n\n\nAIS Options\n\n\nPrevious: Airgun Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Airgun Display ",
      "Airgun Display"
    ]
  },
  {
    "objectID": "localisation/targetmotion/docs/targetmotion_overview.html",
    "href": "localisation/targetmotion/docs/targetmotion_overview.html",
    "title": "Target Motion Analysis",
    "section": "",
    "text": "Target motion localisation is used to detect and localise continuously vocalising cetaceans, usually clicking odontocetes. The process requires a moving hydrophone array, usually towed by a vessel and makes the assumptions that during a train of detected clicks the acoustic source is stationary.\nThese help pages concern themselves mostly with offline analysis of data using the PAMGuard viewer. Those interested in real time / online tracking using the PAMGuard click detector should refer to the Tracking and Click Train Identification section in the Click Detector section of the help.\nA towed array will detect a series of different clicks as it moves through the water. The path of the array, often referred to as the trackline, can be estimated by GPS units, accelerometers, gyroscopes and/or heading sensors. If the source is assumed to be stationary then each detected click corresponds to a set of time delays at some position along the trackline. Each set of time delays can be visualised as a 2D or 3D bearing, depending on the towed array, pointing towards the acoustic source. As more clicks are detected more bearings are calculated along the trackline and eventually they should begin to cross around the likely location of the source.\n\n\n\n\n\n\n\n\n\nFigure 1 shows an example of target motion data using a single array of two hydrophones. Each detected click corresponds to a time delay which restricts the source location to a hyperboloid surface. Because the hydrophones are relatively close together this surface can be approximated as a cone and for simplicity Figure 1 represents this cone in 2D as a green and red bearing line. As the track line progresses more clicks are detected and a possible source location can be calculated. Figure 1 shows two possible source locations, where the red lines cross and where the green lines cross. Errors in the location of the array and the obviously incorrect assumption that the vocalising cetacean remains stationary means that the bearings will rarely cross at a single point. In the case of a paired array with a completely straight trackline this will always give two possible locations in 2D and a perfect circle of possible locations in 3D.\nHowever there is often information which can be used to minimise these errors. The trackline is rarely straight. It ‘wobbles’ constantly and therefore breaks the symmetry which results in the circular distribution of possible locations. This is evident in Figure 1 one were the green bearings appear to cross through a more consistent point compared the red bearings. The more the trackline deviates from a straight line the more the ambiguity in position begins to break down. Figure 2 shows a 3D localisation attempt of Figure 1 assuming a relatively high uncertainty in the position of the array.\n\n\n\n\n\n\n\n\n\nHere the high uncertainty in the position of array masks the small wobble in the trackline and so a circular probability distribution results. Note the cetacean is unlikely to be located above the sea surface so a large chunk of this circular distribution can be disregarded.\nIf the uncertainty in the position of the array is reduced a different probability distribution results.\n\n\n\n\n\n\n\n\n\nFigure 3 shows the probability distribution calculated from ther same data as in Figure 2 but assuming an almost perfect knowledge of the array position corresponding to the path of the trackline. Here the wobble in the trackline has resulted in a much tighter probability distribution with the most likely location of the cetacean being almost directly beneath the array.\nLocalisation results are therefore a combined product of the expected uncertainties in measurements, the design of the towed array and the degree to which the trackline deviates from a straight line. PAMGuard features multiple localisation algorithms which take all these factors into account.\nNext: Localising an Event\nReferences\nDetection of beaked whales using near surface towed hydrophones: prospects for survey and mitigation J. Acoust. Soc. Am. Volume 123, Issue 5, pp. 3774-3774 (2008)",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Target Motion Analysis ",
      "Target Motion Analysis"
    ]
  },
  {
    "objectID": "localisation/targetmotion/docs/targetmotion_LocalisationResults .html",
    "href": "localisation/targetmotion/docs/targetmotion_LocalisationResults .html",
    "title": "Results",
    "section": "",
    "text": "Results are displayed at the bottom of the Target Motion Analysis window described in the Localising an Event section. Multiple localisation algorithms can be run from the Model Control panel populating the table with multiple results. The result which best fits the data is automaticaly selected by PAMGuard however this can be manually changed by selecting one of the other result checkboxes.\n\n\n\n\n\n\n\n\n\nTable Columns\nModel Shows the localisation algorithm used to calculate the result.\nSymb Shows the symbol used to represent the localisation result on the 2D Map. In the 3D Map the colour of this symbol is used for the for the result ellipse.\nSide Some localisation algorithms will show two possible results. In the case of a paired array two results occur due to a left right ambiguity. These are labelled 0 and 1.\nLatLong The latitude and longitude in decimal of the localised position.\nDepth The depth of the localised source. For 2D algorithms this is -0.0.\nDist The distance (m) from the localised source position to the nearest point on the trackline. This is often referred to as perpendicular distance and is an important measurement in Distance sampling.\nError The error (m) of the perpendicular distance.\nChi2 Chi squared value. A measure of how well the observed data fits the theoretical data. For example, referring to the Overview section, in the unlikely event that all the bearing lines cross at a single point then Chi2 will be very low. The greater the area over which the bearings cross the greater Chi2. Chi2 is also a function of the measurement error. Assuming very low uncertainties in the position of the array will result in a much greater Chi2 whilst assuming larger uncertainties will reduce the final Chi2 value.\np\np value.\nnDF Number of Degrees of freedom.\nAIC Akaike information criterion. A measure of the relative goodness of fit of the statistical model used to localise.\nmillis The number of milliseconds required to compute the source location.\nPrevious: Target motion algorithms"
  },
  {
    "objectID": "localisation/largeAperture3D/docs/meal_overview.html",
    "href": "localisation/largeAperture3D/docs/meal_overview.html",
    "title": "Overview",
    "section": "",
    "text": "The purpose of this exercise is to use PAMGuard to determine the fine scale tracks of harbour porpoises using data from a wide aperture 10 element hydrophone array.\nThe Materials to do these exercises are provided on the PAMGuard website.\nIn this exercise we are going to turn this\n\nInto this\n\nNext: Exercise1 - Detect Porpoises"
  },
  {
    "objectID": "localisation/largeAperture3D/docs/meal_exercise4_geoReferencing3dLocalisations.html",
    "href": "localisation/largeAperture3D/docs/meal_exercise4_geoReferencing3dLocalisations.html",
    "title": "Geo referencing 3D localisations",
    "section": "",
    "text": "Use the MEAL localiser with vector GPS data.\nIn the last exercise we used a vertical array which we assumed was stationary and determined a porpoise dive profile. In real life it is possible we will be using an array which is not stationary. If this is case there are two vital pieces of information needed to relate localisation information to real world co-ordinates, the heading and latitude/longitude of the array.\nOpen PAMGuard viewer mode and select the database VertQuad in the Exercise 4 folder. Open the binary file folder 20120715.\nIn order to use GPS data you need to add the GPS module. Go to File &gt; Add Modules &gt; Maps and Mapping and add NMEA Data Collection, GPS Processing and Map. You should see the Map tab appear in PAMGuard.\n\nTo add GPS data go to Detection &gt; GPS &gt; Import GPS Data….\n\nIn the dialog box open the NMEA file in the Exercise 4 folder. A dialog box will appear asking you to select a date. Ignore this, tick Use only GPRMC strings and click OK .\n \nWait until the GPS data has loaded\nSelect the map. You should see GPS tracks. Use the slider to move the position of the vessel. You may need to use the scroll bars to load more hours of data into memory.\n\nFigure 27. After successfully importing GPS data you should be able to view the ships� tracks and heading in the MAP.\nNow select the MEAL localiser module and find a suitable porpoise detection. Localise using one of the algorithms. You will notice a realistic GPS position in the results panel\n\nFigure 28. The MEAL localiser will automatically import GPS data and convert localisation results to a real lat/long.\nPrevious: Exercise3 - Localise\nNext: Exercise5 - Extra Exercises"
  },
  {
    "objectID": "localisation/largeAperture3D/docs/meal_exercise2_viewData.html",
    "href": "localisation/largeAperture3D/docs/meal_exercise2_viewData.html",
    "title": "View Data",
    "section": "",
    "text": "Open PAMGuard binary files in viewer mode, browse through clicks and create a better porpoise click classifier. Re-classify porpoise clicks with the better classifier in viewer mode, mark out interesting click features and view using concatenated spectrogram.\nYou have so far used PAMGuard to run through ten channels of raw .wav data and pick out porpoise clicks. All clicks, including classified porpoise clicks, have been saved in PAMGuard binary files. These are around 99.9% smaller than .wav files and contain all information needed to browse through click data and perform complex tasks, such as classification or localisation. In this exercise we will open binary files in PAMGuard viewer mode.\nStart PAMGuard viewer mode. PAMGuard will ask you to select a database. Select the database you used in analysing the .wav files. Next PAMGuard will ask you to select binary files.\n\nFigure 9. Open the binary files you saved.\nSelect the folder you saved binary files when using PAMGuard in standard mode. PAMGuard should now open. You will be presented with a click detector window which looks very similar to PAMGuard in standard mode.\n\n\n\nExtra scroll bar controls are present in many primary displays in PAMGuard viewer mode. Only a certain time period of click detections will be loaded into the computer’s memory at any one time. Only these detections are visible in the click detector display. To move to time period before or after the current data loaded data press the blue buttons. The middle button can be pressed to bring up a dialog box. Here you can define the period of data (Duration) to be loaded into memory. The Step Size defines the ‘jump’ to take to the next section of data. For example 75% means, when a new section of data is loaded, 25% of the previous section is left. The Start Time allows you to manually select where to load the data from.\n\n\nThere are, however, several important differences between the click detector in PAMGAURD viewer and standard mode. The scroll bars allow users to navigate through and load new sections of data. You will also find new displays are present and extra functionality exists to annotate clicks and add to events. Play around with the controls and load a new section of clicks.\n\n2.1 Reclassify clicks\nYou will notice after selecting some click detections, that the classifier we used in section 1 has missed a lot of porpoise clicks. For the purposes of localisation it is often better to have more false positives than false negatives. Therefore we need to reclassify clicks. Go to Click Detection &gt; Re Analyse Click Types… This will bring up the click analysis dialog box.\n\nFigure 10. Reprocessing clicks allows you to tweak classifier settings.\nTick the Reclassify Clicks check box and click on Settings… This will bring up the familiar click classifier manager from which you can access your classifier settings.\n \nIn the click classifier disable the Click Length and Zero Crossing settings. Click OK on the classifier and Classifier manager to return the Click Analysis dialog. In the Data Options drop down menu select All Data. This will perform data processing on all binary files rather than just the click detections currently loaded into memory. Click Start and wait for the processing to finish.\nYou should notice that the number of classified clicks visibly increases. Play around with the classifier until you are happy with the settings and the majority of the porpoise clicks are correctly classified.\n\n\n\n2.2 Create an Event\nThe PAMGuard Viewer click detector allows manual marking of events. Events usually consist of a group of clicks associated with one acoustic encounter of a particular species. Event information is saved to the database and in certain situations can be used to perform extra analysis\nDouble click on the amplitude time display. By repeatedly clicking with the mouse you can draw a bounding line around a group of clicks. By joining up the ends of the dotted line an area is selected and will be coloured grey.\n\nFigure 11. You can select groups of clicks to add to an event by drawing a shape around them and right clicking.\nThese clicks can now be saved as an event. Right click within the grey area and select New Event. Use Porpoise from the drop down menu and click OK. If there are no species in the dropdown menu you can right click and select Edit Species to add some. Your clicks should now turn a different colour which indicates this event is saved. By selecting Click Detection &gt; Show Eventsyou can bring up a dialog box showing selected events.\n\n\n\nevents\n\n\nFigure 12. Events can be accessed from the Event List.\nCreate a few events of interesting sections of clicks.\n\n\n2.3 View events on extra displays\nThere are a few extra displays in viewer mode which allow users to investigate more acoustic properties of clicks, especially once events have been selected.\nGo to Click Display &gt; Add Display… &gt; Concatenated Spectrogram. This will add the Concatenated Spectrogram display. Click on a click within an event to bring up the concatenated spectrogram for that event. You should see a narrow band of energy near 130kHz, typical for porpoise vocalisations.\n\nFigure 13. Concatenated Spectrogram of a set of porpoise clicks. As expected lots of energy in the 120-140kHz band.\nPrevious: Exercise1 - Detect Porpoises\nNext: Exercise3 - Localise"
  },
  {
    "objectID": "localisation/group3d/docs/3dsimplex.html",
    "href": "localisation/group3d/docs/3dsimplex.html",
    "title": "Simplex",
    "section": "",
    "text": "This algorithm uses a Simplex to estimate a most likely position for a sound source based on Time Difference of Arrival measurements on multiple hydrophones.\nTwo and Three dimensional versions of the algorithm are available. Select the one most suitable for your array geometry. Note that even with a 2D array, a better fit may be obtained using a 3D model than with 2D. As a general “rule of thumb”, if the vertical position of the animal is likely to be a significant fraction of the array dimension, then you’re probably better off using the 3D model. If on the other hand, the array is large and in shallow water, so that the vertical position can only ever be a small fraction of the array dimension, then the 2D model may be more stable.\nThe minimisation function used by the Simplex is created in the following manner:\n\nThe propagation delay from the location to each hydrophone is calculated.\nFrom these values, the difference in time delay for each hydrophone pair is calculated.\nAn estimate of the error on each time delay is calculated based on the errors on hydrophone locations entered into the Array Manager, the entered sound speed error and the relative orientation of the hydrophone pair to the location. The measured time delays from the appropriate TDOA calculation are compared to the calculated values for that pair, and a ?2 value constructed from the differences in measured and expected times divided by the expected errors.\n\nThe Simplex / Nelder-Mead algorithm then moves the location around to minimise the ?2 value.\n\nConfiguration\nTo configure, select “Simplex 2D” or “Simplex 3D” from the list of available algorithms. Timing and channel configuration options will be shown.\n\nIt is possible to set a minimum correlation value for each time delay, any hydrophone pair with a cross correlation value smaller than this being excluded from the minimisation function.\nConsequently, it is also possible to set a minimum number of TOAD measurements to use in the localisation, the localisation attempt being aborted if not enough hydrophone pairs can return adequate correlations between signals.\nIf hydrophones are arranged in groups (e.g. a click detector operating on multiple small hydrophone clusters as in Gillespie et al, 2020) then you can also define a minimum number of groups to use in a localisation.\nTiming (TDOA) options, displayed below the algorithm selection, may vary depending on the type of detector used.\n\nReferences\nGillespie, D., Palmer, L., Macaulay, J., Sparling, C., and Hastie, G. (2020). “Passive acoustic methods for tracking the 3D movements of small cetaceans around marine structures,” PLoS ONE, 15 (5), 16pp. doi:https://doi.org/10.1371/journal.pone.0229058\nPrevious: Hyperbolic localisation algorithm\nNext: localiser output",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Group 3D Localiser ",
      "Algorithms ",
      "Simplex"
    ]
  },
  {
    "objectID": "localisation/group3d/docs/3doutput.html",
    "href": "localisation/group3d/docs/3doutput.html",
    "title": "Output",
    "section": "",
    "text": "The Group 3D localiser combines multiple detections from several hydrophones. When is successfully localises, it creates a new data object in PAMGuard which is in a new output stream, which is internally cross referenced back to the original detections.\n\nDisplays\nLocaliser output can be displayed on the PAMGuard map by selecting the localiser from the maps drop down menu. Note that most detectors that can be used as input to the Group 3D localiser can also be displayed on the map, however the original detections will not have localisation information, so will either display at the location of the hydrophones they were detected on, or if they have bearings, show those bearing lines (with fixed range) from the hydrophone locations.\nIt is entirely up to you the user whether you display the original detections as well as the 3D localisations, or just one or the other.\n\n\nDatabase\nSuccessful localisations are written to the PAMGuard database.\nThe output table will use the name of the localiser, there being multiple tables if multiple localisers are in use. 3D information is provided in x,y,z format from the arrays main reference location and also as Latitude, Longitude and depth. There may be some variation as to exact column formats depending on choice of algorithm.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Group 3D Localiser ",
      "Output"
    ]
  },
  {
    "objectID": "localisation/group3d/docs/3dcrossedbearing.html",
    "href": "localisation/group3d/docs/3dcrossedbearing.html",
    "title": "Crossed Bearing",
    "section": "",
    "text": "The crossed bearing algorithm can be used when hydrophones are arranged in small clusters, each of which can provide a bearing.\nFor example a towed hydrophone might contain two groups of hydrophones, with spacing within each group close enough that they can be considered a compact array, which can easily estimate bearings, but spacing between the hydrophone groups large enough that crossing angles can be used to estimate absolute source locations.\nIf using static equipment, then it may be possible to deploy groups of several multi-channel recorders. Channels within each recorder would be accurately time synchronised, so TDOA measurements from each recorder would provide accurate bearings, however time synchronisation between recorders may not be accurate enough for TDOA measurement, so crossed bearings could be used to combine data from multiple clusters.\nThe crossed bearing algorithm uses exactly the same internal algorithms as target motion analysis, which crosses bearings from multiple sounds from the same animal from different locations of a single compact array.\n\nConfiguration\nSelect the Crossed Bearings algorithms from the drop down list. Click on the configuration button to the right of the list to select one of three possible crossed bearing algorithms. You may also limit the maximum number of sounds used within the algorithm and select limits (Filters) on reasonable outputs - any localisation result outside these limits will be rejected.\nIn principle, it is possible to select more than one of the above algorithms, in which case all will be applied and PAMGuard will select the best result based on goodness of fit criteria. Generally, it is recommended that you test the options through simulation and then select one algorithms which is giving the best results. an exception might be when using a moving array, which might sometimes be in a linear line (so 3D location is definitely not possible) and sometimes might (for example as a boat turns) effectively form a plane. In this instance you might run both the 2D and 3D simplex algorithms and the ‘best’ model fit will be selected based on AIC.\n\n\nLeast Squares\nThis is the original target motion algorithm developed within PAMGuard. The algorithm is fast, but makes an assumption that all detections are being at points which form a straight line. It is therefore only suitable when there are no more than two hydrophone groups (or when they genuinely are in a straight line).\n\n\n2D Simplex\nThis algorithm can deal with any configuration of hydrophones arranges in a planar array and will only estimate positions in two dimensions.\nA Simplex algorithm is used to find a point which has the least squares error of bearings from each hydrophone cluster location. This algorithm is slightly more flexible and better at dealing with complex array geometries than the Least Squares algorithm above.\n\n\n3D Simplex\nThis algorithm is ideal for volumetric arrays. It can also work with planar arrays, though localisations may be subject to an ambiguity across the plane.\nThis algorithm is the most flexible and better at dealing with complex array geometries than the Least Squares or 2D Simplex algorithms above, but will fail with unsuitable array geometries.\nThe algorithm can work with hydrophone clusters of different types, e.g. with one tetrahedral cluster (producing bearings with unambiguous slant and elevation angles) and a pair of hydrophones (producing bearings with an ambiguity about the pair axis). Somewhat surprisingly, you can sometimes get a 3D location from two or more horizontal pairs of hydrophones, so long as they are not all in a line (forming a linear array).\nPrevious: Algorithms\nNext: hyperbolic localisation algorithm",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Group 3D Localiser ",
      "Algorithms ",
      "Crossed Bearing"
    ]
  },
  {
    "objectID": "localisation/group3d/docs/3dalgorithms.html",
    "href": "localisation/group3d/docs/3dalgorithms.html",
    "title": "Algorithms",
    "section": "",
    "text": "The Group 3D localiser has a number of available algorithms, the availability of which is dependent on both the layout of the array and the configuration of the detector used.\nThe Crossed bearing algorithm can be used when the detections already have bearing information. This may be because bearings have already been calculated by an internal algorithm within the detector, as is the case for the Click and Whistle and Moan detectors, or it may be a detection that has had bearing information added to it by the Bearing Localiser. This algorithm is also suitable for calculating positions from multiple DIFAR buoys.\nThe Hyperbolic algorithm can be used to localise single detections from widely spaced hydrophones so long as Time Difference of Arrival measurements can be accurately made between the different hydrophone channels. Localisation can be in either 2 or 3 dimensions.\nThe Simplex algorithm is an alternative to the Hyperbolic algorithm, working with the same data, but solving the problem in a different way.\nIt is difficult to predict which algorithm will provide the best performance, both in terms of how many sounds it manages to localise and the spatial accuracy of those localisations. The Crossed bearing algorithm is a sensible choice if multiple compact clusters of hydrophones have been deployed, especially if there is some uncertainty as to the quality of time synchronisation between the clusters (they will need to be synchronised well enough to match sounds on the different clusters, but not so perfectly that Time Difference of Arrival measurements are reliable between clusters). If individual detections do not have bearing information (as would be the case for most wide aperture arrays), then the Hyperbolic or the Simplex algorithms should be used. Even if hydrophones are in clusters and bearing information is available, these algorithms should be more accurate due to their use of the additional time delays between distant hydrophones.\nPrevious: Configuration\nNext: Crossed bearing algorithm",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Group 3D Localiser ",
      "Algorithms"
    ]
  },
  {
    "objectID": "localisation/docs/localisation_overview.html",
    "href": "localisation/docs/localisation_overview.html",
    "title": "Overview",
    "section": "",
    "text": "Localisation is the process by which the possible locations of an acoustic source are determined by an array of two or more receivers. In the case of underwater acoustics the receivers are hydrophones and if using PAMGuard the acoustic source is almost certainly a marine mammal.\n\nTime Delays\nIn order to localise an acoustic source a time delay between two hydrophones is required. This simply refers the number of seconds between two hydrophones receiving the same acoustic signal. In order to get to this stage vocalisations must be first detected, classified and then the time delay between two likely signals from the same source calculated. The calculation itself must be highly accurate and cannot rely on simply determining the rough start of two signals without introducing large errors.\n\n\n\n\n\n\n\n\n\nFigure 1.\nFor example a harbour porpoise click consists of an ultra-short directional pulse of sound with a peak frequency of around 130kHz . The complex internal structure of a cetacean’s biosonar means that click waveforms are not uniform and highly dependent on a multitude of factors. A ‘direct’ click detected along the longitudinal axis of the animal, for example, will differ in waveform from the same click recorded at an angle. Thus often incident on each hydrophone are clicks of similar peak frequency but very different waveforms as shown in Figure. 1. The distance between the hydrophones in this case was 0.25m. Although only a fraction of a millisecond in length in order to work out an accurate time delay between such clicks, a cross correlation function must be utilised. This method slides one waveform along the time axis of the other, calculating the integral of the product of both waveforms over a range of different times. The accepted mathematical form is\n\n\n\n\n\n\n\n\n\nwhere x(?) and y*(?-t) (* refers to the complex conjugate) represent two waveforms with a time separation of t. This results in the time dependent function Cxy(t). The integral is essentially proportional to the area beneath the two waveforms and so if they overlap precisely this produces a large value. Hence Cxy(t) is a measure of the similarity between two waveforms over time with its maximum value corresponding to the likely time delay between the two signals.\nPAMGuard applies advanced time delay measurements to most of it’s time of arrival estimates, allowing the peak in the cross correlation function to be determined to a much higher accuracy than a single sample. You can read more in Gillespie and Macaulay, 2019.\n\n\nLocalising\nAs long as the distance between the two receiving hydrophones is known a measured time delay can then be used to restrict the possible location of an acoustic source. In the case of just two hydrophones the source is theoretically restricted to a three dimensional hyperboloid of infinite length. It is perhaps easier to visualise this in two dimensions in which case the hyperboloid can be considered as two possible symmetrical bearings pointing towards the source. By introducing another pair of hydrophones and hence another time delay measurement the location of the source can restricted further. Now the only possible locations are the points at which the hyperboloid surfaces calculated for each hydrophone pair cross.\n\n\n\n\n\n\n\n\n\nFigure 2 shows an example of two pairs of hydrophones (each pair is represented by a black box) each restricting the possible source locations to a hyperboloid surface (because the hydrophones are relatively close together the hyperboloid can be considered as two cones). The two cones intersect along a highlighted circle and hence the only possible locations of the source are on this circle. However there are four hydrophones in this array and hence this actually corresponds to six time delay measurements between hydrophones, 1-2, 1-3, 1-4, 2-3, 2-4 and 3-4. Thus it is possible to restrict the source location further depending on the array geometry. In Figure 2 the hydrophones are placed in-line with each other. This in-line symmetry results in the possible source locations always being restricted to a circle independent of the number of hydrophones used. In general the mathematical rules governing localisation require at least three hydrophones (two time delay measurements) to locate the source in two dimensions and at least four hydrophones (over three time delay measurements) to locate a source in three dimensions.\nThe number and distribution of hydrophones therefore play a key role in localisation; however other measurements also restrict the source location. The maximum detectable range of a harbour porpoise click is on the order of a few hundred meters whilst blue whales are detectable tens of kilometres away. Thus the possible ranges are restricted simply by the frequency of a vocalisation. In addition both the seabed and sea surface provide limits restricting the source location.\n\n\nLocalisation Errors\nIn an ideal world, if we knew the exact spacing between hydrophones, accurate sound speed profiles in all locations and the precise time delay of a signal it would be possible to localise the exact location of any detectable sound source. However, reality, down to the smallest fundamental units, is built on probability and the same applies to localisation. Errors in measurements, from digitising a signal to measuring the distance between different hydrophones, are inherent within every acoustic monitoring system. How this error propagates through to source positions is an important aspect of localisation and needs to be calculated accurately.\nTime delay errors generally occur due to unsynchronised signals and/or errors in cross correlating different waves. For example, if a wave is digitally sampled every 1.41x10 -5 seconds (96kS/s) then in an ideal situation the time delay is accurate to +/- 1.41x10-5/2. This can be reduced by applying a polynomial fit to the cross correlation mimicking a more analogue wave. However, the cross correlation function itself is not always accurate, especially with spectrally pure signals, such as those produced by harbour porpoises. Therefore time delay errors, as well as being dependent on the sampling frequency are also often species dependent.\n\n\n\n\n\n\n\n\n\nPropagation and speed of sound provide another important source of error. The speed of sound in seawater is not constant, with temperature, salinity and pressure gradients resulting in variable sound speed profiles. This results the bending of acoustic rays and can introduce a significant source of error, especially over large distances. Figure 3 shows a ray trace diagram of a porpoise click in a measured environment with a variable sound speed profile. Here temperature and salinity gradients cause significant bending of the acoustic signals creating a waveguide effect. Although this is an extreme case it is clear that assuming a constant sound speed in this particular instance would incur large localisation errors.\nThe geometry of an array is critical in error propagation. The first and most obvious error is the uncertainty in the position of each hydrophone. After a time delay measurement any error in the position of a hydrophone pair will alter the position of the resulting hyperboloid surface. This then changes the calculated possible source locations. The degree to which the source location is moved due to this and other errors is related to the geometry of the array. For example, consider two pairs of hydrophones, separated by 0.5m and located 1m apart from each other. Assume an error in measurement results in one of the calculated hyperboloid surfaces shifting by one degree; this then propagates to a range error of 1.9m. However if the hydrophone pairs are moved 10m apart the same error in measurement results in a range error of just 0.41m.\nThis suggests that arrays should be spaced as widely as possible. This is indeed the case with evenly distributed, widely spaced hydrophones theoretically providing the most accurate localisations. However, cetacean vocalisations only propagate a finite distance and depending on species are often highly directional. Therefore arrays are fundamentally restricted in size even before the practical considerations of deployment are taken into consideration.\nThe natural environment and especially the sea are fundamentally unpredictable places. The complexity of these environments means a complete and accurate mathematical model is impossible. Instead errors must be accepted as always present and localisations should always be regarded as probabilities of a source location.\n\n\nReferences\nGillespie, D., and Macaulay, J. 2019. Time of arrival difference estimation for narrow band high frequency echolocation clicks, The Journal of the Acoustical Society of America, 146, EL387-EL392. doi:https://doi.org/10.1121/1.5129678.\nMagnus Wahlberg, Bertel M�hl and Peter Teglberg. Estimating source position accuracy of a large-aperture hydrophone array for biacoustics. J. Acoust Soc. Am. 109. 397-405 (2001).\nStacy Lynn Deruiter. Echolocation-based foraging by harbour porpoises and sperm whales including effects of noise and acoustic propagation. PhD thesis (2008).\nLine A. Kyhn, J. Tougard, F. Jensen, M. Wahlberg, G. Stone, A. Yoshinaga, K. Beedholm and P.T Madsen. Feeding at a high pitch. Source parameters of narrow band, high frequency clicks from echolocating off-shore Hourglass dolphins and coastal Hector’s dolphins. J. Acoust. Soc. Am .125, 1783-1791 (2009).\nMathew J. Holman, Joshua N. Winn, David W. Latham, Francis T. O’Donovan, DavidCharbonneau, Gaspar A. Bakos, Gilbert A. Esquerdo, Carl Hergenrother, Mark E. Everett and Andras Pal. The Transit light curve project. I. four consecutive transits of exoplanet XO-1b. The Astrophysical Journal. 652: 1715-1723 (2006).\nNext: Localisation Techniques",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Overview"
    ]
  },
  {
    "objectID": "localisation/docs/localisation_arrays.html",
    "href": "localisation/docs/localisation_arrays.html",
    "title": "Types of Array",
    "section": "",
    "text": "The type of localisation that can be performed depends a lot on the size and shape of the hydrophone array. A short linear array of two or more hydrophones can measure a single bearing to a detected sound, but not estimate range. A longer linear array may also be able to estimate range. Similarly, a small horizontally aligned triangle of hydrophones can estimate an unambiguous bearing in the horizontal plane and possibly also an elevation angle, although the elevation angle will be subject to an up-down ambiguity. Large arrays of several widely distributed hydrophones can estimate locations in three dimensions.\n\nSmall and large, compact and distributed, small and wide aperture\nThese terms are often used to describe hydrophones arrays. All are easily stated, but not so easily understood and what is a wide aperture array for one species may be considered a compact array for a different species.\nIn the current context, a small or compact array is an array who’s dimension is a) much smaller than the detection range of the sounds being detected such that animals are almost guaranteed to be outside the volume or area of the array, and b) small enough that the time difference between the arrival of sounds on the different receivers is never (or rarely) confused my multiple arrivals, and c) small enough that a sound received on one receiver is almost guaranteed to be visible on all of them.\nA large or wide aperture array, on the other hand, is likely to be large enough that many animals will be within, or at least relatively close to, the area or volume covered by the receivers. Detection of a sound on one receiver is no guarantee of detection on other receivers and the arrival of multiple sounds on the different receivers may cause ambiguities in working out which sounds match on the different receivers.\nAs a general rule (remembering that rules are there to be broken) is that whatever the dimension of the array, 2 or 3D localisation is excellent within the volume of the array and is OK out to 3, or sometimes even 10 times the array dimension. Beyond that distance, bearing estimation is still possible, but errors on range become so large that the range estimations have no validity. It therefore follows that a compact array is good for bearing measurements, whereas a wider aperture array can be used for 2 or 3D localisation.\n\n\nHydrophone Spacing\nMost PAMGuard localisers are based upon Time Difference of Arrival (TDOA) measurements between multiple hydrophones. Time differences can be measured more accurately with high frequency sounds sampled at high sample rates. With advanced signal processing, time differences can be measured to a fraction of a sample and to a fraction of a wavelength of the detected sound. For example, Gillespie and Macaulay (2019) showed that for harbour porpoise like clicks (Frequency 130kHz, wavelength 1.2cm) sampled at 500kHz, they could measure TDOA’s to an accuracy of a few microseconds - that’s 1/100ths of a sample, or well below 1/100’th of a wavelength. Gillespie et. al, 2020 describe how three small aperture arrays of dimension 30cm cold be used to accurately measure bearings to porpoise clicks and that three of these clusters spaced over several metres formed a wide aperture array which could be used to localise porpoise clicks in three dimensions.\nAt the other extreme, say working with blue whales, which can produce sounds at 15Hz (wavelength 100m) you’d hardly expect to get a blue whale within an array a few metres across and would probably want to detect them out to a distance of several 10’s of km. Timing measurements to blue whale sounds will also be far less accurate than for porpoise clicks (milliseconds rather than a fraction of a microsecond) so the wide aperture array used for porpoises would be a compact array for blue whales.\n\n\nNumbers of Hydrophones\nHydrophones are expensive to purchase and both complex and expensive to deploy, but you do need to make sure you have enough for the type of localisation you’re aiming to use.\nLocalisations can be in one, two or three dimensions and are most often described in polar (bearing and range) or cartesian (x,y,z) space.\nWhichever system is used, a pair of hydrophones can measure a single time difference, so can resolve one dimension. Three hydrophones can measure two independent time differences, so can estimate two dimensions (e.g. x and y or latitude and longitude) and four hydrophones can measure three independent time differences, so can in principle estimate three dimensions.\nHowever, the reality is often that at least one extra hydrophone is required to resolve ambiguities. For example, a pair of hydrophones will measure a bearing, but it will be ambiguous, whereas a triangle of hydrophones can measure a surface bearing without ambiguity. A common misconception is that three widely spaced hydrophones can provide two dimensional localisations. The truth is that while animals within the array will probably get an unambiguous position, positions outside the array can sometimes still be ambiguous (Spiesberger, 2001). As an illustration of this, the figures below show hyperbolic localisations from a two dimensional 3 element array. The first localisation does not have am ambiguity, but the second one clearly does.\n \nThe addition of a fourth hydrophone will resolve the ambiguity for a two dimensional array. Five hydrophones are required for unambiguous 3D localisation.\n\n\nReferences\nGillespie, D., and Macaulay, J. (2019). “Time of arrival difference estimation for narrow band high frequency echolocation clicks,” The Journal of the Acoustical Society of America, 146, EL387-EL392.\nGillespie, D., Palmer, L., Macaulay, J., Sparling, C., and Hastie, G. (2020). “Passive acoustic methods for tracking the 3D movements of small cetaceans around marine structures,” PLoS ONE, 15 (5), 16pp. doi:https://doi.org/10.1371/journal. pone.0229058\nSpiesberger, J. L. (2001). “Hyperbolic location errors due to insufficient numbers of receivers,” The Journal of the Acoustical Society of America, 109, 3076-3079\nPrevious: Localisation Techniques\nNext: Generic Localisers",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Types of Array"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_UsingSpectrogram.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_UsingSpectrogram.html",
    "title": "Using the Spectrogram",
    "section": "",
    "text": "The spectrogram display serves several purposes. Firstly it provides a visual check that the DIFAR signal is being received correctly. Secondly it allows the operator to manually mark out sounds they want to be processed with the DIFAR system. Lastly, it provides visual indication of the detections and classifications that are in the DIFAR Queue and/or have been processed.\n\n\n\nImage of Spectrogram with marks and spectrum plugin\n\n\nThe figure shows a typical spectrogram display using one DIFAR sensors. The spectrogram is displaying the low frequency FFT data, with a bandwidth of 0 to 125 Hz. The lower panel is showing the instantaneous spectra from the 48kHz data. In this lower panel clear spectral peaks are visible at 7.5kHz and at 15kHz. These are the carrier frequencies for the frequency modulated signal from the DIFAR buoy. If these peaks are not clearly visible, then it’s likely that the DIFAR buoy is out of range or there is a problem with your receiving system.\nThere are also broader ‘humps’ in the bottom panel which represent the multiplexed signals from the three acoustic sensors. The hump between 0 and about 4 kHz is the spectrum of data received on the omnidirectional hydrophone. This is broadly similar in shape to the humps either side of the 15kHz carrier which are the signals on the two directional sensors.\nTo mark a sound simply place the mouse on the spectrogram at the start of a sound and drag to the end of a sound. While you are dragging, other marks on the spectrogram will temporarily disappear. While dragging, the mark will also appear on every channel, although only the channel you are marking will be used in DIFAR processing.\nIf marks do not appear on the spectrogram display the most likely cause is that the mark observers on the spectrogram display have not been correctly configured. Once a sound has been marked on the spectrogram it will be sent to the DIFAR queue.\nOn the spectrogram itself, sounds that are in the DIFAR Queue will be indicated with a black rectangle with a dashed line corresponding to the mark. Sounds that have been assigned a classification will appear as coloured marks corresponding to the colour assigned to that classification. A solid line around a clip indicates that those sounds that have been processed and saved and are no longer in the DIFAR Queue.\n\nDIFAR Side-panel\nThe DIFAR Selection side-panel can be used to combine the process of manually marking of sounds and assigning classifications. When the Assign classification checkbox is checked, the highlighted classification will be automatically applied to newly created clips. When combined with the option to Auto-process classified clips, this will further streamline operation and reduce the need to interact with the DIFAR queue. This mode of operation is especially streamlined when there are only a few different classifications are present in a recording.\nWhen checked, the Multi-Channel checkbox will apply classifications and create individual DIFAR clips from each of the audio channels in a given Raw Data source. When unchecked (the default option), a clip will be created only for the marked channel. Multi-Channel is typically the most useful when sonobuoys have been deployed very close to each-other.\nPrevious: Running the DIFAR System\nNext: Managing the Queue",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Using the Spectrogram"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_RunningSystem.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_RunningSystem.html",
    "title": "Running the System",
    "section": "",
    "text": "There are generally four main displays you need to interact with while processing DIFAR data:\n\nThe Spectrogram and Sidebar\nThe DIFAR Queue\nThe DIFAR Localisation\n\nThe software has been written to minimise the number of mouse clicks as far as is possible so that the operator can focus on validation of detections, and interpretation of localisations to facilitate real-time tracking. Getting a bearing to a sound should require no more than\n\nMarking that sound on the spectrogram with a click-and-drag of the mouse,\nAssigning a classification to each sound-clip in the DIFAR queue to classify the sound for directional processing, and\nVerifying and saving the DIFAR Localisation (by pressing the save button on the DIFAR display).\n\nPrevious: Configure DIFAR Processing\nNext: Using the Spectrogram and Sidebar",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "",
    "text": "Tutorial: Post-processing of data from DIFAR sonobuoys with the PAMGuard DIFAR module\nBrian S. Miller\nAustralian Marine Mammal Centre, Australian Antarctic Division\nbrian.miller@aad.gov.au\nPurpose of this tutorial\nThe purpose of this tutorial is to provide step-by-step instructions for configuring and running the PAMGuard DIFAR module in order to post-process data that have been collected from DIFAR sonobuoys. This document is not intended as a guide for real-time analysis of DIFAR data, however there is considerable overlap between these two use cases. The tutorial includes step-by-step instructions for importing voyage tracks (i.e. GPS data) into PAMGuard, importing sonobuoy deployment locations into PAMGuard, configuring PAMGuard for DIFAR Localisation, and configuration of PAMGuard’s automated Whistle and Moan Detector for use with the DIFAR Localisation module. Post-processing of DIFAR data should yield a list of magnetic and possibly true bearings to sound sources in the DIFAR data. The list of bearings can be stored in PAMGuard binary storage files and/or the PAMGuard database.\nVersion 1.0 2014-08-20\nContents\nPreparation and expectations. 2\nDisclaimer. 2\nInstallation of PAMGuard DIFAR module. 2\nCustom install of the PAMGuard DIFAR jarfile. 2\nOPTIONAL: Installation of the Greeneridge Sciences Demultiplexing Software. 3\nA technical note on demultiplexers. 3\nVerifying installation. 4\nPreparation and Import of Data and Metadata. 4\nOverview.. 4\nDatabase preparation. 5\nHydrophone array configuration. 5\nExample: single sonobuoy deployment. 6\nExample: Recordings with two sonobuoys. 8\nSonobuoy deployments � Import Streamer Data. 9\nValidating Streamer Import. 11\nImport ship tracks (GPS data). 13\nValidating GPS tracks. 15\nCleanup after import. 15\nAcoustic Data Files. 16\nConfiguration of DIFAR Localisation. 21\nOverview.. 21\nRequired PAMGuard modules. 21\nRecommended Modules. 21\nDecimators. 22\nOmnidirectional decimator. 22\nLow frequency decimator (for blue/fin whale calls). 24\nFFT Engine. 26\nLow frequency spectrogram (for blue/fin whale calls). 26\nFull bandwidth spectrogram (for DIFAR diagnostics). 27\nUser Displays. 29\nProcessing DIFAR data. 32\nData Formats. 32"
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#custom-install-of-the-pamguard-difar-jarfile",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#custom-install-of-the-pamguard-difar-jarfile",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Custom install of the PAMGuard DIFAR jarfile",
    "text": "Custom install of the PAMGuard DIFAR jarfile\nDownload the latest PAMGuard DIFAR .jar and .ini files from the Australian Antarctic Division FTP server: ftp://ftp.aad.gov.au/Public/BrianMiller/PAMGuardDifar/\nIn addition to the jar file you will also need other shared libraries. (E.g. the appropriate rxtx serial library will needed in order to acquire gps data). These shared libraries can be downloaded from the lib folder on the FTP server.\nAfter downloading, the .jar and .ini files and the lib folder must be copied, overwriting existing files, into an existing installation of PAMGuardBeta. If a default installation of PAMGuardBeta on windows is being used then this would mean copying the custom .jar, and .ini files and lib folder into C:\\Program Files (x86)\\PAMGuardBeta\\.\nThe custom version of PAMGuard with the DIFAR module can then be launched via the usual shortcuts for PAMGuard in the start menu/desktop, or alternatively with an appropriate command line, probably along the lines of:\njava -Djava.library.path=/your_shared_library_folder -Xms384m -Xmx1024m -jar PAMGuardDifar_YYYY-MM-DD.jar\nwhere:\n� /your_shared_library_folder specifies the folder in which the JVM should look for shared libraries\n� -Xms and �Xmx specifies the initial and maximum memory to be reserved for PAMGuard\n� PAMGuardDifar_YYYY-MM-DD.jar specifies the runnable jarfile containing release e.g. 2014-08-04 of the PAMGuard DIFAR module.\nOnce you have command line that successfully launches PAMGuard on your system then there is always the option of incorporating the command line into a suitable shell script or batch file."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-installation-of-the-greeneridge-sciences-demultiplexing-software",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-installation-of-the-greeneridge-sciences-demultiplexing-software",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "OPTIONAL: Installation of the Greeneridge Sciences Demultiplexing Software",
    "text": "OPTIONAL: Installation of the Greeneridge Sciences Demultiplexing Software\nAnalysis of DIFAR data requires demultiplexing (i.e. demodulation) software in order to correctly extract the signals from the directional hydrophones that are included in VHF transmissions of DIFAR sonobuoys. The PAMGuard DIFAR module was initially developed and tested with commercially available demultiplexing software licensed from Greeneridge Sciences Inc. The Greeneridge Sciences demultiplexing software is not included by default in the PAMGuard DIFAR module. Those wishing to use the Greeneridge Sciences demultiplexer must obtain the software directly from Greeneridge Sciences Inc. Installation of the Greeneridge Sciences demultiplexer only requires placing the file GreeneridgeDemux32.dll into the lib folder as described above. Installation of the Greeneridge Demultiplexing Software is optional, but recommended."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#a-technical-note-on-demultiplexers",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#a-technical-note-on-demultiplexers",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "A technical note on demultiplexers",
    "text": "A technical note on demultiplexers\nThe PAMGuard DIFAR module includes open-source demultiplexing software created at the Australian Marine Mammal Centre (AMMC). The implementation of this demultiplexing software is fundamentally different than that of Greenridge Sciences Inc. It has worked well in the limited testing that has been conducted, and it appears to give similar results to those from the Greenridge Sciencies demultiplexer.\nTo the best of my knowledge, the Greenridge Sciences demultiplexing library used by PAMGuard is based on algorthims and computer-code that has been used successfully over the past 10 years (at the very least) to analyse DIFAR data. Thus, it is recommended over the AMMC demultiplexer, which should work, but has not yet seen extensive use."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#verifying-installation",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#verifying-installation",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Verifying installation",
    "text": "Verifying installation\nTo verify that the PAMGuard DIFAR module is installed, run PAMGuard using either the shortcut from the start menu or command-line, and create a new blank settings (.psf) file. If installed correctly, the module should be available from the PAMGuard Menu under File -&gt; Add Modules … -&gt; Localisers -&gt; DIFAR Localisation, and there should be a corresponding entry under PAMGuard’s online help system under Help -&gt; Help. Since you have now gone to the trouble of opening the DIFAR Help, it might be a good time to take a few minutes to read through the PAMGuard’s help files in order to better familiarise yourself with general operation of the DIFAR module. NB: the online help for the DIFAR module is geared towards real-time operation, rather than the aim of this tutorial: post-processing."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#overview",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#overview",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Overview",
    "text": "Overview\nThe general process for post-processing DIFAR recordings is somewhat more convoluted than real-time acquisition, as data must be imported in Viewer mode, but analysed in Mixed-mode. It is assumed that the user has recordings from one or more DIFAR sonobuoys, recorded at a level and sample rate suitable for recovering the directional signals (e.g. the audio was not clipped during recording and the sample rate is at least 48 kHz). The purpose of post-processing such data is to obtain magnetic and/or true bearings to sound sources audible within these recordings.\nThe general procedure for post-processing data is to first configure the hydrophone array, then import the sonobuoy deployments as streamers in VIEWER mode. Ships tracks, if available can also be imported into Viewer mode. After import of sonobuoy deployments and ships tracks the DIFAR module and required sound-processing must be configured, and this can be done either in Viewer or Mixed-mode. Finally, acoustic data can be post-processed to obtain DIFAR bearings by running PAMGuard in Mixed-mode.\nAt this point it is wise to make a backup copy of your data/ existing PAMGuard databases before any post-processing, since post-processing may alter tables, rows, and columns of the PAMGuard database."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#database-preparation",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#database-preparation",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Database preparation",
    "text": "Database preparation\nPost-processing of DIFAR data requires a database module. All development and testing of the DIFAR module were conducted using the MS Access database module. NB: I have found that the older .mdb Access databases seem to work more reliably than the newer format .accdb database files, especially on computers where MS Access is not installed.\nIf a PAMGuard database has already been created for this dataset (e.g. PAMGuard was used initially when collecting the data), this database can be used in lieu of importing GPS and streamer data into a blank database. However, the more likely scenario is that there is no PAMGuard database, so one must be created. An easy way to create a new database is to simply create a copy of a blank database (e.g. the one distributed with this tutorial).\ncopy blank.mdb difarTutorial.mdb\nWith the blank database created, run PAMGuard in Viewer-mode, and select difarTutorial.mdb as the database."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#hydrophone-array-configuration",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#hydrophone-array-configuration",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Hydrophone array configuration",
    "text": "Hydrophone array configuration\nBefore importing any GPS or sonobuoy deployment data, the hydrophone array must be configured using PAMGuard’s Array Manager, either in Normal, Mixed, or Viewer-Mode.\n\nPresently, it is up to the user to correctly configure the streamers, hydrophones, and channel mappings within the Array Manager in a way that is sensible for DIFAR post-processing. Thus, some explanation of how the DIFAR module maps sonobuoy deployments to Hydrophone Elements and Hydrophone Streamers within the Array Manager is required. The total number of streamers and elements defined in the Array Manager must be equal to or greater than the total number of simultaneously recorded sonobuoys in the dataset. The DIFAR module assumes that each physical DIFAR sonobuoy that is deployed will have a single hydrophone element, and thus correspond to a single audio channel. In short, a one-to-one-to-one relationship is expected between the audio channel:hydrophone element:streamer.\n\nExample: single sonobuoy deployment\nFor a single sonobuoy deployment there will be one audio channel, and thus only one streamer and element is required. Configure that hydrophone element (i.e. id# 0) as follows:\nStreamer: Streamer 0\nHydrophone type: DIFAR\nHydrophone sensitivity: -122\nInterpolation: Use the location for the time preceeding each data unit\nThe other fields are not required, however if it is useful for your own purposes you can enter the deployment depth of the sonobuoy as the depth coordinate. The screenshot below shows a correctly configured hydrophone.\n\nNB: Assuming that the gain on the Analog-to-Digital Converter has been correctly set in PAMGuard, a value of -122 dB for the hydrophone sensitivity will get the spectrogram in the right ballpark of actual received levels, at least for DIFAR 53D sonobuoys received on a WinRadio G39 receivers and that have a roughly flat frequency response of 1 V audio output at 25 kHz frequency deviation. ICOM receivers (which have been commonly used on several past surveys) will have a different frequency response. The received levels won’t take into account the pre-whitening filter built in each sonobuoy (i.e highpass filter from 10-100 Hz, and from 100-1000 Hz, so received levels under 100 Hz will be displayed as lower than they really are, and received levels for signals over 100 Hz will display higher, and 100 Hz will be just about right.\nNext configure the streamer for this hydrophone by clicking on Streamer 0, and then clicking the edit button below. Most of the details for the streamer are not important at this point, as they will be overwritten in the next step when we Import the sonobuoy deployments. However, I have always set the following at this point:\nReference Position: Fixed location (moorings and buoys)\nHydrophone Locator Method to: Straight / Rigid Streamer\nInterpolation: Use the location for the time preceeding each data unit\n\nIf you have multiple datasets, or are planning on re-analysing data more than once, then you might want to Export the array to save yourself from having to follow the above steps for each data set. Click the Export button and name the array SingleSonobuoyArray.paf. Then the next time that you post-process the data, you can simply import SingleSonobuoyArray.paf instead of manually configuring the array by following the above steps.\nIf your data set only ever contains one-channel audio (i.e. recordings from only one sonobuoy at a time), then you can continue onto the section on Importing sonobuoy deployments as streamers. Otherwise continue with the example below.\n\n\nExample: Recordings with two sonobuoys\nIf your data contain simultaneous recordings from two sonobuoys (i.e. two channel audio), then add another streamer and another hydrophone and repeat the configuration steps for each of these as per the single-sonobuoy example above. When configuring hydrophone id: 1 be sure to assign it to Streamer 1 in order to maintain a 1:1:1 mapping between channels, hydrophones, and streamers.\nIf you have multiple datasets, or are planning on re-analysing data more than once, then you might want to Export the array to save yourself from having to follow the above steps for each data set. Click the Export button and name the array TwoSonobuoyArray.paf. Then the next time that you post-process the data, you can simply import TwoSonobuoyArray.paf instead of manually configuring the array by following the above steps. The screenshot below shows a properly configured two-sonobuoy array."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#sonobuoy-deployments-import-streamer-data",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#sonobuoy-deployments-import-streamer-data",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Sonobuoy deployments � Import Streamer Data",
    "text": "Sonobuoy deployments � Import Streamer Data\nIn order to plot the correct location of sonobuoys and DIFAR bearings on the PAMGuard map, one must first input the deployment time and location of each sonobuoy. This is achieved via Settings -&gt; Hydrophone Array -&gt; Import Streamer Data …\n\nThe trick to post-processing DIFAR data is to first import the sonobuoy deployments as streamers in VIEWER mode. Streamers can be imported as a CSV file. The CSV file should NOT have a header, as the CSV import can only cope with numbers (even for the StreamerName). The format for each row in the CSV file should be:\nStreamerName, StreamerID, Origin, Locator, Time, XPos, YPos, ZPos, XErr, YErr, ZErr, Heading, Pitch, Roll, Latitude, Longitude\nWhere:\n� StreamerIndex must be equal to an existing streamer ID (i.e. one that has already been added to the Array Manager; e.g. 0 for a single sonobuoy array, 0, or 1 for a two-sonobuoy array. The streamer index is effectively the channel mapping, since we have made sure to maintain a 1:1:1 relationship between channels, hydrophones, and streamers when configuring the array (see section above).\n� Origin can either be 0 or 1 for Ship GPS or Static origins.\n� Locator can either be 0 or 1 for threading or straight/rigid locators.\n� Time should be an Excel date-number. This can be achieved by typing a date and time into a cell in MS Excel and hitting , then change the format of that cell to Number.\n� X,Y,ZPos and X,Y,ZErr should be specified in metres.\n� Heading, Pitch and Roll should be in degrees. If the DIFAR compass correction is known, enter it into the Heading column. Pitch and Roll should probably be left null (as in the example below).\n� Latitude and Longitude should be in decimal degrees with negative Latitudes for the Southern Hemisphere.\nHere is an example of eleven deployments from the 2013 Antarctic Blue Whale Voyage. Note that the deployments on StreamerID 0 cannot by definition overlap in time with other deployments on StreamerID 0, so the deployment of the next streamer on a channel marks both the end of the previous deployment and the start of the new deployment. Deployments on streamerID 0 can quite happily overlap in time with deployments on StreamerID 1. Note that sonobuoy 59 was a failure, as it has neither a precise lat/long, nor Heading (i.e. compass correction), and another sonobuoy was deployed on StreamerID1 (i.e. channel 1) almost immediately afterwards (i.e. &lt; 1/100th of a day).\nThe entries below can be used as a template for your own data: simply change the first colum to your sonobuoy deployment number, the second column to the correct data channel/streamerID, the 5th column to your deployment time, the 12th column to your compass correction (or 0 or null if not known), and lastly change the last two columns to your latitude,longitude. When you are finished entering your sonobuoy deployments save the file as a .csv file.\n52,0,1,1,41312.65103,0,0,0,0,0,0,27.4,,,-62.53047,141.00856\n53,1,1,1,41312.75039,0,0,0,0,0,0,38.9,,,-62.54945,141.70648\n54,0,1,1,41312.78403,0,0,0,0,0,0,30.5,,,-62.48229,141.97649\n55,1,1,1,41312.83917,0,0,0,0,0,0,44.6,,,-62.31181,142.28328\n56,0,1,1,41313.03021,0,0,0,0,0,0,33.5,,,-62.45373,142.58243\n57,1,1,1,41313.06223,0,0,0,0,0,0,41.4,,,-62.5171,142.86876\n58,0,1,1,41313.11081,0,0,0,0,0,0,34.4,,,-62.49822,143.25349\n59,1,1,1,41313.14236,0,0,0,0,0,0,0,,,-62,143\n60,1,1,1,41313.15221,0,0,0,0,0,0,48.4,,,-62.57063,143.5453\n61,0,1,1,41313.21843,0,0,0,0,0,0,40.4,,,-62.45458,143.90166\n62,0,1,1,41313.37924,0,0,0,0,0,0,40.2,,,-62.73215,143.92734\nSelect your .csv file containing sonobuoy deployments via the Browse button on the Streamer Import Dialog, and Then click Ok.\n\nNB: After importing streamers, it is recommended that you avoid using the Array Manager, as this could potentially modify the imported streamers and will almost certainly introduce bugs or undesired behaviours in PAMGuard.\n\nValidating Streamer Import\nOnce imported a summary of the streamer data should appear in the Data Map in Viewer mode.\n\nThe time-slider on the Data Map in Viewer-mode can be used to further verify that the times of the sonobuoys are correct/sensible.\nAdditionally, adding a Map module should show the deployment locations on the PAMGuard Map (ensure that the Array Manager, Streamer Data option is checked, both by right clicking on the map and using the list, and by going to Plot Overlay Options).\n\nThe time-slider on the Map in Viewer-mode can be used to further verify not only that the times of the sonobuoys are correct/sensible, but that the locations are also sensible. You will most likely need to zoom and pan to the correct location of your deployments. Additionally, you will probably need to adjust the time window (via the button with a black downward pointing triangle) in order to scroll through multiple days of data.\n\nAdditionally, for two sonobuoy arrays, the map option to color the hydrophones by channel is very useful. This can be set by right-clicking on the Map -&gt; Map Options…\n\n\nIf the positions aren’t correct, or seem suspicious, then exit, re-load from your backup database, fix the CSV file, and try again."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-import-ship-tracks-gps-data",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-import-ship-tracks-gps-data",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "OPTIONAL: Import ship tracks (GPS data)",
    "text": "OPTIONAL: Import ship tracks (GPS data)\nImport of GPS data is only required if the GPS data are not already in the PAMGuard database (i.e. none of the data were originally collected with PAMGuard). GPS data of the ships track are required not only for viewing the track of the ship, but also to calibrate the compass of sonobuoys within the DIFAR module using noise from the vessel.\nFirst add a GPS Processing module:\nFile -&gt; Add Modules -&gt; Maps and Mapping -&gt; GPS Processing.\n\nNext choose the menu option to Import GPS Data:\nSettings -&gt; GPS -&gt; Import GPS Data …\n\nSelect the file that contains the GPS data. Data can be in NMEA 0183 strings within a text file (personally tested and verified) or presumably in other common formats such as GPS, KML (but I haven’t actually tried these). Importing a days worth of GPS data from NMEA text (i.e. 86400 NMEA strings) may take some time.\n\nThe dialog above is a good indication that your GPS data are being imported, and also that there’s probably time for a cup of tea.\n\nValidating GPS tracks\nAs with the sonobuoy deployments, ships tracks should be visible both on the Data Map, and the Map. Again, scrolling the time slider on the Map to see that the ships track and sonobuoy deployments line up provides a good reality check to ensure that the data are at least plausible.\n\n\n\nCleanup after import\nThe GPS Import can result in an MS Access database that has an excessive file size. This provides a good excuse to create a backup of the database now that the GPS track and Sonobuoy Deployment locations have been imported.\nClose PAMGuard Viewer, open the database in MS Access, and save the database as a new MS Access database: e.g. difarTutorial-Imported.mdb.\n\nAlso, at this point it will be useful to make a backup of this file to use as a starting point for future post-processing sessions. It may be good to keep this backup in a place where it cannot be confused with the working copy (e.g. another folder) since a database file is modified each-time it is loaded into PAMGuard."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#acoustic-data-files",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#acoustic-data-files",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Acoustic Data Files",
    "text": "Acoustic Data Files\nWith sonobuoys and ships tracks imported and verified, it is finally time to make PAMGuard aware of the acoustic data. Again run PAMGuard in Viewer mode, loading the newly saved database: difarTutorial-Imported.mdb.\n\nAdd a Sound Acquisition module: File -&gt; Add Modules … -&gt; Sound Processing -&gt;Sound Acquisition\n\nSometimes Adding Modules may cause PAMGuard to appear unresponsive, however clicking on the small arrow on the Data Map will restore PAMGuard to a responsive state:\n\nNow configure the Sound Acquisition: Settings -&gt; Sound Acquisition …\n\nSound acquisition is best handled if all of the acoustic files with DIFAR data are in a single folder, or a single set of subfolders. Files should have names that PAMGuard can interpret as a timestamp, e.g. code_YYYYMMDD_hhmmss.wav\n� Where code is a text identifier for the voyage (e.g. ABWV)\n� YYYY is the 4 digit year\n� MM is the two digit month (with leading zero for months 1-9)\n� DD is the two digit day of the month (with leading zero for days 1-9)\n� hh is the two digit hour of the day (24 hour clock i.e. no AM/PM with leading zero for 00-09)\n� mm is the two digit minute (with leading zeros)\n� ss is the two digit seconds (with leading zeros)\nDAQ Settings tab: Data Source Type: Audio file folder or multiple files\nClick the button: Select Folder or Files, and navigate to the folder containing the DIFAR acoustic files.\nMerge contiguous files should be checked, otherwise DIFAR data might be cleared from the queue and map for each new file that is processed.\nThe Peak-Peak voltage range is important for scaling the spectrogram and ensuring that received levels measured by the DIFAR module are somewhat representative of the actual received levels. If known, enter the Peak-Peak voltage range of the Analog/Digital converter that was used to digitise the files. For example: The Peak-Peak Voltage of the Fireface UFX recorder used for the 2013 Antarctic Blue Whale Voyage was 8.396 V for the “;Instrument” input with the gain was set to 20 dB. Thus one could enter either of the following which should be equivalent:\nPeak-Peak voltage range:8.396, Preamplifier gain:0 (tried and tested) or\nPeak-Peak voltage range:83.96, Preamplifier gain:20 (untested; should be equivalent).\n\nUnder the Offline Files tab, make sure the box Use offline files is checked and once again select the folder containing the DIFAR acoustic files.\n\nAs with the sonobuoy deployments and ships tracks, these data should now be added to the Data Map under the Sound Acquisition.\n\nThis concludes the preparation and import of metadata. It’s a good idea at this point to Save Data and Save Configuration (in the File menu). You can then close PAMGuard Viewer.\nAt this point it is wise to make a backup copy of your data/ existing PAMGuard databases before any post-processing, since post-processing may alter tables, rows, and columns of the PAMGuard database."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#overview-1",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#overview-1",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Overview",
    "text": "Overview\n\nRequired PAMGuard modules\nThe following modules are required for processing of DIFAR data:\n� Sound Acquisition: Already added and configured during Preparation and Import of Data\n� Decimator: To reduce the sample rate of the data you’ll actually be looking at to a few kHz or less, depending on your target species.\n� FFT (Spectrogram) Engine: To display a spectrogram of the Decimated data for manually marking detections, and also to be used as input to an automatic detector.\n� User Display: The DIFAR display modules and spectrograms can all be integrated into a single display module. However, if you’ve multiple screens, you may wish to make multiple user displays and spread out a little.\n� DIFAR Localisation: Contains the DIFAR specific components\n\n\nRecommended Modules\nThe following modules are not required, but are highly recommended to facilitate analysis of DIFAR Localisations\n� Additional FFT (Spectrogram) Engine processing raw data from the sound acquisition. The primary purpose of this FFT is to show the spectrum of the full signal which is a useful diagnostic to determine whether the DIFAR sonobuoy is functioning correctly. The spectrum of a correctly functioning DIFAR sonobuoy will show spectral peaks at the 7.5 and 15 kHz carrier frequencies. Absence of these peaks is a good indicator that something in the recording chain is amiss.\n� Database: DIFAR results are written to the database, so you’ll need one if you want to store results.\n� Binary store: Bearings, clips of audio that have been localised, and the processed DIFARGram are stored in the binary store, so like the Database, this module is useful for further analysis of localisations will be conducted.\n� GPS Processing and Map modules: Already added and configured during Preparation and Import of Data.\n� Whistle and moan detector: automated detection of whale sounds.\nThe figure below shows a typical PAMGuard model for DIFAR processing:\nIf you have followed the previous section of this tutorial (Preparation and Import of Data and Metadata) then the Sound Acquisition, Database, GPS Processing, and Map modules should already be present in your configuration, and will not need to be added, though the Map module will need almost certainly need to be reconfigured at a later time (e.g. after adding and configuring the DIFAR Localisation module)."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#decimators",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#decimators",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Decimators",
    "text": "Decimators\n\nOmnidirectional decimator\nThere is typically 3 kHz of usable bandwidth on the omnidirectional hydrophone on a DIFAR sonobuoy, thus it is useful to include a Decimator when viewing the spectrogram of the omnidirectional hydrophone.\nFile -&gt; Add Modules -&gt; Sound Processing -&gt; Decimator\nSince there will be multiple Decimators, it is useful for each to have a descriptive name e.g. Downsample to 6 kHz.\nNow configure the newly created decimator: Settings -&gt; Downsample to 6 kHz\nInput Data Source: Raw input from Sound Acquisition\nOutput sample rate: 6000\n\nClick on the button to modify the Filter settings\nThe following parameters are recommended for this filter:\nFilter Type: IIR Butterworth\nFilter Response: Low Pass\nFrequencies-&gt;Low Pass: 3000\nFilter order: 4\n\nClick Ok on all of the Decimator/filter dialog boxes in order to accept the newly configured parameters.\n\n\nLow frequency decimator (for blue/fin whale calls)\nIn addition to creating a decimated data stream containing only the omnidirectional hydrophone, it may also be desirable to create a further decimated data stream for investigation of very low frequency calls from baleen whales (especially blue and fin).\nFile -&gt; Add Modules -&gt; Sound Processing -&gt; Decimator\nSince this is the second Decimator, it should also have a descriptive name e.g. Downsample to 250 Hz.\nNow configure the newly created decimator: Settings -&gt; Downsample to 250 Hz\nInput Data Source: Downsample to 6 kHz\nOutput sample rate: 250\n\nClick on the button to modify the Filter settings\nThe following parameters are recommended for this filter:\nFilter Type: IIR Butterworth\nFilter Response: Low Pass\nFrequencies-&gt;Low Pass: 125\nFilter order: 4\n\nClick Ok on all of the Decimator/filter dialog boxes in order to accept the newly configured parameters.\nYou can check the flow of data through these Decimators by looking at the Data Model: File -&gt; Show data model …"
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#fft-engine",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#fft-engine",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "FFT Engine",
    "text": "FFT Engine\n\nLow frequency spectrogram (for blue/fin whale calls)\nViewing and often detection of sounds of interest in PAMGuard typically requires a spectrogram. Here we will add a single spectrogram and use the acoustic data that has been downsampled to 250 Hz as the source of this spectrogram. Add the spectrogram engine:\nFile -&gt; Add Modules … -&gt; Sound Processing -&gt; FFT (Spectrogram) Engine\nLike the Decimators, it is useful to give this FFT (Spectrogram) Engine a more descriptive name since there may ultimately be several of these modules. Since we will configure this FFT engine to use data from the 250 Hz decimator, it will be called Low Frequency FFT (Spectrogram) Engine. Now it needs to be configured. The settings below will yield ~1 Hz frequency bins and a time step of just over 100 ms, but with a lot of overlap between time slices.\nSettings -&gt; Low Frequency FFT (Spectrogram) Engine Settings …\nRaw data source for FFT: Downsample to 250 Hz data\nFFT Length: 256\nFFT Hop: 32\nWindow: Hann\n\nNB: I find these settings useful for visually inspecting blue and fin whale song as well as FM non-song calls such as D calls of blue whales and other low frequency FM calls made by many other baleen whales. Using the Decimator to reduce the sample rate to 250 Hz before taking the FFT can help achieve the desired balance between time resolution and frequency resolution, and additionally it substantially reduces computational requirements (compared to those required for comparable time-frequency resolution on a signal sampled at 48 kHz). Of course feel free to use any settings that suit your application.\n\n\nFull bandwidth spectrogram (for DIFAR diagnostics)\nIn addition to visualising the acoustic data from the omnidirectional hydrophone, viewing the full bandwidth spectrum (and spectrogram) can provide valuable diagnostic information regarding the VHF reception and correct function of the DIFAR recording chain. Add another spectrogram engine:\nFile -&gt; Add Modules … -&gt; Sound Processing -&gt; FFT (Spectrogram) Engine\nAgain this FFT (Spectrogram) Engine should have a descriptive name since there are now several of these FFT modules. Since we will configure this FFT engine to use data from the raw audio from the VHF receiver, it will be called Full Bandwidth FFT (Spectrogram) Engine. Now it needs to be configured. The exact settings for this are not critically important, as it will only be used for gross inspection the spectrum rather than detection of marine mammal sounds.\nSettings -&gt; Full Bandwidth FFT (Spectrogram) Engine Settings …\nRaw data source for FFT: Raw input data from Sound Acquisition\nFFT Length: 2048\nFFT Hop: 1024\nWindow: Hann\n\nAdditional FFT engines can be added as required; e.g. an FFT engine for the Omnidirectional decimator could be added to view mid-frequency baleen whale calls and low frequency odontocete whistles.\nAgain, you can check the flow of data through these Decimators by looking at the Data Model: File -&gt; Show data model …"
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#user-displays",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#user-displays",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "User Displays",
    "text": "User Displays\nIn addition to the FFT (Spectrogram) Engine, at least one User Display is required in order to actually visualise the output from the FFT Engine.\nFile -&gt; Add Modules … -&gt; Displays -&gt; User Display\nSince we may eventually have several displays, each should be given a descriptive name. This will be the display that contains the DIFAR interface, so it should be named Difar Display.\nA new tab with the named Difar Display should appear next to the Map. The new display is a blank canvas awaiting our configuration.\nDisplay -&gt; Difar Display -&gt; Add Spectrogram\nThe new spectrogram will need to be configured.\nData Source\nSource Data: FFT-256 point, 250.0 Hz-Low frequency FFT (Spectrogram)\nNumber of Panels: 2\nPanel 0 channel: 0\nPanel 1 channel: 1\n\nScales\nFrequency Range\nMin: 0\nMax: 100\nAmplitude Range\nMin: 40\nMax: 80\nColour model Fire (multicoloured)\nTime Range\nWindow length (s): 120\n\nPlug ins\nFull Bandwidth FFT (Spectrogram) engine\n\nPresently the Mark Observers tab is empty, but it is probably worth pointing out that we will need to revisit this tab again after we have added a DIFAR Localisation module. Ok.\nA spectrogram display should now be visible in the Difar Display tab. NB: The Difar Display will appear in the Data Model, but will not appear to be connected to anything � this is no cause for concern: User Displays never appear connected to anything in the Data Model.\nAt this point it is wise to make a backup copy of your data/ existing PAMGuard databases before any post-processing, since post-processing may alter tables, rows, and columns of the PAMGuard database.\nBefore further configuration, it may be useful to run through the data while viewing the spectrogram in order to test that the spectrogram parameters are reasonable. Additionally, the Full Bandwidth FFT plug in will give a good indication of whether the data are suitable for further DIFAR processing.\nClick the big red circle to run through the data in Mixed-Mode.\nIn the screenshot above, we can see that the colour scaling in the spectrogram appears reasonable: Tonal calls of Antarctic blue whales are visible at ~26 Hz, more prominently on channel 0 than channel 1, but above the background noise on both channels.\nThe panel on the bottom shows the instantaneous spectrum (i.e. spectrum at the latest time slice). In the screenshot above, the spectrum for channel 0 (blue) shows the characteristic shape of that of a DIFAR sonobuoy with good VHF reception (i.e. strong omnidirectional signal from 0-3 kHz, carrier tones at 7.5 and 15 kHz, and directional signals modulated onto both sides of the 15 kHz carrier). The flat spectrum shown for channel 1 (red) indicates that DIFAR processing is unlikely to be successful or reliable, despite the presence of what appears to be a 26 Hz call of an Antarctic blue whale at approximately 60 s.\nIn this specific case, we know that the sonobuoy associated with channel 1 was simply too far away to give adequate VHF reception for further DIFAR processing, however the time of arrival difference between the calls can still provide a strong indication that the calling whale is closer to the sonobuoy on channel 0 than the one on channel 1 (assuming that the detections on each channel actually correspond to the same call). This type of process, i.e. thought experiment starting from first principles, serves as useful reality check whenever using DIFAR sonobuoys, regardless of whether they seem to be operating reliably or not.\nIf the colour contrast or time-frequency resolution of the spectrogram is not to your liking, adjust and re-run until they are fit for purpose.\nAt this point it is wise to make a backup copy of your data/ existing PAMGuard databases before any post-processing, since post-processing may alter tables, rows, and columns of the PAMGuard database."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#data-and-buffers",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#data-and-buffers",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Data and buffers",
    "text": "Data and buffers\nThe default settings on the data panel should be acceptable if using the AMMC_EXPERIMENTAL Demultiplexer.\nData Source: Raw input data from Sound Acquisition\nDemultiplexer: AMMC_EXPERIMENTAL\nPrepend to clip (s): 0\nTime to keep Raw Data (s): 120\nQueued Data Buffer (m): 60\nProcessed Data Buffer (m): 10\nIf using the Greeneridge Sciences Demultiplexer, change Prepend to clip (s): 3. The Prepend to clip setting is only required in order to allow the Greeneridge Demultiplexer to “;Lock” onto the carrier signals before the sound of interest, and is not required by the AMMC demultiplexer."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#species-i.e.-call-classification",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#species-i.e.-call-classification",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Species (i.e. call classification)",
    "text": "Species (i.e. call classification)\nWe now need to add species/vocalisation-specific processing parameters under the Species tab. While the tab is called Species, it might actually be better named Call types, Vocalisations, or Classifications. This panel allows for the creation of different classifications for each call type, and each classification/call type can have its own parameters (e.g. sample rate, frequency band, angular resolution) for analysis of DIFAR localisations.\nClick on the Edit Species List button, and add two call types to the Lookup Editor (Difar Localisation species list).\n\n\n\nCode\nText\nSelectable\nSymbol\n\n\n\n\nAbw\nAntarctic blue whale song\nchecked\nBlue circle\n\n\nBwd\nblue whale d call\nchecked\nGreen triangle\n\n\n\n\nThe selected Line Colour of each symbol will be used for bearings to the species on the PAMGuard Map and Spectrogram, so selecting different line colours for each “;Species” is a good idea. Click Ok, on the Lookup Editor to accept these two new “;species.”\nNB: There are a couple of bugs regarding the symbols in the Lookup Editor: I find that filled (i.e. solid coloured) symbols are not typically desired, however The Fill checkbox does not seem to influence the whether symbols are actually filled or not. Instead, the Transparency can be set to 100 under the HSV tab of the Fill Colour panel (as per the figure below). Like the Fill checkbox, the Line thickness setting does not appear to influence the actual thickness of the symbol or bearing lines.\n\nNow we need to configure the DIFAR analysis parameters for each of the newly added “;species.” From the Select Species drop-down menu choose abw; Antarctic blue whale song, and enter the following parameters:\nDifar Calculation BARTLETT\nSample Rate.: 250\nFFT Length (samples): 256\nFFT Hop (samples): 32\nNumber of Angle Bins: 360\nIntensity Scale: 100\nBeamforming Frequency Max. (Hz): 30\nBeamforming Frequency Min. (Hz): 25\nMarked Clips: Beamforming (selected)\nAuto Detections: Beamforming (selected)\n\nAgain, from the Select Species drop-down menu choose bwd; blue whale d call, and enter the following parameters:\nDifar Calculation BARTLETT\nSample Rate.: 250\nFFT Length (samples): 128\nFFT Hop (samples): 16\nNumber of Angle Bins: 360\nIntensity Scale: 100\nBeamforming Frequency Max. (Hz): 125\nBeamforming Frequency Min. (Hz): 30\nMarked Clips: Marked (selected)\nAuto Detections: Detection (selected)\n\nAdditional “;species”/call classifications can be added as required and configured in the same way as above."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-calibration",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-calibration",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "OPTIONAL: Calibration",
    "text": "OPTIONAL: Calibration\nThe calibration tab is only required if you wish to obtain compass correction/calibration using DIFAR bearings that originate from the ships track (i.e. the one that was imported as per above). In addition to knowing the ships location, characterisation of the ship noise (i.e. identification a frequency band where ship noise remains well above background levels) is also required. This frequency band should then be entered for the Beamforming Frequency Max/Min in the Calibration tab.\nFor the tutorial dataset the following Calibration settings are appropriate:\nDifar Calculation BARTLETT\nSample Rate.: 2000\nFFT Length (samples): 1024\nFFT Hop (samples): 256\nNumber of Angle Bins: 360\nIntensity Scale: 100\nBeamforming Frequency Max. (Hz): 800\nBeamforming Frequency Min. (Hz): 600\nClip Length (s): 10\nInterval between clips (s): 10\nNumber of clips in sequence: 20"
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-automation",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#optional-automation",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "OPTIONAL: Automation",
    "text": "OPTIONAL: Automation\nThe Automation tab contains settings that should facilitate analysis of large numbers of detections.\nPresently no automated detectors are configured, but this top panel will need to be revisited later after adding a Whistle and Moan Detector (as per the section below).\nFor convenience, 3 Quick classification “;selectors” can be configured to appear next to audio clips in the DIFAR queue. Since we have only configured two “;species”, we will leave the third Quick classification empty.\nFor new users of the DIFAR module, it is recommend not to Auto-save processed clips until you are familiar with operation of the module."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#configuring-difar-displays-and-overlays",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#configuring-difar-displays-and-overlays",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Configuring DIFAR Displays and Overlays",
    "text": "Configuring DIFAR Displays and Overlays\nDIFAR processing is an interactive process with the computer doing the bulk of the work, but an operator making critical decisions such as validating detections, classifying sounds by species, and selecting/rejecting sounds for further processing and localisation.\nThe DIFAR module does not have its own tab panel. Instead the various displays you’ll need should be configured on the Difar Display panel.\n\nSpectrogram Overlays and Manual Detections\nThe Low frequency FFT (Spectrogram) should have already been added to the Difar Display, but now that we have a DIFAR Localisation module we can configure the DIFAR specific overlays and functionality. Right-click on each channel of the spectrogram and ensure that both Queued DIFAR Data, and Processed DIFAR Data are checked. Remember overlays for Queued and Processed DIFAR Data must be enabled separately for each channel.\n\nAdditionally, if you plan to mark detections by hand on the spectrogram then it is important to enable the DIFAR Localisation module to function as a Mark Observer on the spectrogram. Right-click on either channel of the spectrogram, select Settings �; select the Mark Observers tab, and ensure that DIFAR Localisation is checked.\n\n\n\nMap Overlays and Data Selectors\nFor single-monitor setups, you may also want to add an additional map to the DIFAR display. Speaking of maps, it is important to configure the Map Overlays for the DIFAR Localisation.\nRight-click on the Map and select Plot overlay options �\nEnsure that Plot and All are checked for both Array manager, Streamer Data as well as DIFAR Localisation, Processed DIFAR Data. Note that there are additional options available for the DIFAR Localisation, Processed DIFAR Data, and these can be accessed via the configuration button (i.e. the button with the gear icon). In future releases of the DIFAR Module the gear-icon will allow filtering of DIFAR bearings by species, amplitude, and tonal frequency.\n\nNB: Map overlays must be configured for each map module, so if you added an extra Map to the Difar Display, you will need to perform these steps on both that Map, and the one that is in the separate Map tab.\nIn addition to the Map Overlays, there are also DIFAR Localisation display options� under the Display menu. The default values for these options are perfectly acceptable, and further documentation for these options are available in PAMGuard’s Help System.\n\n\nDIFAR Displays\nIn addition to the spectrogram and map, a DIFAR Queue and a DIFAR Processing display are required to analyse DIFAR data.\nDifar Display -&gt; New DIFAR Localisation Queue\nDifar Display -&gt; New DIFAR Localisation Displays\n\n\n\ndifarUserDisplayMenu\n\n\nThe DIFAR Localisation Display does not require any configuration, and further documentation can be found in PAMGuard’s online help system.\nThe DIFAR Localisation Queue will likely need to be modified from the default settings in order to tailor the presentation of audio to suit the target species. Click the small downward pointing arrow below the label Actions to expand the viewing options for queued clips. Clips selected for DIFAR Processing will appear in the queue as a spectrogram, and the sample rate for these clips is determined by the sample rate for the Default “;species.”\nGenerally, the Min Amplitude should be adjusted to the same value that is used by the spectrogram: for the data from the 2013 ABW Voyage 40 dB works well. In my experience, DIFAR sonobuoys typically have a dynamic range of about 40-60 dB, so set the Amplitude Range to 40 dB. The FFT Length of the Queue will need to provide adequate frequency resolution at the sample rate of the Default species (which we set to 2000 Hz in the section above). The following settings are recommended for viewing clips of low-frequency sounds from blue and fin whales:\nMin Amplitude: 40 dB\nAmplitdue Range: 40 dB\nFFT Length: 1024 pt\nScale\nHorizontal: 8.00 x\nVertical: 0.25 x\nMax Niquist X:0.10\nMax Clips: 300\nMax Minutes: 120\nNew Clips Last: (checked)\n\nAfter configuration, the Queue settings panel can be hidden to make more room for clips by clicking the formerly downwards, but now upwards facing arrow on the far left of the panel."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#binary-storage",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#binary-storage",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Binary Storage",
    "text": "Binary Storage\nWhile the GPS, streamers, and other data are stored in the PAMGuard Database module, DIFAR Localisation should probably have a Binary Storage module as well.\nFile -&gt; Add Modules � -&gt; Utilities -&gt; Binary Storage\nFile -&gt; Storage options �\nMake sure that both Binary Store and Database are checked for Processed DIFAR Data.\n\nAdditional configuration of the Binary Store is required:\nFile -&gt; Binary Storage �\nSelect a location (i.e. folder) for the binary storage files using the Browse button, and if you are processing several days of data, it might be useful to Store data in sub folders by date.\n\nRemember that it might be a good idea to clean/move the Binary Store folder before each analysis session if you plan to re-analyse the same data multiple times.\nOnce you’re happy with the configuration, I recommend saving yet another backup copy of the database since post-processing may alter tables, rows, and columns of the PAMGuard database, and potentially destroy all of the configuration and data."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#controlling-the-speed-of-post-processing",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#controlling-the-speed-of-post-processing",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Controlling the speed of post-processing",
    "text": "Controlling the speed of post-processing\nHowever, unless you have Sound Output module enabled, post-processing will most likely run too fast to allow for manual marking of every sound of interest that you see on the spectrogram. However, the Sound Output can be used to control the overall speed of post-processing by adjusting the playback rate.\nSettings -&gt; Sound Output �\nIt is recommended that you not use the Raw input data from Sound Acquisition as the Data source. Rather, use either the Downsample to 6 kHz or Downsample to 250 Hz, as these will facilitate playback at a faster rate, and also have filtered the constant loud whistling of the 7.5 and 15 kHz DIFAR pilot tones. Make sure that at least one Channel is checked to enable the sound output. Also, make sure that the checkbox to Use default playback rate is unchecked. Though it may not be obvious, the post-processing speed will now be limited by the ratio of the sample rate of the Data source divided by the Playback rate. Thus, for the data source Downsample to 6 kHz a Playback rate of 48000 Hz will yield a post-processing speed of approximately eight times faster than real-time (provided that your computer has sufficient CPU processing ability to maintain that speed). Additionally, the “;sped-up” audio will be played through the output device (i.e. speakers) with pitch shifted by the same ratio. For low frequency sounds from blue and fin whales, shifting the pitch this way can facilitate aural detection of calls that would ordinarily be too low in frequency to be audible to most people.\nNB: You can adjust the Playback rate during post-processing in order to speed up long periods with little whale activity, or to slow down post-processing if there are many sounds of interest displayed on the spectrogram."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#post-processing-initial-run",
    "href": "localisation/difar/difarLocalisation/docs/difar_PostProcessingTutorial.html#post-processing-initial-run",
    "title": "Custom install of the PAMGuard DIFAR jarfile",
    "section": "Post-processing initial run",
    "text": "Post-processing initial run\nFinally, click the red button to begin post-processing. Imported sonobuoys should automatically appear on the Map at the correct time/position with no need for you to hit the Deploy button or modify anything in the Array Manager in any way. The spectrogram should show low-frequency audio, or it may require adjustment of the Min and Max Amplitude Range under the Scales tab, or via the floating menu that can be expanded by the semi-transparent leftward pointing arrow in the upper right of the spectrogram display.\n\nAfter ensuring that the audio in the spectrogram appears with adequate contrast, select a sound of interest by clicking and dragging on the spectrogram. As you click and drag, a box will appear around the sound of interest, and after you release the mouse, the sound will appear in the DIFAR Localisation Queue.\nRight clip on the clip, then click on one of the classifications (or simply click on one of the Quick classifications to the right of the clip if you have configured these) to analyse the sound of interest. The sound will be sent to the DIFAR Localisation Displays. In this display, you can check that the signal was demodulated by right-clicking on the spectrogram and inspecting the Demuxed NS and Demuxed EW signals, which should appear as amplitude shifted copies of the Demuxed Omni signal. Then save the localisation if you are happy with it; the bearing should appear on your map.\nAs always, bearings to the ship are a great way to confirm that the DIFAR module is working as expected.\nOnce you’re happy with the configuration, I recommend saving yet another backup copy of the database since post-processing may alter tables, rows, and columns of the PAMGuard database, and potentially destroy all of the configuration and data.\nRemember that it might be a good idea to clean/move the Binary Store folder before each analysis session if you plan to re-analyse the same data multiple times."
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_ManagingQueue.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_ManagingQueue.html",
    "title": "Managing the Queue",
    "section": "",
    "text": "Image of Difar Loacalisation Queue\n\n\nClips marked by the user or clips resulting from automatic detections are held in the DIFAR queue. At the top of the queue panel are a set of controls which can be used to resize and change the colour contrast on the clips. The top panel can also be hidden, using the small button on the left hand side of the control panel, in order to generate more space for sound clips.\nEach clip is displayed as a small spectrogram. To the right of each clip is a set of buttons which perform the following actions:\nDel: Permanently deletes the clip. No further processing will take place.\nProc: Sends the clip to the DIFAR Localisation display. Note that this button is only enabled once a species has been assigned to a clip. Since clips can be processed automatically once a species has been assigned, this button may only be necessary in situations where the unit was not processed because a clip was already in the DIFAR processor which had not been deleted or saved.\nVes: Marks the clip as a calibration (i.e. vessel) clip.\nClassification buttons: Up to three species buttons will be displayed, which were defined by the user. Pressing a classification button will automatically send the clip for processing.\nOther: If the user has defined more than three species, then pressing this button will generate a popup menu containing all species options.\nAutomatic Processing: There is an option in the Automation tab of the difar parameters tab to auto-process clips. When this option is checked clips will automatically be sent to the DIFAR Localisation display and the DIFARGram computed.\nPrevious: Using the Spectrogram\nNext: Using the DIFARGram Display",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Managing the Queue"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_GraphicsOutput.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_GraphicsOutput.html",
    "title": "Graphics Output",
    "section": "",
    "text": "As well as the DIFAR queue and the DIFAR localisation display, the DIFAR system can overlay data on both the spectrogram and the PAMGuard map. Data from the DIFAR Queue and the Processed clips will automatically be included in lists of possible overlays for both these displays. Additional options are also available from the Display / DIFAR Localisation Display options menu.\n\n\n\nPicture of Graphics Dialog\n\n\nDefault length: This is the default length of lines drawn on the map. Amplitude scaling is in use If multiple buoys are in use and a crossing point has been calculated, then this value is ignored and lines are drawn as far as the crossing point.\nAmplitude Scaling: If �Amplitude scaled line length’ is selected, then a range is estimated based on a nominal source level, the received level, and the geometric spreading model of the form  where g is the geometric spreading factor.\nFade bearings: If the fade bearings button is selected, then lines drawn on the map will fade from solid to transparent over the set time period.\nShow Vessels. If this is selected, bearings to vessels will be displayed as well as bearings to other sounds.\n\n\n\nPicture of Map\n\n\nPrevious: Calibration\nNext: Output from the DIFAR System",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Graphics Output"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_CrossingBearings.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_CrossingBearings.html",
    "title": "Advanced Localisation (Triangulation and Groups)",
    "section": "",
    "text": "The DIFAR Localisation module has two features intended to aid in real-time localisation of whales:",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Advanced Localisation (Triangulation and Groups)"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_CrossingBearings.html#crossing-bearings",
    "href": "localisation/difar/difarLocalisation/docs/difar_CrossingBearings.html#crossing-bearings",
    "title": "Advanced Localisation (Triangulation and Groups)",
    "section": "Crossing Bearings",
    "text": "Crossing Bearings\nIf more than one buoy is in use then the system will automatically attempt to cross bearings from two or more buoys to give a localisation of a sound source.\n\n\n\nMap with DIFAR bearings and Crossed Bearings\n\n\nWhen a sound is processed and it’s bearing calculated, the system searches back through the list of recently processed DIFAR clips from other buoys and checks if any existing bearings from the same species are close enough in time that they may have been the same sound. If they are, then the crossing point is calculated.\nNB: Crossing points are calculated on a rectangular grid, however sound propagation over long distances will typically follow a great-circle path. Thus crossing points that are very far from both of the sonobuoys may contain errors that arise from applying a rectangular grid that does account for the curved surface of the earth.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Advanced Localisation (Triangulation and Groups)"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_CrossingBearings.html#tracked-groups",
    "href": "localisation/difar/difarLocalisation/docs/difar_CrossingBearings.html#tracked-groups",
    "title": "Advanced Localisation (Triangulation and Groups)",
    "section": "Tracked Groups",
    "text": "Tracked Groups\nGroups is a feature that allows the operator to semi-automatically assign a text label to bearings that are believed to originate from a closely spaced group of calling whales. Summary statistics for each group are then calculated and can be plotted on the PAMGuard Map. The Groups panel on the DifarGram is used to manage and view the list of Groups as well as assign groups to DIFAR clips.\n\n\n\nPAMGuard Map with Tracked Groups\n\n\n\nAdding and removing groups\nGroups can be created and removed using the buttons. The Add group button will create a dialog-window that asks the user to type the name of a new group, and upon accepting the dialog-window the name of the new group is added to the list-box in the Groups panel. The Remove group button removes the currently-selected group’s label from the list-box. When a group is removed from the list-box, new bearings cannot be assigned to that group, however the PAMGuard database and map will retain the entry for that group. Groups that have been removed can be re-added to the list-box using the Add group button and typing the name of a previously removed group. NB: Group names are case sensitive, so “Apple” and “apple” are considered two different groups. The default group “No group” is always present in the list-box and cannot be removed. Summary statistics for the default group are not plotted on the map.\n\n\nAssigning Groups\nAssigning a group to a DIFAR clip involves selecting name of the group in the Groups panel before saving the clip. The selected/highlighted group will be assigned to the DIFAR clip when the clip is saved. The Groups module will then calculate a summary of the bearings from all of the DIFAR clips from that sonobuoy that were assigned to that group. Summary statistics include the mean and standard deviation of bearings to that group, the first and last bearings and detection times, and the total number of DIFAR clips assigned to that group. All summary statistics are calculated per-sonobuoy.\nAfter the first clip has been assigned to a group, PAMGuard will suggest that DIFAR clips with closely matching bearings be assigned to that group. When new clips appear in the DifarGram, the group with the closest-matching mean-bearing will be automatically highlighted. PAMGuard will only suggest groups that match closely to the bearing selected in the DifarGram. If the closest-matching mean-bearing is more than 10 degrees from that of the clip, then the default group will be selected (i.e. PAMGuard will not attempt to creat new groups, but the user should feel free to do so). NB: Because summary statistics are created for each group per-sonobuoy, automatic suggestions for a group will not work on newly deployed sonobuoys until at least one DIFAR clip has been assigned to that group on that sonobuoy.\n\n\nViewing Summary Statistics\n\n\n\nDifarGram with Controls for Tracking Groups\n\n\nTracked groups can be displayed on the PAMGuard Map in the same way as other detections (i.e. by right clicking on the map and selecting DIFAR Tracked Groups from the popup-menu). Tracked groups are shown on the map as semi-transparent wedges originating from each sonobuoy. The wedges are centred on the mean-bearing for that group, and the width of the wedges is four standard-deviations (two standard deviations anticlockwise from the mean-bearing, and two standard deviations clockwise from the mean-bearing). Hovering the mouse over the broad end of the wedge will popup the summary statistics for that group and that sonobuoy. Hovering the mouse over the name of the Group in the list-box on the DifarGram will display the summary statistics for all of the sonobuoys on which that group was detected.\nPrevious: Using the DIFARGram Display\nNext: Calibration",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Advanced Localisation (Triangulation and Groups)"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_ConfigureProcessing.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_ConfigureProcessing.html",
    "title": "Configure Processing",
    "section": "",
    "text": "The DIFAR localisation system is configured either from an item in the main Detection menu or by pressing the Settings button at the top of the DIFAR queue panel. Process Settings are laid out across a few different tabs on the dialog. Generally, you will only have to set up the Data and Species tabs and can leave other settings at their default values.\nData and buffers\nProcessing (Classification/Species)\nCalibration\nAutomation\n\n\nData and buffers\n\n\n\nData sources and buffers\n\n\nData Source determines which audio source will be used to when de-multiplexing DIFAR clips. This is generally the sound acquisition module connected to a sound card receiving multiplexed audio data from a VHF radio receiver.\nDemultiplexing Settings determines which demultiplexor (demodulator) will be used.\nMost DIFAR sonobuoys send data via VHF radio link back to an aircraft of nearby vessel. Consequently, the acoustic data from the three sensors are multiplexed into a single signal prior to transmission. An important part of the processing is therefore the de-multiplexing of the signal back into it’s three separate components, and to achieve this, PAMGuard makes use of a software library developed by Greenridge Sciences Inc. Greeneridge Sciences Demultiplexing Library is not included with PAMGuard and must be purchased separately. Upon purchase, you be supplied with a file GreenridgeDemux32.dll or GreenridgeDemux64.dll, and this should be placed in your Program Files (x86)/PAMGuardBeata/lib folder prior to launching PAMGuard.\nAn alternative to the Greenridge demultiplexor is the Australian Marine Mammal Centre (AMMC) Experimental Demultiplexor. This freely available, open source demodulator developed at the Australian Antarctic Division is included in PAMGuard within the DIFAR module. The AMMC Experimental Demodulator does not require purchase, and at the time of writing (July 2014) is not subject to export restrictions by the Australian Defence Control Export Agency. However, the AMMC module is considered Beta software and may not be as stable, reliable, or robust as the Greeneridge Demodulator.\nThe Greenridge demultiplexor is more robust and well tested, but must be purchased separately. The AMMC Expermintal demultiplexer is included by default.\n\n\nBuffers\nPrepend to clip: This is the amount of data (in seconds) added to the start of each DIFAR clip. When using the Greeneridge demodulator, this should be set to approximately 3 s or more to enable the phased lock loop in the DIFAR de-multiplexing module to lock onto the carrier signal. When using the AMMC demodulator, this should be set to 0.\nTime to keep Raw Data: The time in seconds that raw data are held in memory. Once data are discarded it is no longer possible to make clips from the data for DIFAR processing. Generally a couple of minutes is adequate. Increasing this too much can cause PAMGuard to run out of memory.\nQueued Data Buffer (m): The minimum number of minutes that data are held in the queue prior to processing before being automatically discarded. Additionally, there are also controls on the DIFAR Queue Display to determine how long data are kept in the queue.\nProcessed Data Buffer (m): The number of minutes that processed data are held prior to being discarded. Additionally, the Map Data Selector can determine how long processed data are kept.\nClear queued data at start: If this is selected, then each time PAMGuard starts, all queued data clips will be discarded.\nClear processed data at start: If this is selected, then each time PAMGuard starts, processed data objects will be discarded, and thus removed from the map.\n\n\n\nClassification (Species) Processing\n\n\n\ndifarParamsDialog_Clips\n\n\nThe PAMGuard DIFAR module uses the beamforming algorithms as described by (D’Spain 1994, McDonald 2004) to obtain an estimate of the signal power as a function of tonal frequency and magnetic bearing. We refer to the display of signal power as a function of frequency and bearing as the DIFARGram. For a given detection, the bearing and frequency with the highest power can usually be said to represent the direction of the vocalisation.\nParameters for creating the DIFARGram are controlled on this tab. The PAMGuard DIFAR module allows for a different DIFARGram parameters to be used for different “Species” (i.e. user-defined classifications) of vocalisations. The Edit Species List button allows the creation of new user-defined species classifications. The Select Species drop-down menu is used to select a species in order to edit itparameters.\n\nDIFARGram parameters\nDIFAR calculation allows selection of the beamforming method: either Bartlett or MVDR.\nSample Rate: After de-multiplexing, the data for each clip are decimated to a lower sample rate.\nFFT Length: The Fourier Transform length to use during DIFAR processing and display. This must be a power of 2.\nFFT Hop: The hop, in samples between successive FFT frames.\nNo. Angle Bins determines the angular precision when computing the DIFARGram. Generally, 360 bins, for a 1 degree resolution is adequate. Increasing higher than 360 degrees may substantially increase processing times.\nIntensity Scale is a numeric factor that controls the color scaling (i.e. contrast) of the DIFARGram. Specifically, a “floor” value is set for the DIFARGram that is equal to the maximum power in the DIFARGram divided by the Intensity Scale. Intensity Scale values between 10 and 10000 provide adequate contrast for most DIFAR data.\nBeamforming Frequency Max. and Beamforming Frequency Min. Maximum and Minimum frequencies to use to use when determining the bearings of a DIFAR localisation. For detections that were manually marked on the spectrogram, these values are overridden if the “;Marked” button is selected, in which case the frequency limits of the mark made by the operator will be used. For automatic detections, the values will be overridden if the “;Detection” button is pressed.\nLoad/Save List. These buttons can be used to save or load your list of classifications so that these lists can be easily shared and transferred among different settings files.\n\n\n\n\nCalibration\n\n\n\nCalibration panel\n\n\n\nIntensity calibration (sonobuoy frequency response)\nMost sonobuoys have a non-flat frequency response i.e. the intensity is shaped as a function of frequency in order to optimise the dynamic range of the FM signals sent across the limited bandwidth of the VHF radio link. The effects of this “pre-whitening” filter must be reversed in order to make calibrated intensity measurements from signals from sonobuoys.\nIn addtion to the frequency response of the sonobuoy, the frequency response of the VHF receiver must also be taken into account when measuring intensity of signals from sonobuoys that have been received over VHF radio. The View/Edit Frequency Response button can be used to create a single arbitrary FIR filter that will correct for the combined frequency response of the sonobuoy and the VHF receiver. Lastly, to ensure accuracy, make sure that the hydrophone sensitivity in the Array Manager is set to the correct reference sensitivity for each sonobuoy.\nExample: A DIFAR 53D sonobuoy is used with a WiNRADiO G39 sonobuoy VHF receiver.\nThe frequency response of the 53D sonobuoy (figure below) is given relative to the reference pressure (100Hz) and reference intensity (122 dB re 1 uPa RMS; as per Greene et al 2004).\n\nIntensity frequency response of a DIFAR 53D Sonobuoy (adapted from Greene et al 2004)\nThe hydrophone sensitivity is measured in dB re 1 V/uPa. Therefore the inverse of the reference intensity can be used as the sensitivity of the hydrophone in the Array Manager (Figure Below).\n\nSetting the hydrophone sensitivity in PAMGuard’s Array Manager\nAt the reference pressure and intensity the sonobuoy will generate a 25 kHz of frequency deviation. The voltage frequency response of the WiNRADiO G39 receiver is then measured at 25 kHz frequency deviation and found to be relatively flat at 1 V (i.e. 0 dB from 10 to 48000 Hz). These two frequency responses are combined and entered into the DIFAR module using the button View/Edit Freq. Response (Figure Below).\n\nSetting up a filter for obtaining calibrated intensity measurements from sonobuoys\nThe DIFAR module will now apply this filter to the data from the omnidirectional hydrophone when measuring the intensity (i.e. processing) of an audio clip. The resulting intensity measurements will be accurately referenced to 1 uPa RMS. NB: Specifications from sonobuoy manufacturers typically suggest that intensity is accurate to within �3 dB.\nCalibration GPS Source\nIf multiple GPS modules have been added to PAMGuard (e.g. in viewer mode or mixed-mode for post-processing of data), then this drop-down menu can be used to select the GPS module that contains the position of the calibration sound source.\n\n\nCompass calibration\nIn addition to providing a magnetic bearing to the source of acoustic detections, the DIFAR module provides a means to “;calibrate” the compass of the sonobuoy in order to account for local magnetic anomaly and the magnetic deviation inherent in the compass within the sonobuoy. After “;calibration” the DIFAR module will report all bearings referenced to true north. The procedure for “;calibrating” the compass is the same as that presented in detail by (Miller 2012, Miller et al. 2013, Miller, Collins, et al. 2014), and basically involves measuring several magnetic bearings to the known positions of a research vessel as it moves away from a sonobuoy after deployment. See here for details of running the calibration.\nAudio clips used for calibration, are treated as a special species and are processed and localised in much the same way as other species. The DIFARGram parameters for calibration clips are controlled using the top portion of this tab. The bottom portion of the tab can be used to set the length and number of clips to include in a calibration run.\nClip length (s): Length of each automatically generated calibration clip.\nInterval between clips(s): The number of seconds between automatically generated calibration clips.\nNumber of clips in sequence: The number of clips to include in the calibration run.\nAuto-process vessel clips: When checked, automatically generated calibration clips will be automatically moved from the DIFAR queue to the DIFAR processing module as soon as the previous clip is cleared from the DIFAR processing module.\n\n\n\n\nAutomation\n\n\n\ndifarParamsDialog_Automation\n\n\nThe main purpose of the DIFAR Localisation module is to process signals from directional DIFAR sonobuoys in order to obtain bearings to vocalisations from whales. The detection of whale vocalisations may take place automatically via any PAMGuard detector that can generate clips (e.g Ishmael energy and spectrogram detectors, PAMGuard’s whistle and moan detectors) or can take place via manual selection of calls on the spectrogram. Any number of these automated detectors can be used to present detections to the DIFAR module.\nAutomated Detectors: This panel lists all of the PAMGuard modules that are capable of generating detections that can be processed and potentially localised with the DIFAR Localisation module. The first column lists the name of the detector, and the checkbox in the second column determines whether or not the detections will be used by the DIFAR Locasitaion module. Be warned though that many detectors produce false alarms at a high rate which may fill the DIFAR queue very rapidly. The final column labelled “Classification” contains a drop-down menu containing all of the “Classifications” known to the DIFAR module. Selection of a classification species will force all of the detections for that detector to be classified and automatically processed accordingly. Automatic detection without automatic processing can be achieved by selecting the “Unclassified” species (i.e. listed first in the “Classification” drop-down menu).\nQuick classification: This panel controls which classifications, if any, will be prominently visible next to each detection in the DIFAR Queue. There can be up to three “;Favourite” species which will appear as buttons next to each clip in the DIFAR queue. NB: Species that are not “Favourites” will be available via a drop-down menu next to each clip.\nAuto Saving (and auto-processing)\nAuto-process classified clips: When this box is checked, clips that have a classification will be automatically processed (i.e. DIFARGrams will be created and displayed). If not checked, then the user must click on the Process button next to each clip in the DIFAR queue to process each clip.\nAuto save processed clips: If you select to Auto save processed data, then once a DIFAR clip has been processed it will automatically be saved after the set delay time using the maximum DIFAR angle and automatically crossing bearings to other detections if more than one buoy is in operation.\nGlobal Keyboard Shortcuts:\nKeyboard shortcuts can be assigned to any or all of the five actions listed under this panel. If any of these keys are pressed in any PAMGuard window (including, but not limited to windows created by the DIFAR module) their corresponding actions will be carried out if possible. Three of these actions, Save, Save without Crossbearing, and Delete have corresponding buttons on the DIFARGram. The remaining two actions will change the selected classification in the DIFAR Selection sidebar.\n\n\nAdvanced\nUse DifarGram summary line: When checked the angle with the maximum value of the summary line in the DifarGram will be automatically selected for newly processed bearings. When unchecked, the angle and frequency with that contain the maximum value of the DIFARGram will be selected for newly processed bearings.\nPrevious: Configuring the User Display\nNext: Running the DIFAR System",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Configure Processing"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_Calibration.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_Calibration.html",
    "title": "Compass Calibration",
    "section": "",
    "text": "In addition to providing a magnetic bearing to the source of acoustic detections, the DIFAR module provides a means to “;calibrate” the compass of the sonobuoy in order to account for local magnetic anomaly and the magnetic deviation inherent in the compass within the sonobuoy. After “;calibration” the DIFAR module will report all bearings referenced to true north. The procedure for “;calibrating” the compass is the same as that presented in detail by (Miller 2012, Miller et al. 2013, Miller, Collins, et al. 2014), and basically involves measuring several magnetic bearings to the known positions of the research vessel as it moves away from a sonobuoy after deployment.\nTo start a calibration run, press the “;Start Calib�” button at the top of the DIFAR queue display. If more than one buoy is deployed, then a drop down menu will appear allowing to select a single buoy. When you start a calibration, a window will appear showing two histograms. The top histogram shows uncorrected (Magnetic) bearings from the buoy, the bottom histogram shows the bearing correction required to line each clip up directly on the vessel.\n\n\n\nCalibration window\n\n\nNaturally there will be some scatter about the true value and there may be some values which are completely incorrect. The operator can right click with the mouse on the lower histogram to select the mean or the modal (most common) value. They can also drag the red line to the required position using the mouse.\nPressing Cancel will abort the calibration run.\nWhen the operator presses OK, a small option dialog will appear asking them to confirm that they wish to update the buoy heading. The updated heading data will then be stored with the PAMGuard Array Manager.\nIt is possible to simultaneously calibrate more than one buoy at a time.\nIf calibration of a sonobuoy in this manner is not feasible, compass corrections may be entered manually (e.g. using magnetic anomaly from a chart) as the Heading in the Streamer Dialog of the Array Manager. The Use Orientation Data checkbox should be checked.\n\n\n\nCalibration window\n\n\nPrevious: Crossing Bearings\nNext: Graphics Output",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Compass Calibration"
    ]
  },
  {
    "objectID": "localisation/difar/difarAudio/docs/directionalAudio.html",
    "href": "localisation/difar/difarAudio/docs/directionalAudio.html",
    "title": "DIFAR Directional Audio",
    "section": "",
    "text": "*Warning*\nThis module is BETA software. It has only received limited testing as of 23/09/2016 and it may crash and/or halt PAMGuard. As such, it may not be advisable to use during fieldwork or real-time data collection, but is probably reasonably safe to use for post-processing of existing data.\n*Use at your own risk*",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Directional Audio"
    ]
  },
  {
    "objectID": "localisation/difar/difarAudio/docs/directionalAudio.html#overview",
    "href": "localisation/difar/difarAudio/docs/directionalAudio.html#overview",
    "title": "DIFAR Directional Audio",
    "section": "Overview",
    "text": "Overview\nThe DIFAR Directional Audio module can be used to create a directional audio stream from data that have been collected from DIFAR sonobuoys. The module can be run in normal-mode, mixed-mode for post-processing/re-analysis of existing DIFAR recordings, and viewer-mode.\n\nBackground\nDIFAR sonobuoys contain a single omnidirectional pressure sensor, two directional particle-velocity sensors, and a magnetic compass. By applying signal processing techniques to the signals on each of the three acoustic sensors it is possible to listen preferentially in a chosen direction, and attenuate sounds that come from the opposite direction.\nThis module works well with the DIFAR Localisation Module.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Directional Audio"
    ]
  },
  {
    "objectID": "localisation/difar/difarAudio/docs/directionalAudio.html#configuring-the-directional-audio",
    "href": "localisation/difar/difarAudio/docs/directionalAudio.html#configuring-the-directional-audio",
    "title": "DIFAR Directional Audio",
    "section": "Configuring the Directional Audio",
    "text": "Configuring the Directional Audio\n\nRequired PAMGuard modules\nThe following modules are required for DIFAR Localisation.\n\nSound Acquisition: Recording data from a VHF radio receiver at a sample rate of 48kHz.\nNMEA, GPS. These module are required if you wish to use the Directional Audio module to reduce noise from the direction of the GPS (e.g. noise from the research vessel)\n\n\n\nRecommended Modules\nThe following modules are not required, but are highly recommened to facilitate analysis of DIFAR data.\n\nDIFAR Localisation: Contains a Sonobuoy Manager for easy tracking of metadata when deploying sonobuoys\nAdditional FFT (Spectrogram) Engine view the spectrum of the directional audio.\n\n\n\nSettings\nThe configuration for the Directional Audio are accessed via the Settings menu.\n\nThe Data Source must contain multiplexed audio from a DIFAR sonobuoy, including pilot tones at 7500 and 15000 Hz. The Directional audio module requires 24 kHz of audio bandwidth from the raw audio source (48 kHz minimum sample rate). An typical data source would be an Analog-Digital converter or sound card that is connected to the audio output of one or many VHF radio receivers.\nThe output sample rate of the directional audio is presently fixed at 8000 Hz, but can be resampled with a Decimator module.\nIf the option Use GPS data source for noise reduction is checked, then the Directional Audio module will attempt to adjust the listening direction in the opposite direction of the GPS data. Presently only GPS sources are available for noise reduction, but AIS sources, and possibly DIFAR localisations may also be available as Noise Cancellation locations in future releases.\n\n\nUsage\n\nNoise reduction\nThe Directional Audio module can be used to preferentially listen to audio from a particular direction, while attenuating audio from the opposite direction.\nThis module requires audio from a DIFAR sonobuoy and will output directional audio by using a beamforming algorithm. This module makes use of the AMMC DIFAR demodulator, and beamforming algorithm is that described in Equation 1 from Thode et al (2016). This module can use a GPS data stream to automatically set the listening direction in order to potentially reduce masking noise in the direciton of the GPS data source.\nWhen using GPS data for noise cancellation, the listening direction (steering angle of the beamformer) will automatically be set in the opposite direction of the GPS data source. The module uses the location of the current HydrophoneStreamer as the location of the sonobuoy. The Heading of the streamer is used to apply an additional Compass Correction to the angle between the Sonobuoy and GPS data.\nAs described by Thode et al (2016) steering the null of the beam towards the GPS bearing will attenuate sounds originating from that direction. The expected performance and limitations are described in detail by Thode et al, but in short, noise reduction typically applies to an entire quadrant (90 degree span of bearings, 45 degrees on either side of the null angle).\nAt present, this feature may be useful for detecting whales using DIFAR sonobuoys that have been deployed from a noisy vessel.\n\n\nDirectional Listening\nIf not using the GPS data for noise reduction, then the direction of listening can be adjusted manually by typing preferred listening angle into the Side Panel. The new listening direction will come into effect after hitting enter\n\n\n\n\nReferences\nThode, AM, KH Kim, RG Norman, SB Blackwell and CR Greene 2016. Acoustic vector sensor beamforming reduces masking from underwater industrial noise during passive monitoring. JASA-Express Letters 139(4) EL105-EL111. DOI:http://dx.doi.org/10.1121/1.4946011",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Directional Audio"
    ]
  },
  {
    "objectID": "localisation/bearingLocaliser/docs/BL_Settings.html",
    "href": "localisation/bearingLocaliser/docs/BL_Settings.html",
    "title": "Bearing Calculator Configuration",
    "section": "",
    "text": "Creating a Bearing Localiser module\nFrom the File &gt; Add Modules &gt; Localisers menu, select “Bearing Calculator”. Enter a descriptive name for the new module and press OK.\n\n\nConfiguring a Bearing Calculator module\nNote: A suitable Source module should be configured before configuring the Bearing Calculator. See below for details of acceptable sources.\nFrom the Settings menu, select “Bearing Calculator settings”. This will open up a new dialog containing 3 tabs: Source, Channel Groups and Algorithms.\n\n\n\nSource tab\n\n\nDetection Source: Which module triggers the Bearing Calculator. Many different detector modules can be used, including Click Detector, Whistle and Moan Detector, Spectrogram Annotation Marks, etc.\nData Source: Where the Bearing Calculator actually gets it’s data from. If the Detection Source already has suitable acoustic data with which to perform calculations, such as the Click Detector or Whistle & Moan Detector, this drop-down menu is disabled and the Detection Source is used for the Data Source (see image above right). If the Detection Source does not contain data, such as a Spectrogram Mark, the data source needs to be selected here (see image above left). The Data Source can be raw audio data or FFT data.\nFFT Parameters: If the Data Source is raw audio data, the FFT parameters to use for bearing calculations should be specified here. If the Data Source is already FFT data, the information here is for reference only and cannot be modified.\n\n\n\nChannel Grouping tab\n\nIf the Data Source on the Source tab already has channel grouping definitions (such as an FFT Module, Whistle & Moan Detector, Click Detector, etc), the channel grouping from that source is used here and cannot be modified (see image above right). If the Data Source does not define channel groups (such as Raw Audio Data), the grouping must be done here (see image above left).\n\nChannel Group Type: Select how the channels should be grouped, either No Grouping, a Single Group, or multiple (User) Groups.\nChannel Grouping: When a data source is selected, the dialog will show a series of check boxes - one for each channel available from that Source. Select the channels you want to use for bearing calculation, then to the right of each channel check box, assign the channel to a group. The group numbers themselves are not important - they just need to be different for each group.\nThe bearing algorithm will combine the information from all channels in a group and output the resulting signal. If there are multiple groups defined, there will be multiple output signals. In such a case, each signal will be identified by the group number.\nIn the above left image 2 groups have been defined, each with 4 channels.\nIf a detection is made in a single group, the channels in that group are used for bearing calculations and there is one set of output data. If this checkbox is selected, then bearings will be calculated for ALL groups when there is a detection in one of them. The timing information from the group with the detection is used for the groups without a detection, in order to calculate the bearing data.\nCare should be taken when selecting this option. If the hydrophone spacing is large between groups, the timing information from the group with the detection may not be applicable to the other groups. It is possible that the signal of interest would be missed, and resultant bearing data incorrect.\n\n\n\nAlgorithms tab\n\nThe user is able to select a beamformer algorithm for each group defined on the Channel Groups tab. The window displays the group number, and the number of channels associated with that group.\n\nAlgorithm: specify which algorithm to use for this group. There are 3 types of algorithms available: Basic Frequency Domain beamformer, Minimum Variance Distortionless Response beamformer (MVDR), and Time Of Arrival Difference (TOAD).\n\nThe Basic Frequency Domain beamformer algorithm combines the signals from multiple channels into a single output using a static set of weights.\nThe MVDR also combines the signals from multiple channels into a single output, but uses an adaptive weighting scheme which seeks to minimize the variance of the input signal. The MVDR is more processor-intensive, but may result in better noise reduction and signal amplification.\nTOAD seeks to calculate bearings based on the difference in detection time between pairs of hydrophones. It is the technique used internally by the Whistle & Moan Detector module to calculate bearings to whistles.\n\nSettings: press the settings button to open up the settings for the algorithm in a new dialog.\n\nPrevious: Bearing Calculator Overview\nNext: Configuring the Algorithms",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Bearing Calculator ",
      "Bearing Calculator Configuration"
    ]
  },
  {
    "objectID": "localisation/bearingLocaliser/docs/BL_Output.html",
    "href": "localisation/bearingLocaliser/docs/BL_Output.html",
    "title": "Bearing Calculator Output",
    "section": "",
    "text": "Basic Frequency Domain and MVDR beamformer Output\nThe output image shown below was generated using simulated right whale calls located 90 degrees to the ship heading.\n\n\nStandard spectrogram, using FFT Engine as source\nA whistle selected using the Spectrogram Annotation module.\nBearing localiser output for a Volumetric Array. The chart shows the amplitude (represented by the colour) vs. Primary and Secondary angles. The data for each point is averaged over all frequencies.\nThe white line shows the amplitude as a function of Primary angle.\nThe plus sign indicates the point of highest gain. This primary/secondary angle position is output as the bearing of the detection.\nBearing localiser output for a Linear Array. The chart shows the amplitude (represented by the colour) vs. Frequency and Primary angle.\nThe white line shows the amplitude as a function of Primary angle.\nThe plus sign indicates the point along the line of highest gain. This primary angle is saved as the bearing of the detection.\n\n\n\nTOAD Output\nThe output image shown below was generated using simulated right whale calls located 90 degrees to the ship heading.\n\n\nStandard spectrogram, using FFT Engine as source\nA whistle selected using the Spectrogram Annotation module.\nBearing localiser output for a Volumetric Array. The chart shows the log likelihood (represented by the colour) vs. Primary and Secondary angles.\nThe white line shows the log likelihood as a function of Primary angle.\nThe circle indicates the point of highest likelihood. This primary/secondary angle position is output as the bearing of the detection.\nBearing localiser output for a Linear Array. The chart shows the log likelihood (represented by the colour) vs. Primary angle. Since there is no Secondary angle information, the output appears as vertical bars.\nThe white line shows the log likelihood as a function of Primary angle.\nThe circle indicates the point of highest likelihood. This primary angle is saved as the bearing of the detection.\n\nPrevious: Bearing Calculator Algorithm Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Bearing Calculator ",
      "Bearing Calculator Output"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Welcome to PAMGuard Help",
    "section": "",
    "text": "This is a web version of the PAMGuard online help.\nPlease note that not all of the functionality of the online help system translates perfectly to a web browser, so there may be functionality in the online help that is not replicated here.\nUse the sidebar navigation to find your way through the help pages.\nIf you cannot see the side bar, expand the width of your browser window and it will appear."
  },
  {
    "objectID": "docs/batchoverview.html",
    "href": "docs/batchoverview.html",
    "title": "Overview",
    "section": "",
    "text": "The Batch Processing module can be used to run the same configuration file on multiple datasets without having to go into the configuration for every dataset to change the location of the source files, the output database name, and the location of the binary store.\nIt is particularly useful for processing datasets from deployments of multiple autonomous recorders, but also has application in re-processing of any data where you want to run the same PAMGuard algorithms on multiple sets of data. For instance if a new detector becomes available, you may want to re-process multiple sets of data from old cruises.\nThe module can process raw data using PAMGuard Normal Mode to run detectors on folders of sound files (Figure 1).\nIt can also be used to process data in PAMGuard Viewer Mode to perform tasks such as reclassifying clicks, or running the click train detector.\n\nFigure 1. Normal mode processing of raw audio data\n\nInstallation\nThe batch processing module is a plugin module, which needs to be added to your PAMGuard installation\nIf you’re reading this in the PAMGUard online help, you’ve already installed the Batch Processing module.\nOtherwise, you need to download the latest jar file using the links from the PAMGuard plugins pages, then copy the jar file into your plugins folder (e.g. C:\\Program Files\\Pamguard\\plugins) from where PAMGuard will automatically add it to the list of available modules in the Utilities menu next time you run PAMGuard.\nNext: Configuring the batch processor."
  },
  {
    "objectID": "docs/batchdiy.html",
    "href": "docs/batchdiy.html",
    "title": "DIY Batch Control",
    "section": "",
    "text": "While the batch processor module is useful if you’re working on a desktop computer, the functions built into PAMGuard to support batch processing can be controlled from other languages and it should be able to set up PAMGuard jobs to run on a server.\nEffectively, all that the batch processor is doing, is launching PAMGuard with a lot of extra command line options. For instance, the command line of a typical job (from the batch processing tutorial) might be something like:\n“-batch” “-psf” “C:\\ProjectData\\Compass\\compass_settings_static_logger_Job1.psfx” “-wavfilefolder” “C:\\ProjectData\\Compass\\soundtrapdata\\Hyskeir” “-binaryfolder” “C:\\ProjectData\\Compass\\PAMGuardOutput\\Hyskeir_binary” “-databasefile” “C:\\ProjectData\\Compass\\PAMGuardOutput\\Hyskeir_database” “-autostart” “-reprocessoption” “CONTINUECURRENTFILE” “-multicast” “230.1.1.1” “12346” “-netSend.id1” “1” “-netSend.id2” “5054”\nThe meanings of these commands are documented on GitHub\nAs an example, the Matlab code below will search for folders of wav files and then run the same configuration on each folder of wav’s, using the folder name to generate binary folder and database names.\nroot = ‘C:\\ProjectData\\DCLDE2024\\’; psfx = ‘C:\\ProjectData\\DCLDE2024\\dclde2024rw.psfx’; pgExe = ‘C:\\Program Files\\Pamguard\\Pamguard.exe’ subdirs = dir(root); for i = 1:numel(subdirs) if (subdirs(i).isdir == false) continue end subPath = fullfile(root, subdirs(i).name); wavs = dir([subPath, ‘\\*.wav’]); if numel(wavs) == 0 continue end % now make a new binary folder name and database name based on the path binName = fullfile(root, [subdirs(i).name, ‘binary’]); dbName = fullfile(root, [subdirs(i).name, ‘database.sqlite3’]); % see https://github.com/douggillespie/PAMGuard/wiki/Command-Line commandOpts = sprintf(‘-psf “%s” -wavfilefolder “%s” -binaryfolder “%s” -databasefile “%s” -autostart -autoexit’, … psfx, subPath, binName, dbName); fullCmd = sprintf(‘“%s” %s’, pgExe, commandOpts); pgOut{i} = system(fullCmd); fprintf(‘completed PAMGuard run on %s\\n’, subdirs(i).name) end\nPrevious: Creating Batch Jobs."
  },
  {
    "objectID": "docs/batchconfiguration.html",
    "href": "docs/batchconfiguration.html",
    "title": "Configuration (Normal mode)",
    "section": "",
    "text": "Whether you are planning to run jobs in Normal Mode to process raw data, or whether you plan to use Viewer Mode to run tasks on processed data, the Batch Processor module always runs in Normal Mode.\nTo configure the batch processor, start PAMGuard in normal mode with a new / blank configuration and add two modules: a database and the batch processor module.\nNo other modules should be added to the configuration, except perhaps a User Input module which would allow you to make notes about what you’ve been doing with the batch processor.\nOn no account should you add any Sound Processing, or Detection, Classification, or Localisation modules to this configuration which should now look something like the image below.\n\n\nSelect Operation Mode\nIn the top left “Job Control” panel select “Raw data processing (normal mode)”.\n\n\nDetector Configuration\nThe detectors and other sound processing you want to perform on your data are all controlled from the Configuration panel at the top of the display. Here, you select the configuration file that you want to use to process all of your different batch jobs with exactly the same settings.\nThe most common thing to do, is to take a configuration file that you are already happy with, and have tested on some of the data, and select that configuration using the Browse button, however, you can also use the Browse button to create an empty configuration to work with and then add the modules you require.\nTo view or modify the configuration, press “Launch Configuration”. This will open the configuration in a separate PAMGuard window where you can view and modify any of the sound processing and detector settings.\nDon’t worry about which folder of sound files, database, and binary store are set in the configuration. These will all be overwritten with new values for each job when it runs.\nRemember to save the configuration when you’ve made modification, or the changes may not get used when you come to process new data\n\n\nCalibration Data\nEven if you’ve deployed near identical instruments, you may have slightly different calibration data for each one, or perhaps hydrophone spacing changed slightly in towed arrays used in different years. Once you’ve added jobs you can set calibration data individually for each dataset. Changes to the hydrophones are the only differences you’ll be able to make between the configuration running on each of your datasets.\nPrevious: Batch Processor overview.\nNext: Creating Offline Tasks."
  },
  {
    "objectID": "displays/timedisplayfx/docs/timedisplayfx.html",
    "href": "displays/timedisplayfx/docs/timedisplayfx.html",
    "title": "Overview",
    "section": "",
    "text": "The Time Display FX is a general and flexible display for displaying time based data from multiple sound processing and detection modules.\nThe display uses the Java FX graphics library which is only available if you are running Java version 8 or above (i.e. not Java 7).\nTime is always displayed along one axis of the display, the units of the other axis can vary depending on the type of data, for instance, click detector output can contain bearing, inter-click interval, amplitude or frequency information, whereas FFT output can only display frequency information.\nTypes of data which can be shown on this display are shown in the table below:\n\n\n\nPAMGuard Module\nData Type\nAxis type(s)\n\n\n\n\nFFT (Spectrogram) Engine\nFFT Data\nFrequency\n\n\nClick Detector\nClicks\nBearing; Interclick interval (ICI); Amplitude; Frequency\n\n\nWhistle and Moan Detector\nWhistle / Moan Contours\nBearing, Frequency\n\n\nSound Acquisition\nRaw Audio Data\nAmplitude\n\n\n\nData from other modules will be added in future releases\n\nConfiguring the display\nAny number of Time Displays can be created within PAMGuard User Display Panels.\nOnce a User Display Panel has been created, the option to create a “New time base display fx” will appear in the User Display menu. Select this menu option and an empty display container will appear.\n\nClick on the downward poining arrow ‘V’ in the middle near the top of the display to show the display configuration panel.\n\n\n\nGraphs and Data\nTo configure the display the user must understand the concept of “Graphs”\nA display panel can contain any number of graphs, with each one being stacked vertically in the display. All graphs within a display panel will share a common time axis and time scroll bar, however each graph can have a different data axis dimension (e.g. bearing, frequency, amplitude, etc.)\nThe data axis dimension is controlled by the type of data added to each graph.\nTo add or remove graphs, use the + and - buttons at the left end of the configuration panel\n\nAdd data to a graph by clicking on the Graph buttons in the configuration panel to show a drop down menu of available data types (if no data are available, then add some modules to your PAMGuard configuration). Data can be removed from a graph using the same menus.\n\nYou can add as many types of data to a graph as you wish and the data will be plotted on top of one another. There are no constraints as to which data are mixed within a graph, but the user should select data which can be plotted on a common axis, i.e. it’s not sensible to select one type of data which can only display frequency and another which can only display amplitude.\n\n\nAxis Dimensions\nOnce data have been added to a graph, the display will examine each type of data to see which data dimensions it supports and construct a list of possible dimensions from all types of data connected to that graph. To select the dimension of the display axis, click on the small &gt; arrow in the top left corner of a graph and a larger panel will appear showing all possible options.\n\nIn this case, the graph is showing both Spectrogram data (FFT 2kHz) and the output of a Whistle and Moan detector (Moans Contours). The Spectrogram data can show only on a Frequency axis, whereas the moans can show either on a frequency or on a bearing axis. Therefore if the frequency axis is selected, both the spectrogram AND the Moans Contours will show, however if the bearing axis is selected, then only the Moans will show.\nAlso note that the display has discovered that the FFT data is multi-channel (channels 0 and 7 in this case) and additional options have been provided to display only certain channels of data. Different channels are displayed within separate display strips within each graph.\n\n\nScrolling\n When running in real time mode, the display can operate in “Scroll” or “Wrap” mode. Toggle between the two modes using the button with left / right arrows in the configuration panel. Scrolling often looks nicer, but if you’re trying to mark data in real time, wrapping can often be easier since things are moving around less.\n\n\nData Marking\n To mark data on the display, select the “Allow marking” button in the configuration panel. To make and use data marking, you will also need to correctly configure the relationship between the display and marked data and will have to hold down the Ctrl while making marks. For more information see Display Marking. The display will pause while marks are being drawn.\n\n\nData Display Options\nMany types of data have a number of options controlling how they are displayed, for instance the colour used for symbols, amplitude ranges of spectrograms, etc.\nConfiguration panels for individual data types are available by clicking on the settings button in the top right corner of each graph. The example below shows settings panels for a graph showing Spectrogram and Whistle and Moan Detector data. For the spectrogram, the user can select the frequency range to display and the amplitude colour and scale. For the ‘moans’ it is possible to select a symbol type and colour.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Time Display FX ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram_Creating.html",
    "href": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram_Creating.html",
    "title": "Creating a Spectrogram Display",
    "section": "",
    "text": "First you must have created an instance of a User Display Panel\nFrom the User Display menu select User Display&gt;New Spectrogram Display?\nA Spectrogram Display Parameters dialog will open allowing you to set display options. Click Ok and the spectrogram display will be added to the user display panel.\nPrevious: Spectrogram Overview\nNext: Configuring a spectrogram display",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Spectrogram Display ",
      "Creating a Spectrogram Display"
    ]
  },
  {
    "objectID": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram.html",
    "href": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram.html",
    "title": "Overview",
    "section": "",
    "text": "A spectrogram is a graphical representation of sound, showing amplitude against time and frequency. Most often, time is shown on the x axis, frequency on the y axis, and amplitude is shown in greyscale, or colour.\nThe PAMGuard spectrogram uses output from the FFT (Spectrogram) engine module, which in turn requires raw data from an Sound Acquisition module, Decimator module, or some other producer of raw data in PAMGuard.\n\nThe PAMGuard spectrogram display\nSpectrogram windows not only display spectrograms, but they can also form a container for plug in graphics modules for detector data that is to be displayed beneath the spectrogram windows or in the case of the whistle detector, on top of it.\n\n\n\nSpectrogram example with plug ins\n\n\nEach spectrogram display contains two main section divided by a movable divider that can be used to alter the size of each section.\nEach section may be divided into several sub-displays.\nThe top section (which always exists) displays a number of spectrogram windows with optional graphic overlays from some PAMGuard detectors\nThe bottom section (which is optional) displays plug in displays from other parts of the PAMGuard system for showing data such as waveforms, detector output, trigger functions, etc. Data shown in the plug in panels will scroll in synchrony of the spectrogram data in the top section.\nThe types of plug in panels available will depend on the current PAMGuard configuration.\nNext: Creating a Spectrogram Display",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Spectrogram Display ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/radarDisplayHelp/docs/UserDisplay_Radar_Configuring.html",
    "href": "displays/radarDisplayHelp/docs/UserDisplay_Radar_Configuring.html",
    "title": "Configuring a Radar Display",
    "section": "",
    "text": "Radar display options are set when the display is first created, and they can be adjusted at any time using the popup menu accessed by right clicking on the radar plot.\nThe Radar Display Parameters Dialog has two tabs\n\nScales Tab\n \nName: each display may be named individually as an aid to the user\nStyle: select the type of radar display - Full, Right half, Left half, Front half or Rear half.\nRadial Axis: select either amplitude or distance.\nIf planar or a volumetric array is being used and slant angle is available, then there will be an additional option to display slant angle on the radial axis.\nThe lower panel will automatically change between Amplitude Range and Distance Range depending on the Radial Axis selection.\nWhen using Amplitude Range, it is common to enter the maximum amplitude as the minimum value so that louder sounds appear closer to the centre of the display. It is however possible to enter these numbers the other way around so that louder sounds are closer to the perimeter of the display.\n\n\nDetectors Tab\n\n\n\nScales - Range\n\n\nThe detector tab lists data blocks in the PAMGuard system that can be overlaid on the radar plot. The contents of this list will depend on which detectors are included in the current PAMGuard system.\nTo display data from a particular detector, tick the check box. Also enter the time in seconds that you wish each detection to be displayed for. Generally detections which occur at a high rate, such as clicks, should only be displayed for a short amount of time. Detections that are less common (such as manually tracked clicks) may displayed for longer without cluttering the display.\nPrevious: Creating a radar display",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Radar Display ",
      "Configuring a Radar Display"
    ]
  },
  {
    "objectID": "displays/LocalTime/Docs/LocalTime.html",
    "href": "displays/LocalTime/Docs/LocalTime.html",
    "title": "Local Time",
    "section": "",
    "text": "This module displays the local time of the PC in the side panel of the main PAMGuard GUI.\nNote that all PAMGuard data collection and display modules will continue to use Universal time (UTC or GMT).\n\nCreating the module\nFrom the File&gt;Add modules&gt;Displays menu, or from the pop-up menu on the data model display select “Local time”. Enter a name for the new module and press Ok.\n\n\nConfiguring the module\nThe module has no settings, but you might want to adjust the position of the display in the side panel which can be done by changing the order of the modules from the File&gt;Module Ordering menu command.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Local Time ",
      "Local Time"
    ]
  },
  {
    "objectID": "displays/displaymarks/docs/displaymarks.html",
    "href": "displays/displaymarks/docs/displaymarks.html",
    "title": "Overview",
    "section": "",
    "text": "PAMGuard contains powerful methods for manually marking and selecting data on many of it’s displays. Manually marking data is often an essential step in data analysis whether it be in real time of offline using the PAMGuard Viewer\nThere are two essential components making up the mark system, Mark Sources and Mark Observers.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Display Marking ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/displaymarks/docs/displaymarks.html#mark-sources",
    "href": "displays/displaymarks/docs/displaymarks.html#mark-sources",
    "title": "Overview",
    "section": "Mark Sources",
    "text": "Mark Sources\nMark Sources are displays that can respond to mouse or touch actions to mark out a region of that display.\nDisplays which currently have this functionality are the Spectrogram Display, the Map and the FX time based display.\nThe click Detector continues to have it’s own marking system for linking clicks into click trains. The marks from the click detector cannot currently be sent to other Mark Observers. However, the Click Detector can now act as a Mark Observer, receiving mark information from other Mark Sources.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Display Marking ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/displaymarks/docs/displaymarks.html#mark-observers",
    "href": "displays/displaymarks/docs/displaymarks.html#mark-observers",
    "title": "Overview",
    "section": "Mark Observers",
    "text": "Mark Observers\nMark Observers are PAMGuard modules which receive an respond ot marks from the Mark Sources.\nMark Observers are the Click Detector event management system , the new Detection Group Localiser module, the DIFAR module, the Clip Generator and the Spectrogram Annotation module.\nSome Mark Observers will respond immediately to the arrival of a mark, others may display a pop-up menu or a dialog box requiring additional user input.\nHow each Mark Observer used the mark data is very module specific, so you should refer to the documentation for the observer module for details.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Display Marking ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/displaymarks/docs/displaymarks.html#mark-source-observer-relationships",
    "href": "displays/displaymarks/docs/displaymarks.html#mark-source-observer-relationships",
    "title": "Overview",
    "section": "Mark source / Observer Relationships",
    "text": "Mark source / Observer Relationships\nWhich Mark Sources send marks to which Mark Observers can be controlled by the user.\nSome Mark Sources and some Mark Observers may include a list of Observers or Sources to select within their own configuration dialogs. There is also a master configuration dialog controlling all relationships between Markers and Observers which can accessed from the Display/Display marks and observers menu item\n\nIn this example, there are four different Mark Sources and three Mark Observers\nBoth the Beaked Whale detector and the Detection Group Localiser can use marks made on displays with any axis units (e.g. Latitude / Longitude on the map or Bearing / Time on a bearing-time display), whereas the DIFAR module can only handle marks made on a spectrogram type display with units of Frequency and Time. Consequently, check boxes for linking some maek sources (the map and one of the fx display graphs) are not available.\nWhile it is possible to have multiple observers of a single mark source, generally this is not recommended",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Display Marking ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/displaymarks/docs/displaymarks.html#data-selection",
    "href": "displays/displaymarks/docs/displaymarks.html#data-selection",
    "title": "Overview",
    "section": "Data Selection",
    "text": "Data Selection\nSome mark observers may use the coordinates of the mark (in whatever units were in use on the marked display), others may use a list of data from the display indicating which data units were enclosed within the mark or in some way overlapped with the mark.\nSome Mark Observers may also contain additional data selection options so that only certain types of data unit from within a marked area are included in whatever actions take place within the Mark Observer. For details, refer to documentation for the specific Mark Observers.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Display Marking ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/displaymarks/docs/displaymarks.html#marking-data",
    "href": "displays/displaymarks/docs/displaymarks.html#marking-data",
    "title": "Overview",
    "section": "Marking Data",
    "text": "Marking Data\nIndividual displays may have restricted or altered the way in which marks are made, but generally, there are two types of marks that can be made, Rectangles and Polygons\nNot all displays work in the same way, although we are in the process of trying to standardise their behaviour as much as possible across PAMGuard\nMain points to note at that not all displays will support Polygon Marks and some displays (the Map and the FX displays) require the Ctrl key to be held down while the mark is made. Also note that displays will not create or show a mark if the display is not linked to one or more Mark Observers.\n\nRectangular Marks\nTo make a rectangular mark, hold the Ctrl key, press the mouse at one corner of the area you wish to mark and drag it across to the opposite corner before releasing the mouse button.\nIt does not matter whether the mouse is dragged from left to right or right to left or op rather than down the display.\n\n\nPolygon Marks\nTo make a polygon mark, hold the Ctrl key, click at the point you wish to start the polygon at, then repeatedly click around the area you wish to mark. The polygon will be closed when you click close to the start of the polygon.\nYou can cancel marking by right clicking with the mouse at any time.\n\n\nNotifications to Mark Observers\nNotifications of the current mark size, shape and status are sent to Mark Observers each time the mark changes. Most Mark Observers are programmed to only act when the mark is complete, i.e. the mouse has been released from a rectuangular mark or a polygon mark has been closed.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Display Marking ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/dataselect/docs/selectandsymbol.html",
    "href": "displays/dataselect/docs/selectandsymbol.html",
    "title": "Overview",
    "section": "",
    "text": "PAMGuard contains powerful methods for choosing which data to display, and which symbols should be used to display it. This is achieved using Data Selectors and Symbol Choosers.\nData properties are often quite different for the various PAMGuard detectors, so different options are available which reflect what is appropriate for each type of data. Increasingly, data may be grouped into ‘Events’ or ‘Super Detections’ in which case data may also be selected or coloured by the properties of those groupings. Further, PAMGuard is increasingly using annotations, for instance allowing the user to develop their own form to add information to a spectrogram mark. Again it is possible for the user to select and colour based on the content of these annotations.\nData selector and symbol chooser options are usually accessed by clicking on the display with the right mouse button and selecting the small wheel like icon on the popup menu items.\n\nAs well as being different for each type of data, PAMGuard also creates a unique data selector and symbol chooser for each display. This means that you can select one subset of data on one display, and a different type of data on another. For example, you might chose to have two map displays, one showing clicks that have been classified as harbour porpoise and another map showing beaked whales. Similarly, you might have a display of clips from the clip generator which shows all of the clips, and a second display which only shows those that have been included in a group detection.\nMore on Data Selectors\nMore on Symbol Choosers",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Data Selection ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/whistleMoanHelp/docs/whistleMoan_Overview.html",
    "href": "detectors/whistleMoanHelp/docs/whistleMoan_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "The Whistle and Moan detector can be used to detect any tonal vocalisation, including odontocete whistles and baleen whale calls. Details of the operation of the detector are available in Gillespie et al, (2013).\nThe Whistle and Moan detector supersedes the old PAMGuard Whistle detector which should no longer be used.\nThe Whistle and Moan detector can be used alone, or with the Whistle Classifier which can be used to identify groups of whistles to species.\n\nCreating a Whistle and Moan detector\nFrom the File&gt;Add modules&gt;Detectors menu, or from the pop-up menu on the data model display, select “Whistle and Moan Detector”. Enter a descriptive name for the new detector (e.g. Whistle detector) and press OK.\n\n\nGeneral Principle of Detection\nDetection is a multi-stage process, the main steps being\n\nComputation of a spectrogram from raw audio data\nProcessing of the spectrogram to remove noise (especially clicks)\nThresholding to create a binary map of regions above threshold\nConnecting regions of the binary map to create sounds\nBreaking and then rejoining branches of complex regions (for instance, if two whistles cross)\n\n\nReferences\nGillespie, D., Caillat, M., Gordon, J., and White, P. (2013). “Automatic detection and classification of odontocete whistles,” The Journal of the Acoustical Society of America, 134, 2427-2437.\nNext: Configuring the Whistle and Moan Detector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle and Moan Detector ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigSource.html",
    "href": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigSource.html",
    "title": "Data Source",
    "section": "",
    "text": "To use the Whistle and Moan detector, you will need to configure a FFT (Spectrogram) Engine. When selecting the FFT length and hop, consider the time and frequency resolution of the spectrogram. For instance, a 1024 pt FFT with 50% overlap (512 pt hop) operating on data with a sample rate of 48 kHz will have a frequency resolution of 47Hz and a time resolution of approximately 10ms. Generally, for detecting dolphin whistles with data sampled at 48 kHz, a 512 pt FFT length and 256 pt Hop is suitable. At higher sample rates, scale the FFT length and hop accordingly, i.e. at a sample rate of 96 kHz use a FFT length of 1024 pt and a hop of 512 pt, etc.\n\nSelect the data source\nNoise removal and thresholding is a critical step in the detection process. However, the noise removal methods can also be used by other PAMGuard detectors and displays, so they have been included in both the FFT (Spectrogram) Engine as well as in the Whistle and Moan detector.\nThe FFT (Spectrogram) Engine has two output streams, one which is the raw FFT data and one which has been through some or all of the noise removal processes.\nWhether you do the noise removal in the FFT Engine or in the Whistle and Moan detector is entirely up to you, but try not to do it twice since that will place an unnecessary load on the processor\nFrom the drop down box at the top of the Whistle and Moan detector options dialog, select which data source you want to use.\n\nPrevious: Configure the Whistle and Moan Detector\nNext: Configure channel grouping",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle and Moan Detector ",
      "Data Source"
    ]
  },
  {
    "objectID": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigGrouping.html",
    "href": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigGrouping.html",
    "title": "Channel Grouping",
    "section": "",
    "text": "The Whistle and Moan detector can operate on one or more channels of data. It can also measure time delays between the arrival of sounds on different channels and use these to calculate bearings, and in some instances ranges to detected sounds.\nWhich channels the Whistle and Moan detector detects on and which channels it uses for bearing and range calculations is controlled by the channel grouping section of the options dialog.\n\nWhen a data source is selected, the dialog will show a series of check boxes, one for each channel. Select the channels you want to use for detection OR bearing calculation, then to the right of each channel check box, assign the channel to a group. The group numbers themselves are not important - they just need to be different for each group.\nThe Whistle and Moan detector will detect sounds only on the first channel in each group.\nIf a sound is detected, it will then use data from other channels in the same group to measure time delays between the arrival of the signal on the different channels. The Whistle and Moan detector will do this independently for each group.\n\nMeasuring Range\nIf more than one group is present, then if whistles which overlap in time and frequency are detected on more than one channel group, the Whistle and Moan detector will attempt to cross the bearings measured within each channel group in order to estimate a range to the sound.\nThe example above was set up to work with a hydrophone array which consisted of four hydrophones arranged in two pairs. The separation of each pair was 3m and the distance between pairs was 200m. Detection and bearing calculation was conducted independently from each pair, and the bearings from the two pairs then crossed to estimate ranges.\nPrevious: Configure the data source\nNext: Configure the noise removal",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle and Moan Detector ",
      "Channel Grouping"
    ]
  },
  {
    "objectID": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigBranching.html",
    "href": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigBranching.html",
    "title": "Region Branching",
    "section": "",
    "text": "It is often the case that multiple whistles from different animals will overlap in time and frequency. If large groups of dolphins are encountered, then overlapping whistles tend to be the norm rather than the exception. While this may not be a problem if you are only interested in detecting whistles, if you are measuring bearings to individual whistles or if you are using the Whistle Classifier it is necessary to separate out the different sounds.\nThe Whistle and Moan detector has four options which control how overlapping whistles are handled\n\nLeave branched regions intact\nDiscard branched regions\nSeparate all branches\nRe-link across joins\n\nThis option is set at the bottom of the Whistle and Moan configuration dialog.\n\n\n\ndialog\n\n\nThe different options are illustrated below using three simulated overlapping linear chirps.\n\nLeave branched regions intact\nIf this option is selected, then branched regions will be left intact and may contain more one actual sound.\n\n\n\nDiscard branched joins\nIf this option is selected, than any region that has more than one detected frequency peak in any time slice will be discarded.\n\n\nSeparate all branches\nIf this option is selected, then all branches will be separated and passed on as individual sounds. A break is created every time the number of consecutive peaks changes. So a pair of crossing whistles will generally be broken into five parts - each of the four branches and the crossing point itself.\nIn the example below, the three sounds have been broken into 12 separate parts.\n\n\n\nRe-link across joins\nIf this option is selected, then the algorithm will attempt to rejoin individual tones across joins. First, the sound is broken up as above, it then rejoins the different components according to the following rules:\n\nIf there are the same number of sounds in consecutive time slices and each sound in the earlier slice is in contact with one in the later slice, then they are joined with 1:1 correspondence.\nA crossing point is defined as a sound which has the same number of other sounds entering it as leave it and has a total length no longer than the set maximum in the options dialog. Sounds entering and leaving a cross are linked across it with the highest frequency sound on one side joining the lowest frequency sound on the other.\nIf there is a branch (one sound splitting to two or more) or a join (two or more sounds merging into one), then the frequency gradient of the merged part is compared to that of the sounds entering or leaving and the sound with the best match is joined to the merged section. Very short sections (fewer than 10 time slices) are penalised during the comparison to favour longer whistles.\n\n\nWhich branching and joining method you chose may depend on the application. Generally, re-linking across joins is the best option for small cetacean whistles.\nPrevious: Configure the region connector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle and Moan Detector ",
      "Region Branching"
    ]
  },
  {
    "objectID": "detectors/whistleDetectorHelp/docs/whistleDetector_Display.html",
    "href": "detectors/whistleDetectorHelp/docs/whistleDetector_Display.html",
    "title": "Whistle Detector Display",
    "section": "",
    "text": "The whistle detector does not have it’s own tab panel display.\nWhistle detector data can be viewed on a side panel and as a graphic overlay on spectrogram displays.\n\nWhistle side panel\n\nA side panel shows a count of recent whistles and whistle events\n\n\nSpectrogram graphics overlay\n\nOn a spectrogram display panel pop up menu (right click anywhere on the spectrogram display panel), select which detector overlays to display.\nWhistles are currently only detected on the first channel of a grouped pair of channels, and whistle output displays will only overlay on the spectrogram of the the channel from which the detections were made.\nIn the example, in order to show both spectral peaks and whistles channel 0 is displayed in two panels; one has an overlay of spectral peaks, the other an overlay of detected whistles.\nPrevious: Configuring the whistle detector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle Detector ",
      "Whistle Detector Display"
    ]
  },
  {
    "objectID": "detectors/whistleDetectorHelp/docs/whistleDetector_Configuring.html",
    "href": "detectors/whistleDetectorHelp/docs/whistleDetector_Configuring.html",
    "title": "Configuring a Whistle Detector",
    "section": "",
    "text": "Parameters for each of the three main stages of whistle detection are accessed via the Detection&gt;Whistle Settings menu.\n\nFFT Data Source\n\n\n\nWhistle Detector Data Source\n\n\nA drop down box will show a list of available data sources for the whistle detector. These are either the output from an FFTEngine, or some other process that produces FFT / Spectrogram data. If no data sources are listed, you need to create an appropriate FFTEngine in the PAMGuard data model.\n\nChannel List and Grouping\nSelect which channels you wish to detect whistles on and which pairs or channels should be used to calculate bearings to detected whistles.\nTo do this, select the channels you wish to use using the check boxes, then assign group numbers. Only the first channel in each group will be used for detection, if a whistle is detected, then data from the second channel in the group will be used to calculate a bearing to that whistle.\nIn the example above, whistles will be detected on channels 0 and 2. Should a whistle be detected, then channel 1 or 3 will be used to calculate a bearing.\n\n\n\nPeak Detection\n\nTwo peak detectors are currently available. You are recommended to use the ‘IFAW Whistle Peak Detector’ which is the same as the peak detector on the old IFAW whistle software.\nThe first stage of the whistle detection process is to compare the instantaneous values in the spectrogram S to a measured value of background noise. The background noise N at time t and frequency f is measured using\n\nwhere the constant ? is given by ?=?t/?,\n?t being the time between successive time partitions in the spectrogram and ? is the smoothing constant set in the Peak Detection dialog. Two values of the smoothing constant are used, one when the data are below threshold which allows relatively rapid response of the system to varying noise levels and one when the data are already above threshold to avoid the presence of a whistle affecting the chances of detecting further whistles by raising the detection threshold.\nAfter background noise measurement, the total number of frequency bins in each time partition that exceed the detection threshold is counted. If this exceeds a set percentage of the total bins (Maximum bins over threshold) it is assumed that there is a broad band click and no whistle peaks are extracted from that time partitions. Otherwise, groups of bins in frequency that exceed threshold and lie between the specified minimum and maximum frequency width are used to create spectral peaks which are passed to the whistle linker.\n\n\nLinking\n\nThree parameters control whether or not peaks from different time partitions can be joined into putative whistles.\nSeveral parameters can be specified.\nMax Sweep: the maximum allowed frequency sweep rate.\nMax Sweep Differential : the rate at which the frequency sweep can change (how curved the whistle contour can be)\nMax Amplitude Change: the rate at which the peak amplitude can change along the length of the whistle.\nFor a peak to be added to the whistle, all three criteria must be satisfied (except on the very first linkage for each whistle, in which case the differential term is not used). If more than one peak is a candidate for linking to a whistle, then an overall ‘goodness of link’ value is calculated using the weight terms for each parameter.\nMax gap is the maximum number of time partitions that can be skipped at any point within a whistle with peaks still being linked.\n\n\nWhistle Selection\n\nWhistles are only created if the the linked peaks (putative whistles) pass two final tests:\nMinimum Length: Whistles must exceed some minimum length\nMinimum Occupancy: If the Max gap parameter in the Linking stage is &gt; 0, then whistles are only created if the number of peaks making up the whistle occupy a minimum percentage of the total whistle length.\n\n\nEvent Detection\nA Whistle Event occurs when the rate at which whistles are produces exceeds some minimum value. Since there is generally a low rate of false detections of individual whistles and since most whistling species produce many whistles, whistle events are often a more useful indicator of the presence of animals than individual whistles.\nIntegration Time - time to count whistles over.\nMinimum Whistle Count - minimum number of whistles required to form a whistle event\nMaximum gap - time interval after the last whistle in an event before the event is closed and counting starts again from 0.\nPrevious: Creating a new whistle detector\nNext: Whistle Detector Display",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle Detector ",
      "Configuring a Whistle Detector"
    ]
  },
  {
    "objectID": "detectors/rwedge/docs/rwedgedetector.html",
    "href": "detectors/rwedge/docs/rwedgedetector.html",
    "title": "Overview",
    "section": "",
    "text": "This is an implementation of the North Atlantic Right Whale detector described in Gillespie, 2004\nGillespie, D. (2004). “Detection and classification of right whale calls using an edge detector operating on a smoothed spectrogram,” Canadian Acoustics, 32, 39-47\nThe detector was designed to detect North Atlantic Right Whale (Eubalaena glacialis) upsweep calls. So far as we’re aware, the calls of other right whale species (Southern, and Pacific) are similar enough that the detector will work with those calls too.\nThe detector is not suitable for use with any other call types, for instance right whale gunshot sounds, or calls of other species.\nNext: Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Right Whale Edge Detector ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/Pam3DHelp/docs/guiOverview.html",
    "href": "detectors/Pam3DHelp/docs/guiOverview.html",
    "title": "Multipath 3D Localisation",
    "section": "",
    "text": "These instructions guide a user on how to configure the “3-D” module in PAMGuard for estimating range and depth of a source using a long-aperture towed array. At the time of this writing the module has only been tested with synthetic WAV files and not real-time input, and only with a Static and Threading Hydrophone Locator.\n\nPreliminaries\nAt a minimum the 3D Towed Array module requires an upstream Data acquisition module and a Click Detection module (labeled Sound in and Click Detector in Figure 1). At present the 3D module is configured to only work with the Click Detector, and not any Ishmael detectors. A typical array configuration is illustrated in the following figure, which appears under the Hydrophone display. At present only two pairs of hydrophones (4 phones total) are used in the module.\n\n\n\nHydrophone Array Configuration\n\n\n\n\n\nPreliminaries\n\n\nThis figure shows the configuration menu for the Audio Data Acquisition module (SoundIn in Figure 1) which should be configured to select a synthetic wav file. The wav file has 4 channels, with the hydrophone closest to the tow vessel being assigned the lowest channel number.\nThe Click Detection module has many options, but only the following menu needs to be changed from the default, as shown in the following figure.\n\n\n\nPreliminaries\n\n\nThe “Source” tab arrangement shown here assigns the first two channels to Group 0 (thus generating a forward subarray bearing) and the last two channels to Group 1, (generating the rear subarray bearing).\n\n\n3-D Towed Array Settings\nThe module assumes that the separation between the two pairs of hydrophones in the array is great enough that an ambiguity may exist as to how to match a particular detection on the rear subarray with candidate detections on the forward subarray. This ambiguity is more likely when multiple acoustically active animals are present. In general, the module also assumes that the array elements are deep enough that surface-reflected paths from pulsive sounds can be cleanly separated in time from the direct paths. The time delay between a direct and surface-reflected path will be defined as an “echo time” for the rest of this discussion. The echo time of a detection, along with the acoustic bearing of the detection, provide a set of features that permit identification of the signal between subarrays.\nTo match the appropriate signals the program builds a queue of detections for each subarray, and assigns an inter-click interval (ICI) to each detected click. The ICI of a new detection is computed by searching the queue for a detection that shares a similar bearing and “echo time” to the present detection. One the ICI is assigned, the program can build a “linked ICI” list that provides the ICI of the N previous detections that share similar features to the current detection. This ICI list can then be compared to lists on the forward array to locate the corresponding detection on the forward array.\n\n\n\n3-D Towed Array Settings\n\n\nThis figure shows the settings menu for the 3-D Towed Array module. The Detector source should be set to ‘Clicks’, and all four channels selected. The selection parameters are as follows:.\nMinimum ICI needed: This parameter N defines the number of ICI to incorporate into a list for cross-array comparison. In general the larger the number the less likely a mistake will be made in assigning detections between forward and rear subarrays.\nMaximum multipath time: Surface-reflected multipath is flagged by the fact it must arrive only a short time after a direct path. This number sets the maximum “echo time” that will be assigned by the system. Generally, this should be set to twice the hydrophone depth divided by the sound speed.\nMaximum Queue Time: Sets the amount of time a particular detection will be retained by the subarray queue, to be available for ICI matching.\nICI estimation: percent angle error: The percent difference between the bearing of a new detection and a candidate detection must be less than this number, in order to use the candidate detection to assign an ICI to the new detection.\nICI estimation: echo time error: Same as above, except the error percentage is computed for the echo time. If an echo time is present, then the bearing and echo time are weighted equally in the decision to link two detections together. If no echo time is present, then only the bearing error is used.\nUse cross-correction to refine TOA: The echo times and relative arrival times between subarrays are computed form the detection times provided by a Detection Data Unit. To achieve more precision the raw data between detections can be cross-correlated to increase the precision of the estimate of the relative arrival time. At present only the direct-surface TOA (echo time) feature is enabled.\nGenerate 3D positions: If not checked, no 2-D or 3-D positions are computed. This is a debug feature to permit the user to set up all other modules before attempting to localize.\n\n\nTracking methods\nA pull-down menu permits the user to select five different tracking combinations.\nCross bearings: The simplest tracking algorithm simply uses the ICI analysis to generate bearings from the forward and rear subarray, and thus estimate slant range. This slant range is plotted as a horizontal range on the map.\nTOA only, simple TOA estimate: If echo times are available on both subarrays, then a track can be computed without having to rely on acoustic bearings. This “TOA only” method is advantageous for situations where the sources are directly ahead or behind the tow vessel, and where the array cable inclination is not measured and cannot be estimated accurately. The “simple TOA estimate” simply means that a detection on the rear subarray is matched to a detection on the forward subarray by simply selecting the detections that have the smallest relative arrival times with respect to each other. For a single animal the “simple TOA estimate” should work more quickly than a full ICI analysis.\nTOA and rear bearing, simple TOA estimate: Same as previous, except that the rear subarray bearing, instead of the forward subarray echo time, is used to compute position. Best used for sources off the beam of the vessel and situations where the echo time is not available on the forward subarray. Typical situations where this happens include noise masking from noisy vessels, and shallow hydrophones on the forward subarray.\nTOA only: estimate TOA using ICI Same as TOA only option previously discussed, except that ICI patterns are used to match detections on the subarrays. Should be used when multiple animals are present.\nTOA and rear bearing, estimate TOA using ICI: Same as TOA and rear bearing option discussed above, except that that ICI patterns are used to match detections on the subarrays. Should be used when multiple animals are present.\n\n\n\nTracking methods\n\n\nAny 3-D tracking method (TOA option in the Tracking method pull-down menu) will generate a Map image similar to that shown in this figure. The depth of the source is indicated by the size of the circle and by text printed next to the circle.The “Cross bearing” output is demonstrated in the following figure.\n\n\n\nTracking methods\n\n\n\n\n\nTracking methods\n\n\nThis figure shows Spectrogram and radar plot of simulated 3-D sources on PAMGuard.\n\n\n\nTracking methods\n\n\nThis figure simulated 3D tracking data for multiple animals as it appears in Click Detector view.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Multipath 3D Localiser ",
      "Multipath 3D Localisation"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_RemoveModule.html",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_RemoveModule.html",
    "title": "Removing a Likelihood Detector",
    "section": "",
    "text": "To remove a Likelihood Detection module from the PAMGuard system, select the File-&#62Remove Modules-&#62Detectors menu item and select the name of the Likelihood Detector to remove.\nFor more information on removing PAMGuard modules, see the PAMGuard help on adding and removing plugins.\n\n\n\n\n\n\n\n\n\n\nPrevious: Importing and Exporting Target Configurations",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Removing a Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_ImportExport.html",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_ImportExport.html",
    "title": "Importing and Exporting Target Configurations",
    "section": "",
    "text": "The Likelihood Detector module provides the ability to export a single target configuration to disk and then read it back in to the same or other Likelihood Detector modules. This makes it easy and convenient to save and share target configurations.\nTo export a target configuration, simply right-click on the name of the target configuration you wish to export and then select the Export Configuration menu option. You will be prompted to select an output directory and to enter a file name for the target configuration file. The output file will be supplied with the extension TCF.\n\n\n\n\n\n\n\n\n\nA previously-exported target configuration file can be imported into a Likelhood Detector module by right-clicking on the Target Configuration node of the configuration tree and selecting the Import Configuration menu option.\n\n\n\n\n\n\n\n\n\nYou will be prompted to select the directory and file name of the target configuration file. The dialog will automatically filter out all files that do not have the TCF extension.\n\n\n\n\n\n\n\n\n\n\nNext: Removing a Likelihood Detection Module\nPrevious: Configuring the Likelihood Detector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Importing and Exporting Target Configurations"
    ]
  },
  {
    "objectID": "detectors/ishmael/docs/ishmael_speccorrelation.html",
    "href": "detectors/ishmael/docs/ishmael_speccorrelation.html",
    "title": "Spectrogram Correlation",
    "section": "",
    "text": "This method works by cross-correlating a spectrogram of Ishmael�s input signal with a synthetic time-frequency kernel. It works well when there is some amount of variability in the call type to be detected; certain parameters in construction of the kernel can be arranged to allow more or less variability in the calls to be detected. The construction of kernels, and their performance, is beyond the scope of this guide, but more information is available elsewhere (Mellinger and Clark, 2000).\n\nAdding the module\nFrom the PAMGuard file menu select Add Modules &gt; Detectors &gt; Ishmael spectrogram correlation.\nGive a name to the detector, and hit OK.\nThis detector will require that you also configure a FFT (Spectrogram) Engine as it’s input.\n\n\nConfigure the module\nFrom the PAMGuard Settings menu select Ishmael spectrogram correlation Settings … to open the dialog\n\nSelect the FFT data source. You should think carefully about the best FFT Length and FFT Hop to use based on the sample rate of your data and the type of sound you are trying to detect. See here for more information on this important, but often overlooked, topic.\nSelect which channels you want to process and how you want them to be grouped. If channels are in the same group, it’s slightly easier for the PAMGuard localisers to measure time delays between data on the different channels, but only if the hydrophones in each group are quite close together.\n\nCreate the kernel\nCreate the outline of the sounds you’re trying to detect. Before entering data, you’ll need to look at some sounds and make measurements of their time frequency contours. Divide the ‘typical’ contour up into sections that can be approximated by straight lines, and enter them here. The start time of each segment should be equal to the end time of any preceding segment.\nPrevious: Ishmael Energy Sum\nNext: Ishmael Matched Filter",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Ishmael Detectors ",
      "Spectrogram Correlation"
    ]
  },
  {
    "objectID": "detectors/ishmael/docs/ishmael_matchedfilter.html",
    "href": "detectors/ishmael/docs/ishmael_matchedfilter.html",
    "title": "Matched Filter",
    "section": "",
    "text": "This method works by cross-correlating a time series input signal with another signal that you specify, called the kernel. Cross-correlation is the optimum method for detecting a known signal in white Gaussian noise. It works best when the signal you wish to detect is quite constant from one instance to the next and from one animal to the next.\nIn animal bioacoustics it’s actually quite rare that the signal is well enough known (since all natural sounds vary slightly) and the noise background is rarely Gaussian, so this detector is rarely optimal!\n\nAdding the module\nFrom the PAMGuard file menu select Add Modules &gt; Detectors &gt; Ishmael matched filter.\nGive a name to the detector, and hit OK.\nThis detector will require that you also configure a Sound Acquisition module or a Decimator as it’s input.\n\n\nConfigure the module\nFrom the PAMGuard Settings menu select Ishmael matched filter Settings … to open the dialog\n\nSelect the Raw data source. This must be at the same sample rate as the data in the kenel file you’re using with the Matched filter. If necessary, use a Decimator module to get your data to the correct sample rate.\nSelect which channels you want to process and how you want them to be grouped. If channels are in the same group, it’s slightly easier for the PAMGuard localisers to measure time delays between data on the different channels, but only if the hydrophones in each group are quite close together.\nSelect the kernel file. This must be a short clip containing a single channel of data that contains a typical example of the sound you’re trying to detect.\nPrevious: Ishmael Spectrogram Correlation",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Ishmael Detectors ",
      "Matched Filter"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/notes.html",
    "href": "detectors/gpl/docs/notes.html",
    "title": "Notes",
    "section": "",
    "text": "To help keep track of GPL configurations, enter notes to describe your configuration.\nThe notes tab has two boxes you can type into and you. The top box will automatically be filled with information about files you import configurations from, which will always overwrite exiting text. Therefore your ‘main’ notes should be added to the lower of the two boxes.\n\nPrevious: Contours\nNext: Default Values",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "GPL Detector Configuration ",
      "Notes"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/gploutputs.html",
    "href": "detectors/gpl/docs/gploutputs.html",
    "title": "Outputs",
    "section": "",
    "text": "The GPL Detector has three outputs, the whitened spectrogram, the level of the detection statistic and detections made by the detector. The first two of these are primarily for diagnostic purposes and are not stored, the detections can be displayed as overlaid on displays and are written to the PAMGuard binary storage.\n\nBinary Store\nThe GPL detector outputs both detections and background noise information to the binary store.\nBoth the detections and the background measurements can be read from the binary files into Matlab? and R using the Matlab and R libraries.\n\nDetections\nDetailed information for each detection, including the full outline of each detection are written to the binary storage files. This provides a much higher level of detail than is written to the database, so is the preferred storage methods for GPL output.\n\n\nBackground measurements\nIn order to assist in understanding detector performance, the background level within the GPL detection algorithm is also written to the binary store. If data are being processed in blocks, then this will be once per block, otherwise if data are being processed continuously it will be every 10s.\nThe stored background data are the spectral levels of the median filter used in the first stage of the detection algorithm. These provide a good measure of how feasible it is to detect sounds at different frequencies within the GPL detection band in varying noise conditions.\nDepending on the configuration of the binary store, background measured will either be written to the pgdf files, along with detection data, or to separate pgnf PAMGuard noise files.\n\n\n\nDatabase\nDetections can also be written to the PAMGuard database. However, the database records only contain the times and frequency limits of each detection and not the detailed contour information. The binary store is therefore the preferred storage format for GPL output data.\nPrevious: Configuration\nNext: Displays",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "Outputs"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/gpldetector.html",
    "href": "detectors/gpl/docs/gpldetector.html",
    "title": "GPL Detector Overview",
    "section": "",
    "text": "The Generalised Power Law (GPL) Detector is a real time implementation of the detector described in Helble et al, 2012. This detector is particularly useful for the detection of highly variable tonal sounds, such as those from humpbacks, where correlation or other shape based detectors become ineffective.\nA generalized power-law detection algorithm for humpback whale vocalizations. Tyler A. Helble, Glenn R. Ierley, Gerald L. D’Spain, and Marie A. Roch and John A. Hildebrand. The Journal of the Acoustical Society of America 131, 2682 (2012).\nhttp://asa.scitation.org/doi/abs/10.1121/1.3685790\n\nAlgorithm\nFor details of the algorithm, see Helble et al 2012. The papers abstract is given here to give a quick summary of what happens. In many ways, the algorithm is similar to an in band energy detector, however by raising the amplitude of the data in a spectrogram to a higher power, tonal sounds become amplified by a much greater amount than broader band sources of noise such as shipping or wave motion.\n\nABSTRACT (from Helble et al, 2012)\nConventional detection of humpback vocalizations is often based on frequency summation of band-limited spectrograms under the assumption that energy (square of the Fourier amplitude) is the appropriate metric. Power-law detectors allow for a higher power of the Fourier amplitude, appropriate when the signal occupies a limited but unknown subset of these frequencies. Shipping noise is non-stationary and colored and problematic for many marine mammal detection algorithms. Modifications to the standard power-law form are introduced to minimize the effects of this noise. These same modifications also allow for a fixed detection threshold, applicable to broadly varying ocean acoustic environments. The detection algorithm is general enough to detect all types of humpback vocalizations. Tests presented in this paper show this algorithm matches human detection performance with an acceptably small probability of false alarms (PFA &lt; 6%) for even the noisiest environments. The detector outperforms energy detection techniques, providing a probability of detection PD = 95% for PFA &lt; 5% for three acoustic deployments, compared to PFA &gt; 40% for two energy-based techniques. The generalized power-law detector also can be used for basic parameter estimation and can be adapted for other types of transient sounds.\nNext: Configuring the GPL Detector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "GPL Detector Overview"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/defaults_old.html",
    "href": "detectors/gpl/docs/defaults_old.html",
    "title": "Default Settings",
    "section": "",
    "text": "Default values for several species are available by clicking on the Set Defaults button.\n\nNote though that these default values were designed to work with specific sample rates, FFT lengths and FFT overlaps and you should adjust the FFT (Spectrogram) Engine parameters accordingly, including a Decimator module if necessary to provide data at the right sample rate. Nominal values for these parameters are provided below.\nKey is to have about the right time and frequency resolution. The time resolution is the FFT Hop divided by the sample rate and the frequency resolution is the sample rate divided by the FFT Length. This means that data with a sample rate of 2000 Hz, and FFT length of 2048 samples and an FFT hop of 128 samples will have time and frequency resolutions of 64ms and 0.98 Hz respectively. Exactly the same time and frequency resolutions could be achieved with data sampled at 1000Hz if you were to use an FFT length of 1024 samples and FFT hop of 64 samples.\nNote that PAMGuard does support FFT lengths which are not an exact power of 2, however such values may mean that the FFT’s are slow to computer which may impact on processing speed.\n\n\n\nSpecies\nSample Rate\nFFT Length\nFFT Hop\n\n\n\n\nBlue Whale D\n2000 Hz\n2048\n128\n\n\nFin Whale 20Hz\n2000 Hz\n2048\n128\n\n\nFin Whale 40Hz\n2000 Hz\n2048\n128\n\n\nHumpback\n2000 Hz\n2048\n128\n\n\nBryde’s whale\n6000 Hz\n4096\n512\n\n\n\nPrevious: Contour detection\nNext: Outputs"
  },
  {
    "objectID": "detectors/gpl/docs/contours.html",
    "href": "detectors/gpl/docs/contours.html",
    "title": "Contours",
    "section": "",
    "text": "Once a power law detection has been completed, the detector makes a search of that region of the spectrogram to find the outlines, or ‘contours’ of sounds. Within each detection, it may be possible that there are multiple contours, for example due to harmonics, or several closely spaced separate sounds. If the contour detection threshold is set too high, or if the sounds were very faint, it’s also possible that no contours will be found within a detection.\n\nContour detection threshold\nThis is the main threshold for contour detection. Prior to applying this threshold, the whitened data from the first stage of detection pass through a second whitening process. It is therefore not possible to relate this threshold to a meaningful Decibel value.\nMinimum contour area\nMinimum area for detected contours expressed as a number of pixels (time-frequency bins) from the spectrogram rising above the contour detection threshold. Contours smaller than this will be rejected.\nConnect 4 and Connect 8\nThese control how pixels in the whitened spectrogram that are above the contour detection threshold are joined together. If Connect 4 is selected, pixels will only be joined if they are touching at their sides (i.e. above, below, before or after). If Connect 8 is selected, pixels will also be joined if they are touching on their diagonals.\nMultiple contours\nThree options are available when multiple contours are detected:\nBiggest contour only: Keep only the largest contour based on it’s area (total number of pixels).\nSeparate all contours: Keep every contour as a separate detection.\nMerge all contours: Merge all the separate contours into one larger contour.\nDetections with no contour\nOn occasion, the GPL algorithm detects a sound, but the sound is too faint for any contours to be found in that region of data. These regions will be discarded, not being shown on the displays and not being stored in the Binary Files or Database unless you select the option to “Keep detections with no contour”.\nPrevious: Detection\nNext: Notes",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "GPL Detector Configuration ",
      "Contours"
    ]
  },
  {
    "objectID": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html",
    "href": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html",
    "title": "Overview",
    "section": "",
    "text": "When a toothed whale, bat or other echolocator uses echolocation for hunting or sensing their surroundings they usually produce regular clicks/calls which vary slowly in inter-click/call-interval, amplitude, bearing etc. Individual click detections can be difficult to classify from other random transients because recieved waveforms and spectra are distorted by number of factors, such as narrow beam profiles, frequency dependent absorption, propogation effects and animal behaviour. The broadband clicks of many dolphins psecies are especially difficult to distinguish because they are very similar to many other sources of transient noise, such as cavitations from ship propellors. However, the echolocation clicks used by toothed whales (and bats) are not produced in isolation - animals tend to rapidly produce clicks with a slowly varying inter-click-interval (ICI); there are very few non-biological sources which produce regular repetitive sound and so this provides an additional contextual dimension for click classification. An automated algorithm which is based on identifying repeating patterns of sounds therefore has the potential to be significantly more accurate than an algorithm based on identifying individual calls.\nThe PAMGuard click train detector module is used to detect and then classify repeating patterns of clicks. It is designed to work with multiple types of acoustic data, from CPOD detections to single channel and multi-channel hydrophone recordings.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#how-it-works",
    "href": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#how-it-works",
    "title": "Overview",
    "section": "How it works",
    "text": "How it works\nPAMGuard’s click train detector utilises both a detection and classification stage to extract click trains from recordings.\nThe detection stage is currently based on a multi hypothesis tracking (MHT) algorithm. This algorithm considers all possible combinations of transient detections creating a large hypothesis matrix which holds potential click trains. As more clicks are added to the hypothesis matrix it grows exponentially and so, to prevent a computer running out memory, it is regularly “pruned” to keep only the most likely click trains over time. The assigned likelihood of a click train is based on number of properties which can be defined in by the user. For example, a user might select, ICI, Amplitude and Correlation as variables to score click trains; this would mean that combinations of clicks with slowly changing ICI, amplitude and waveforms would be favoured by the algorithm and stay in the hypothesis matrix. Other properties such as bearing, click length and peak frequency can also be selected. A graphical explanation of the click train detection algorithm is shown in Figure 1 and a more detailed explanation of the be found in Macaulay (2019).\n\nDiagram demonstrating how the click train algorithm works. Black dots are a set of 14 detected clicks at times t1 to t14. The click train algorithm begins at click 1 and creates two possible clicks trains, one that includes the first click (filled circle) and the other in which the click is not part of the click train (non-filled circle). The algorithm then moves to the next click and adds it to the hypothesis matrix. As the number of clicks increases, the hypothesis matrix exponentially expands in size and must be pruned. After a minimum of Npmin clicks (in this case 4) each track hypothesis (possible click train) is assigned a ?2 score. The track hypothesis with lowest score (defined by larger coloured circles) has it’s branch traced back Np (in this case 3) clicks. Any track hypothesis which do not include the click Np steps back are pruned (defined by the double lines). Clicks which share no click associations with the first track hypothesis are then pruned and the process repeats until all clicks are part of a track or a maximum number of tracks have been considered (in this example there are two tracks). The algorithm then moves to the next click, adds it to the hypothesis matrix, assigns ?2 scores and traces the lowest ?2 branch Np steps back, pruning the hypothesis matrix again; the process repeats until the last click. Note that there is always a track hypothesis with no associated clicks (i.e. the bottom-most branch where no clicks belong to a click train). If a track hypothesis is confirmed and thus removed from the hypothesis matrix, then this track can be used to start another click train\nThe advantage of this MHT approach is that the click train detection module is quite general and can cope with a large variety of complex situations and multiple overlapping click trains. The disadvantage is that there are a large number of potential variables which can be set that affect the performance of the detector which can make it complex to initially set up.\nThe subsequent classification stage attempts to classify detected click trains to species. Classification is currently based on a series of relatively simple binary classification steps but there is scope for machine learning approaches in future versions. The binary classification is based on parameters such as number of detected clicks, the mean and standard deviation in ICI and bearing and the correlation of the average spectrum of the click train with a predefined spectral template.\nA click train which has been both detected and classified is saved to PAMGuard’s database and can be reclassified in PAMGuard’s viewer mode.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#configuring-the-click-train-detector",
    "href": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#configuring-the-click-train-detector",
    "title": "Overview",
    "section": "Configuring the click train detector",
    "text": "Configuring the click train detector\nThe primary settings to configure can be split into MHT Kernel and ?^2 settings - these are all set in the primary click train detector dialog as shown in Figure 2.\n\nThe settings pane of the click train detector.\n\nMHT Kernel Settings\nThe MHT Kernel is the part of the detection algorithm which creates and then prunes the large hypothesis matrix which keeps a copy of all possible click trains. MHT Kernel settings are therefore important because they influence speed (a larger number of possible click trains in memory is more processor intensive) and the quality of the detections (the larger the number of possibilities the more likely that “true” click trains are contained in the hypothesis matrix). The specific settings are;\nPrune-back: The hypothesis matrix needs pruned so that it does not grow exponentially and cause memory issues. The matrix is pruned at Np (see Figure 1) previous detections i.e. if Np is 5 then then then the algorithm selects the most likely click train, moves back five detections back and discards other hypothesis that do not contain the combination of clicks in that branch. Thus, increasing the prune-back means that more hypothesis are kept at any one time but decreasing will lead to faster processing times as less combination are kept in memory.\nPrune-start: The initial number of detections before the pruning process starts. This cannot be less than Prune-back and should generally should be set no more than 15 for 8GB of memory.\nMax no. coasts: A click train is saved and removed the hypothesis mix once it has passed a number of tests. It must be over three clicks long, survive the pruning process and have missed the max no. coasts. A coast is when a click has been missed from a click train based on ICI. i.e. if the ICI is 2s and a click train goes for 6s without a detected click then there have been 3 coasts. Increasing the maximum number of coasts means that click trains are less fragmented but can come at the cost of keeping click trains in the hypothesis matrix for longer which have ended.\nMax no. trains: This is a maximum allowed number of trains in the hypothesis mix. Note this refers to the number of trains which can survive pruning - the actual number of potential click trains in the hypothesis mix will be much larger. Generally, just via pruning, the hypothesis matrix will keep itself below the max no. trains, however, in certain situations it can grow too large and requires a limit. The max no. trains therefore usually have little effect on results but should generally be set to less than 50 to ensure smooth processing\n\n\n?2 Settings\n?2 is a measure of the likelihood that a click train is from a (usually) biological source. The higher the ?2 value the lower the quality of a click train.\nThe ?2 model used in the click train detector considers both the slowly varying properties of click trains, as well as bonus and penalty factors to discourage fragmentation and aliasing (selecting a multiple of the true ICI) of detected click trains.\nThe initial basis of the model is:\n\nwhere m is the number of selected descriptors, e.g. ICI, amplitude, bearing etc., and y(i,k) is the measurement of descriptor i for click k in a click train with n associated clicks. t(k+1) is the measured time of a click k. Each descriptor is divided by qi which is a user tuneable parameter that alters the importance each descriptor has on the total ?2. Ideally it should correspond to a prediction of the likely variance of the descriptor.\nThe descriptors can be enabled and the variance set in the ?2 Settings pane. The toggle button next to each descriptor sets whether a descriptor is used to score a click train and the variance is then set using the slider or by inputting manually by clicking the settings cog. Increasing the variance means that the descriptor has less of an influence on the calculation of ?2 and decreasing means that the descriptor has a larger influence on ?2. In some cases, clicks can be so close together that the variance is tiny and thus ?2 becomes huge e.g. during buzzes. A minimum variance value (qti) prevents the variance (max(qi (t(k+1)-tk ),qti )2) from falling below very low values.\nIdeally the variance for each parameter would be calculated from a test dataset of manually annotated click trains e.g. by calculating the variance of ICI of all marked click trains.\n\nEach descriptor has a variance setting which can be changed by moving the slider or manually inputting data by clicking the settings button. Variance is multiplied by the ICI for each click detection because clicks closer together in time the descriptor values will change less. In some cases, clicks can be so close together that the variance is tiny and thus ?2 in Eq. 1 becomes huge e.g. during buzzes. A Min. Error prevents the variance from falling below very low values.\nThe available descriptors parameters can be set in the click detector settings pane (Figure 3) and works as follows;\nIDI: the inter-detection-interval in milliseconds. The algorithm looks for slowly changes in the interval between detections.\nAmplitude: the amplitude in dB re 1/muPa pp. The algorithm looks for slowly changing amplitude values. Note that the algorithm is comparing the change in change in amplitude so that the click train algorithm is not biased against large but consistent changes in amplitude (e.g. due to a narrow beam profile sweeping across a hydrophone).\nBearing: the bearing of multi-channel clicks in degrees. Slowly changing bearings will increase the likelihood that click trains are detected. Note that in a similar way to Amplitude, the change in change in bearing is considered so that the algorithm is not biased against large but consistent changes in bearings. The bearing parameter has some additional settings which apply a large penalty to clicks trains if there is a large (user-defined) jump in bearing.\nCorrelation: the algorithm calculates the peak of the cross-correlation value of subsequent clicks and looks for slowly changing values in the cross-correlation value. This tells the click train algorithm to search for clicks with consistent/slowly changing spectra. The correlation descriptor also has some additional settings which allow the user to pre-filter waveforms before cross-correlation. This is especially useful in removing noise from higher frequency detections.\nTime Delays: the time delay between multi-channel clicks in milliseconds. The algorithm looks for slowly changing values in the time delays between multichannel clicks. This is useful for arrays with more than two hydrophones where an error in a single time delay measurement may cause a substantial error in bearing. Like amplitude and bearing, the time delay values are the change in change in time delays between subsequent clicks to ensure that click trains are not biased against faster changes in bearing.\nClick Length: the length of the saved waveform of a click in milliseconds. This is a crude measure of the length of a click; however, it can be useful in helping the algorithm distinguish between species with long multi-modal clicks such as sperm whales, and much shorter broadband clicks such as dolphins.\nPeak Frequency: the peak frequency in Hz. The peak frequency between subsequent clicks is used score click trains. This is useful for click trains with very stable peak frequencies such as echosounders, narrow band high frequency species and perhaps some beaked whale species.\n\n\nAdvanced ?2 Settings\nThe descriptors used in Eq. 1 on their own do not provide a good score for click train detections. This is because Eq.1 can achieve the same score by either skipping clicks e.g. every second click in a click train, or by splitting click trains into smaller fragments.\n\nThe advanced settings for calculating ?^2. These parameters are primarily used to prevent click train aliasing and fragmentation. The advanced settings (see Figure 4) are a series of additional factors that prevent aliasing and fragmentation and work as flows.\nLow ICI Bonus: if the median ICI of the possible click train is above a specified maximum value, a large penalty is added which effectively makes it one of the least likely click trains in the hypothesis matrix. If the median ICI is below the maximum value then ?2 = (?2 (I/(maxk_Ik))LI where I is the median ICI, maxk_ Ik is the maximum ICI in the possible click train and LI is the low ICI Bonus constant term. This bonus term favours lower ICI values, preventing aliased click trains.\nLong track bonus: add a bonus factor for longer click trains to prevent fragmentation. This is the total length of the click train in seconds divided by the total hypothesis matrix time in seconds L which is then multiplied so that ?2 = (?2*L)LT where LT is the long track bonus.\nCoast penalty: add a penalty for “coasting” i.e. when an expected click, based on ICI, is not present in the click train. This penalty is multiplied by the number of coasts i.e. the likely number of missed clicks based on ICI\nNew Track Penalty: if a track hypothesis is newly added in the hypothesis matrix, then add a minor penalty factor. This is added until the number of click trains exceeds No. New Track Clicks",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#classification",
    "href": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#classification",
    "title": "Overview",
    "section": "Classification",
    "text": "Classification\nThe classification process attempts to assign a species identification to each detected click trains. Currently there is only one implemented classifier, a simple binary classifier which tests user defined parameters (e.g. IDI, bearing, spectral correlation and classifies each click). Classification parameters are accessed via the classification tab in the settings dialog.\nThere is currently a basic spectral correlation/IDI/bearing classifier; more complex classifiers can be implemented in the future.\n\nThe classifier settings. Users can add multiple classifiers using the + button next to the classifier tabs. Each classifier allows the user to choose a number of different approaches to classification based on the goodness of fit, inter-click interval, average spectra and bearings of the click trains. Users can use just one or all of these options and set specific parameters for each.\nUsers can add multiple classifiers by selecting the + button next to the classification tabs. Each classifier allows the user to choose a number of different methods for click train classification based on the goodness of fit, inter-click interval, average spectra and/or bearings of the click trains; for a click train to be classified it must pass all enabled methods (use toggle switches to enable and disable different types of classification). The different classification methods.\n\n?2 threshold classifier\nThe click train is classified if it’s overall ?2 value is lower than the set ?2 Threshold and it has more than Min. Clicks and the time between the first and last click is greater than Min. Time\n\n\nIDI Classifier\nThe click train is classified if the median/mean and standard deviation in the inter detection interval (IDI) between subsequent clicks are within user defined limits.\n\n\nSpectrum Template Classifier\nThe click train is classified if the average spectra of the click train has a correlation value above Spectrum Correlation Threshold with a user defined spectral template. The template can be set using the button on the top right of the spectrum plot - a default spectrum can be loaded or a spectrum can be loaded from a .mat or .csv file. A csv file should have the first row as the spectrum and first column of the second row the sample rate. A .mat file should be a single saved structure with sR (sample rate) and spectrum (array of spectrum values) fields.\n\n\nBearing Classifier\nThe click train is classified if minimum and maximum bearing (Bearing Limits) the average change in bearing (� Bearing Mean), the median change in bearing (� Bearing Median) and/or the average standard deviation in bearing change (� Bearing Std) are within user defined limits.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#parametrising-the-classifier",
    "href": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#parametrising-the-classifier",
    "title": "Overview",
    "section": "Parametrising the classifier",
    "text": "Parametrising the classifier\nEach classifier has a set of metadata that are added to click trains. This can be accessed through the tooltip or right click menus in various displays. For example, in the Time Base Display Fx hover the mouse over a click train or bring the pop menu with a right click. Parameters such as the spectral correlation value, IDI and bearing information etc are displayed which allows users to get an idea of which values to set for the classifier. Currently this requires (like most PAMGuard classifiers) a trial and error approach. It is hoped that future update will allow manually validated data to be used to parametrise both the detection and classification stage of the click train detector.\n\nThe metadata associated with each classifier is stored with every click train and be accessed through right clicking on or hovering the mouse over a click train detection.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#localisation",
    "href": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#localisation",
    "title": "Overview",
    "section": "Localisation",
    "text": "Localisation\nThe click train detector can be used to localise the position of animals detected by the click train detector using target motion analysis. This generally means that the localisation capabilities are generally restricted to data which has been collected using towed hydrophone arrays.\n\nScreenshot of the click train localisation settings. Currently, only target motion is supported.\nLocalisation is enabled by ticking Localise click trains. The type of localisation algorithm which is used is selected in the Localisation algorithms (See the localisation section in PAMGuard help for more info on localisation algorithms). Localisation using 3D simplex and MCMC can be processor intensive, especially when there are a large number of clicks in a train and so the Algorithm Limits pane can be used to set a maximum number of input clicks for a localisation. If the maximum is exceeded then clicks are sub sampled from the click train evenly in time.\nGenerally, target motion localisation only works well when there are a large number of clicks over a long time period. The Filters tab allows users to select which click trains are localised and also to remove spurious results from unsuccessful localisations. The Pre Localisation Filter allows users to select a minimum number of detections before localisations are attempted and a minimum bearing change in the click train (Min Angle range). Click trains with larger angle ranges will generally result in higher quality localisations.\n\nThe filter tab allows users to pre-filter which click train are localised.\nThe Results Filter allows for spurious localisation results to be deleted: any results from target motion localisation (which can have more than one possible localisation) which are further away than Maximum Range, shallower than Minimum Depth or deeper than Maximum Depth are discarded.\nRunning The click train detector can be run in real time or post processing. In real time add the module and it will automatically detected click trains once PAMGuard started.\n\nThe filter tab allows users to pre-filter which click train are localised.\nIn viewer mode, add the module and then go to Settings&gt;Click Train Detector &gt; Reanalyse click trains?.This will bring up PAMGuard’s generic data reprocessing dialog with two settings, Click Train Detector or Click Train Classifier. The Click Train Detector option will run the detection and classification algorithm again. The Click Train Classifier will only run the classification algorithm on existing detected click trains (much faster). Note that users can select how much data to reprocess in the Data dropdown menu - All Data means the entire dataset will be reprocessed, Loaded Data means just the current data loaded in the display (all scrollable data), Select Data allows the user to define two time limits between which all data is reprocessed.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#visualising-results",
    "href": "detectors/ClickTrainDetector/docs/ClickTrainDetector.html#visualising-results",
    "title": "Overview",
    "section": "Visualising Results",
    "text": "Visualising Results\nThe results from the click train detector can be visualised in a variety of displays in PAMGuard.\n\nClick bearing time display\nBy default, clicks trains will be shown in the Click Detector Module’s in built bearing time display. Different click trains are represented as different colours. Note that you must right click on the display and select Colour by Click Trains\n\nThe results of the click train detector displayed on the bearing time display. Different colours correspond to different click trains.\n\n\nTime Display Fx\nThe Time Display Fx is a more modern display which allows any time-based data to be plotted together on a large variety of y-axis (e.g., frequency, bearing, amplitude etc.). Click trains will be plotted on the time-based display by adding Click detections to the display and then using the right\n\nClick train data displayed in the time display Fx. Users can right click on click trains to view average spectra and waterfall spectrograms (shown here in top right).",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_Tools.html",
    "href": "detectors/clickDetectorHelp/docs/offline_Tools.html",
    "title": "Offline Click Analysis Tools",
    "section": "",
    "text": "There are a few tools which are useful whilst marking an event or working with the click detector in Viewer Mode.\n\nAmplitude Selector\nZoom Selection\n\n\n\nAmplitude Selector\nThe amplitude selector is effectivly a filter. It will only show you the clicks after a certain decibel threshold. This becomes useful if your data shows extensive background noise.\n\n\n\nAmplNotSet\n\n\nYou can also enhance a click event by applying the amplitude selector as it makes the click train usually cleaner, which will improve Target Motion Analysis. The amplitude selector can be activated by a right click on the bearing time display selecting ‘Show amplitude selector’.\n\n\n\nShowAmplitudeFilter\n\n\nA window for the amplitude selector will open showing an amplitude histogram and some descriptive statistics from the loaded data. The default setting for minimum amplitude is set to zero. Go to the field and put a sensible number in judging by the histogram and tick the box ‘Display only clicks of set amplitude’. A red line appears in the histogram which you can drag with the mouse which changes the amplitude threshold. The clicks shown in the bearing time display change accordingly. When the amplitude selector is active a message appears at the bottom of the bearing time display which reads how many clicks are not displayed and the amplitude threshold currently set.\n\n\n\nAmplitudeFilter\n\n\n\n\n\nZoom Selection\nThere are different ways to zoom. A simple rectangular area of clicks can be selected by clicking on the bearing time display and dragging the mouse. A black square will apear which you can zoom into with a double click.\n\n\n\nSquareSelectionTool\n\n\nYou can also use the advanced area selection tool (the one where it gets grey) for more complex click sections. Same principle applies. Alternatively to the double click to zoom you can also right click and select ‘Zoom in’. Right click and select ‘Zoom right out’ to return to the full click display.\nPrevious: Reclassifying Clicks",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Viewer Functions ",
      "Offline Click Analysis Tools"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_Reanalyse_click_types.html",
    "href": "detectors/clickDetectorHelp/docs/offline_Reanalyse_click_types.html",
    "title": "Reanalyse click types",
    "section": "",
    "text": "Sometimes your initial click parameter settings need changing. There is an option in Viewer to reanalyse click types which will change the corresponding binary files. Go to Click Detection&gt;Reanalyse click types….\n\n\n\nReanalyse\n\n\nThe click reprocessing window will open giving you various options to proceed. First you need to decide which data you would like to reclassify. The options are: Loaded data, all data or new data. To reprocess all data is time consuming so if you try out different parameter settings use the option of loaded data as it is much quicker. Once you are content with your new settings you can apply it to the whole data set.\nIn the case of offline tasks which change database entries (not all do), checking the Delete old database entries checkbox will ensure old entries are deleted and duplicates are not made.\n\n\n\nClickProcessing\n\n\nThe parameters you can change are the same as in theclick detector.\n\nReclassify clicks\nThis brings you to the click classification. Here you can change either the click parameters or add a new classification.\n\n\nEcho Detection\nThis opens the Echo Detection window. Here you can change the parameters for echo classification. MORE JAMIE?\n\n\n\nEchoDetection\n\n\n\n\nRecalculate click delays\nThis opens the delay measurement window. Here you can alter the setting of how click delays are calculated.\n\n\n\nClickDelay\n\n\nYou can choose either of the two options, both or none.\nOption 1: Filter data before measurement\nThis option has the following settings:\n\n\n\nFFT_Filtersettings\n\n\nOption 2: Use wave form envelope. EXPLAIN?? MORE JAMIE.\n\n\nClick bearings\nThis option allows zou to recalculate click bearings. JAMIE MORE.\nYou can run all 4 reclassification options at once or tick the ones which are suitable for the analysis. Press ‘Start’ to beginn the recalculation process. You can see how far advanced the recaclulation process is in the progress bar. During re-processing the cancel button will change to a ‘Stop’ button and when the process is finished it will change to a ‘Close’ button. When recalculating large data sets the Close button might not appear after the last file. Just press Stop instead."
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_Navigating.html",
    "href": "detectors/clickDetectorHelp/docs/offline_Navigating.html",
    "title": "Navigating",
    "section": "",
    "text": "The PAMGuard viewer mode allows navigation through large data sets. The data map can be used to look at large volumes of data over long periods of time. Possible areas of interest can be found by using the datagram and click counter in the appropiate data density graphs (i.e. click detector-clicks). You can switch between the views by right clicking on the display.\n\n\nIf an area of interest is found right click on the data map and select ‘center data here’ or ‘start data here’. This will load the clicks at this time into the bearing time display. Here individual clicks can be selected, viewed and added to an event.\nSee Viewer Overview for more details on bearing time display navigation.\nPrevious: Importing Rainbow Click Files\nNext: Marking out Events",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Viewer Functions ",
      "Navigating"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_ImportingRBC.html",
    "href": "detectors/clickDetectorHelp/docs/offline_ImportingRBC.html",
    "title": "Importing RBC Files",
    "section": "",
    "text": "If you’ve used Rainbow Click or older versions of PAMGuard you may have click data saved in .clk files. PAMGuard requires binary files to display click data in the viewer mode however has the functionality to batch convert .clk files to binary format.\nSelect Click Detection &gt; Batch Convert .clk to .pgdf files. This will bring up the following window.\n\n\n\nClickDisplayParameters1 (9K)\n\n\nSelect the location of your .clk files and the location you want to save the new Binary file to, then click ‘Start’.\nPrevious: Click Viewer Overview\nNext: Navigating through Data",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Viewer Functions ",
      "Importing RBC Files"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_MapOverlays.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_MapOverlays.html",
    "title": "Graphic Overlays",
    "section": "",
    "text": "PAMGuard Map\nData can be overlaid on the PAMGuard map at three different levels: Clicks, Tracked Clicks and Tracked Events. Overlaying all clicks will generally display too much data and can slow PAMGuard down. However this can be useful if the map options are used to only display a few seconds of the most recent data. Tracked Clicks and Tracked events will be shown if click trains are manually or automatically detected (see Click Train Identification). Event localisations will start to show as soon as two or more clicks are marked or sufficient clicks have been automatically assigned to a click train for target motion analysis. If a localisation has not been calculated, then just a bearing line to the first click in the train will be shown.\n\n\n\nmap showing click events\n\n\n\n\nSpectrogram\nClicks can be shown as an overlay on the spectrogram. They will appear as small triangles at the top and bottom of the display.\n\n\n\nspectrogram of click\n\n\nThe colour of the triangles can be the colour of the species id of a single click, the colour assigned to a click train or a mixture of both � using the click train colour if one is assigned, otherwise using the individual click classification. To control the colours, go to Click Display&gt;Display Overlays and select the option you require.\n\n\n\nclick overlay options\n\n\n\n\nRadar Display\nBearing and amplitude of single clicks or bearing and range of localised click trains can be shown on the radar display. As with the spectrogram, the colour of individual clicks can be set from the Click Display &gt; Overlays menu.\n\n\n\nradar image of click\n\n\nPrevious: Click Detector Side Panel\nNext: Click Classification",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Detector Displays ",
      "Graphic Overlays"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickTrainLocalization.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickTrainLocalization.html",
    "title": "Tracking and Click Train Identification",
    "section": "",
    "text": "Target Motion Analysis\nA common method for tracking animals, particularly sperm whales, is to use Target Motion Analysis or TMA. TMA works by measuring bearings to a sound source from multiple locations along a track-line. The crossing points of the bearings indicates the location of the tracked sound source.\nThere are two ways of linking clicks together to form click trains when using PAMGuard in ‘normal’ mode, i.e. analysing data in real time. On the click detector bearing time display, clicks assigned to a train are shown in colour, depending on the options selected from the displays settings menu.\n\nManual Click Train Identification\nThe most effective method of click train identification is for the operator to manually select clicks from the click detector bearing time display which they believe come from the same animal. To track clicks manually, right click anywhere on the bearing time display, scrolling will then pause and you can then release the mouse over the click you wish to mark. A small popup menu will appear with a single option to create a New Click Train\n\n\n\nmarking first click\n\n\nWait a while until the angle to that click train has changed and mark another one in the same way. This time, the menu will have the options of adding the click to the existing click train, or creating a new click train.\n\n\n\nmarking click\n\n\nIf you ware tracking multiple animals, then start a New Click Train.\n\n\nAutomatic Click Train Identification\nPAMGuard can attempt to mark Click Trains automatically. To enable automatic click train identification go to Click Detection &gt; Click Train Identification\n\n\n\nclick train ID options\n\n\nClicks are associated if there is a regular Inter Click Interval (ICI) and the clicks are on a slowly and steadily changing bearing. In the control section set the minimum number of clicks for a train to be created, the minimum angle for Target Motion Analysis (TMA) to be run and in the minimum interval between location and database updates. This last parameter is important since the localisation calculations can take 100’s of milliseconds, so repeating them every time a click is added to a click train can cause PAMGuard to run too slowly.\nICI changes controls the minimum and maximum allowable ICI and the change ratio governs how much the ICI can change for a new click to be added to an existing click train. For example, if the currently measured ICI is 1.0s and the change ratio is 1.2, then the ICI to the next click can be anything between 1/1.2 = 0.83s and 1.2s.\nAngle changes is the maximum angular deviation allowed for the next click. As a click train is starting, this is the angle difference between clicks. Once a train has enough clicks for a localisation, it’s the angle off from that localisation point.\n\n\nCorrecting Mistakes\nIf you make a mistake tracking manually or if you think the automatic train identification has made a mistake, click on the click that’s been assigned incorrectly and a slightly different menu appears giving four options.\n\n\n\ncorrecting a marked click\n\n\n\nRemove the click from the train (the click will then not be assigned to anything)\nReassign ALL clicks in that train to a different train\nReassign that click as a new click train.\nSelect the train the click should be assigned to (if other clicks have been started)\n\nIt is very common for the automatic click train identification algorithm to break up an obvious click train into many smaller ones. This happened when there are pauses or changes in click rate. Reassigning all clicks in a train is a handy way of correcting these errors in order to generate long click trains which will yield accurate localisations.\n\n\n\nDatabase Output\nClick train information is written to the PAMGuard database using the same database tables used for offline data analysis. This means that any event marking which took place in real time will be available for further offline analysis. Two database tables are used: The �events table� contains one record of information per click train, the second �clicks table� contains a record for each click in each event. To maintain compatibility with earlier versions, the two database tables are called Click_Detector_OfflineEvents and Click_Detector_OfflineClicks (the name Click_Detector_ in these table names will change to whatever the name of the click detector created in the PAMGuard configuration you are using and if you have multiple click detectors, multiple tables with different names will be created.)\nPrevious: Advanced Click Classification\nNext: Click Storage Options",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Tracking and Click Train Identification"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickTabPanelDisplays.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickTabPanelDisplays.html",
    "title": "Tab Panel Displays",
    "section": "",
    "text": "Click Detector Displays\nThe click detector display contains four main sub windows, although it is possible to have more than one instance of the main bearing / time display if desired. Two optional displays, IDI Histogram and Wigner Plot, are also available by selecting Click Display&gt;Add Display in the toolbar menu.\n\n\n\ntoolbar display selection\n\n\nRight clicking on the bearing / time display brings up a pop-up menu from which you can configure the display.\n\n\nBearing Time Display\n\n\n\nRCDisplayWithSperm (29K)\n\n\nEach detected click is shown as a circle or ellipse on the scrolling display. The display options, available by right clicking on the display, can be used to select the parameter to display on the vertical axis: bearing, amplitude or inter-click-interval. Note that inter-click intervals will only be shown in the automatic click train identifier is running.\nThe example shows 20s of data with three sperm whales currently slightly ahead of the hydrophone array.\nThe duration of the display may be adjusted using the right hand (vertical) slide bar.\nThe horizontal slide bar is disabled during data acquisition.\n\n\nManual tracking\nClick trains identified by eye may be tracked manually.\nTo track manually, press the default mouse button anywhere on the display. While the mouse is held down, the display will stop scrolling allowing you to position the mouse above a particular click. Release the mouse over a click and that click will be ‘tracked’.\nTracked clicks may be overlaid on the map display and also on radar type displays.\n\nManual tracking with least squares localisation\nIf the same operation is performed using the right mouse button, then a pop-up menu appears and the operator is asked to assign clicks to numbered groups. Clicks within the same tracking group are assumed to be from the same source. PAMGuard then uses a least squares fit to estimate the position of the source based on the most likely crossing point of the bearing lines for each tracked group.\nIf a location has been successfully calculated, it can be displayed on the map and radar displays.\n\n\n\nAutomatic Tracking\nIf the automatic click train identifier is running, clicks will be coloured when they are assigned to a click train. As with manual tracking, PAMGuard will use a least squares fit to estimate the position of the source based on the most likely crossing point of the bearing lines.\nAs with manual tracking, automatic click trains are displayed on the map, either as bering lines (when no position has been calculated) or as a bearing line and point if a position has been calculated.\n\n\nClick Waveform Display\nThe waveform of each click is displayed as it is detected.\n\n\nClick Spectrum\nThe power spectrum of each click is displayed as it is detected.\n\n\nTrigger\nThe trigger window shows the amplitude of the signal on each channel as a decaying histogram. The vertical red line represents the trigger threshold set in the detection parameters dialog (cross reference).\nLevel meters for each channel are also shown on the right hand side of the trigger window.\n\n\nDisplay Options\nDisplay options for windows on the tab panel are accessed from the Click Display&gt;Display Settings menu or by right clicking on the display.\n\n\n\nClickDisplayParameters1 (9K)\n\n\nThe axis panel (shown above) shows the same basic three options for the vertical axis that can be selected from the pop-up menu. It also allows you to select limits for the vertical axis when ICI or Amplitude are displayed. The number of horizontal grid lines may also be set (note that this is stored separately for the three types of vertical axis).\n\n\n\nClickDisplayParameters2 (9K)\n\n\nThe size at which each click is displayed can also be set. Clicks sizes will scale between the lower and upper bounds based on their amplitude and duration.\n\n\n\nClickDisplayParameters3 (9K)\n\n\nIf the click classifier is running it is possible to select which types of clicks get displayed.\n\n\nIDI Histogram\n\n\n\nInter-Detection Interval Histogram Display\n\n\nThe IDI (Inter-Detection Interval) Histogram Display provides a visual interpretation of the inter-detection interval on two different scales. The display uses a horizontal split-pane to present the data in both a high-resolution (left pane) and low-resolution (right pane) format. The relative proportion of the panes can be changed by dragging the center divider to the right or to the left.\nThe vertical axis is the elapsed time since the acoustic data collection was started, and is common to the two panes. The units are minutes. Each row in a pane represents a histogram of data accumulated over the course of a certain time period (the time bin), as defined by the IDI Display parameters (see below). In the image above, the time bin is 1 second. This means a histogram is generated every second from the IDI data that has been compiled over the last second, and displayed on the screen.\nEach pane has it’s own horizontal axis. Each column represents a range of IDI values, where the size of the range is defined by the IDI Display parameters (see below). In the image above, the IDI bin size is 1 ms for the high-resolution pane and 5 ms for the low-resolution pane. The highest value bin is 70 ms for the high-resolution pane and 700 ms for the low-resolution pane. Taking the low-resolution pane as an example, the first bin would count the number of inter-dection invertvals that fall between 1 ms and 5 ms, the second bin would count the number of inter-dection intervals that fall between 6 ms and 10 ms, etc.\nEach row/column combination, therefore, is a cell that represents the number of inter-detection intervals counted in a specific IDI range over a specific time period. The color of each cell represents the magnitude of that count, with black indicating 0 and red indicating a maximum value as defined by the IDI Display parameters (see below). In the image above, the maximum counts in the high-resolution pane is 20 and the maximum counts in the low-resolution pane is 50.\nWhen a click is detected, the inter-detection interval is calculated as the elapsed time since the previous click detection (in milliseconds). The IDI bin with a range spanning that data point is determined, and the count within that bin is incremented by one. When the time bin has elapsed, the counts in each IDI bin are converted to a color and displayed on the screen as a new row at the bottom of the pane. Each previous row is moved up by 1 to make room. The row at the top of the pane is discarded.\nWhen repositioning/tiling the window or resizing the split panes, the display may on occasion not update properly. In such a circumstance, simply adjust the size of the window slightly in order to force a redraw.\n\n\nIDI Display Parameters Dialog\n\n\n\nIDI Display Parameters Dialog\n\n\nThe IDI-Display Parameters Dialog can be accessed by right-clicking on the display window and selecting Plot Options. 3 parameters can be specified for both the high-resolution and low-resolution histograms:\n\nBin Scale: the size of each bin in the horizontal scale, in milliseconds\nMax Value: the value of the highest bin in the scale, in milliseconds. In the above image for the low-resolution histogram, a bin size of 5 ms and a maximum value of 700 ms means there are (700/5=) 140 bins with ranges 1-5ms, 6-10ms, 11-15ms … 691-695ms, 696-700ms.\nMax Counts: the highest number of counts in a bin, corresponding to the color red\n\nThe two time parameters are:\n\nBin Scale: the size of each time bin over which the histogram data is compiled, in seconds\nMax Value: the maximum amount of time shown on the chart, in minutes. In the above image, 1 minute of data with 1 second bins means a maximum of 60 histograms displayed at a time.\n\nThe histogram data can also be captured in a csv file, the name and location of which is specifed by the user. The first column in each row is the time of the click detection. Each column thereafter contains the counts found in a histogram bin - first the bins in the high-resolution histogram, followed by the bins in the low-resolution histogram. The values in the header row represent the upper limit of the bins (ie. for bin 1-5ms the header displays a 5, for bin 6-10ms the header displays a 10, etc).\nThe user should use caution when saving data, as the process is processor-intensive and will slow down other program functions.\nPrevious: Click Detector Displays\nNext: Click Detector Side Panel",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Detector Displays ",
      "Tab Panel Displays"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickSidePanel.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickSidePanel.html",
    "title": "Side Panel",
    "section": "",
    "text": "side panel\n\n\nThe side panel displays a running tally of the number of clicks and click events that have occurred. Also displayed is the name of the alarm that is currently sounding (or No Alarm Sounding, as shown above, if there is no alarm at the moment).\nPressing the Test Alarm button will sound each of the currently defined alarms, one at a time, with a short pause in between.\nPrevious: Tab Panel Displays\nNext: Click Detector Graphic Overlays",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Detector Displays ",
      "Side Panel"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickDetector.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickDetector.html",
    "title": "Overview",
    "section": "",
    "text": "The click detector is used to detect transient signals, primarily from odontocete species such as sperm whales, beaked whales and harbour porpoises.\n\nCreating an instance of the click detector\nFrom the File&gt;Add modules&gt;Detectors menu, or from the pop-up menu on the data model display, select ‘Click Detector’. Enter a descriptive name for the new detector (e.g. sperm whale detector, beaked whale detector, etc) and press Ok.\n\n\nConfigure the Data Source\nGo to Click Detection&gt;Detection Parameters to configure the click detector.\n\nThe click detector requires a source of raw data before it can operate. This may come directly from a Sound Acquisition module (e.g. a sound card or a National Instruments board) or from processed data such as the output from a Decimator or Filter.\nSelect an appropriate input source from the drop down list on the click detector Detection Parameters menu,\n\nChannel Grouping\nUse the channel grouping controls to arrange the data channels into groups.\nChannels in the same group are analysed together so that if one channel in a group is triggered, all channels in that group are read-out together to create a detected click.\nThe click detector works best if data are analysed in pairs of channels. It can then use the time delay within each pair to calculate a bearing. If multiple pairs of hydrophones are used, these bearings can be crossed to estimate source locations.\n(Click detector output .clk files can also be further analysed with RainbowClick software if the channels are arranged in pairs).\nIf you only have a pair of hydrophones, then select either ‘One group’ or ‘User groups’ and set the group numbers to be the same.\nIf you have multiple pairs of hydrophones, select ‘User groups’ and arrange the group numbers so that each group contains two channels as shown above.\nIf you select ‘no grouping’ each channel will be analysed totally independently. There are currently no PAMGuard functions which can re-group these single channel clicks for source localisation.\n\n\n\nData flow and advanced configuration\nThe data flow through the click detector is shown below\n\nThe filters and trigger decision parameters can all be adjusted by the user to be optimal for a particular species; and for the background noise conditions from a particular vessel and operating area. Setting many of these parameters is an expert procedure and requires both experience and a thorough understanding of the types of sound being detected.\n\n\nFilters\nYou will see in the figure above that two filters are used; a digital prefilter and a digital trigger filter. Two filters are required for the following reason. For optimal detection efficiency, the trigger only receives data in the frequency band in which the animal is making sound. However, classifiers that assign clicks to a particular species will require data from more parts of the spectrum. For instance, when detecting harbour porpoises which produce narrow band clicks between 100 and 150kHz, the trigger filter is set to a band pass filter covering only that frequency range. The pre-filter however is set to a high pass filter at 20kHz. The clip data therefore contains data in the spectrum between 20kHz and 250kHz, which is used by the classifier to distinguish between narrow band porpoise clicks and broad band clicks from other sources.\nBoth filters can be configured. Go to Click Detection&gt;Digital pre Filter… or Digital trigger filter… respectively. Both filters configured using the Filter Design panel.\n\n\nTrigger decision\nThe trigger automatically makes a measure of background noise and then compares the signal level to the noise level. When the signal level reaches a certain threshold above the noise level a click clip is started. When the signal level falls to below the threshold for more than a set number of bins, the click clip ends and the clip is sent to the localisation and classification modules.\nTrigger parameters are set in the Triggers tab of the Click Detection&gt;Detection Parameters menu:\n\nIndividual channels can be ‘turned off’ in the trigger by un-checking the appropriate check boxes. Note however, that if a deactivated channel is part of a group, that channel will still be read if another channel in that group triggers. This feature can be used to reduce false triggers if one channel develops a noise problem.\n\nThe maths behind it all\nThe noise level N at sample i is measured using\n\nand the signal level S is measured using\n\nwhere ?N is either the long filter parameter when no click is active (i.e. the signal is below threshold) or the Long Filter 2 parameter when the signal is above threshold. ?S is the Short filter parameter. A click is started / stopped when the ratio S/N goes above / below the Threshold parameter.\n\n\nClick Length\n\nThe click only ends when all chosen channels have been below threshold for the number of samples specified by “Min Click Separation” . This parameter is important since most clicks will rise above and fall below threshold several times, particularly if they are quiet and not extending much above the detection threhsold. Further, if you’re dealing with multi-channel data, clicks on different channels need to be kept together for PAMGuard to be able to estimate Time Differences of Arrival and bearings. This parameter should therefore be set to either the maximum separation of your hydrophones in samples, or the length of a typical sound from species of interest, or the maximum of both.\nThe maximum length of a click is set such that click clips are limited to a maximum number of samples. Set this so that it is at least greater than the length of a typical click for your species of interest + the separation between hydrophones + the presample + the postsample.\nWhen a clip is created, a number of extra samples are added to the clip before the first and last samples to rise above threshold and after the last sample to be above threshold (pre sample and post sample in the dialog). Set this to about half the length of a typical click for your species of interest.\nTo calculate the number of samples equivalent to a given time, simply multiply the sample rate by the time (in seconds).\nTo calculate the number of samples from a distance, then you first convert the distance to a time, then convert that time to a number of samples. e.g. if you had hydrophones with a 1m separation and are sampling at 192kHz, the maximum delay between the hydrophones is about 1.0/1500 = .00067s, or .67ms. The equivalent number of samples is therefore .00067 x 192000 = 128 samples.\nIf your hydrophone separation is small, and you’ve a limited number of species, selecting these parameters is not difficult. However, if you’ve a larger separation and are trying to separate clicks that are close together in time, e.g. small cetacean buzz clicks it might get tricky. Similarly, you’re not going to be able to chose detection parameters which will separate small cetacean buzz clicks and at the same time keep together the multiple pulses in a loud sperm whale click. For this, you’d need to implement multiple click detectors with different settings.\n\n\nDelays\nIf you’re using multi channel data, then the Click Detector will measure Time Difference of Arrival between the signals on each channel in each detected click which is the first step in estimating bearings. Several options are available to improve the robustness of delay estimation, which are described here.\n\n\n\n\nEchoes\n\n\n\nNoise\nTEXT\n\nNext: Click Detector Displays",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickAlarmOptions.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickAlarmOptions.html",
    "title": "Click Detector Alarm",
    "section": "",
    "text": "alarm_options (22K)\n\n\n\nOptions Window\nAlarms can be used to provide an audible signal when certain click types are detected. The Alarm Options dialog allows the user to create, modify and delete any number of alarms. The Alarm Options dialog can be opened from the Click Detection&gt;Audible Alarm menu.\nThe alarm can be a predefined ‘beep’, or a user-selected wav file.\nUse the Rename button to rename the current alarm (the alarm visible in the drop-down box). Use the Remove button to delete the current alarm. Note that there must always be at least one alarm in the list - in such a case, this button is not selectable. Use the Add button to create a new alarm.\nThis dialog is only used to create a list of available alarms. Associating a specific alarm with a specific click type is done in the Individual Click Classification dialog.\nPrevious: Tracking and Click Train Identification\nNext: Click Detector Viewer Functions - Overview",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Detector Alarm"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_basicClassification.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_basicClassification.html",
    "title": "Basic classifier",
    "section": "",
    "text": "The Basic click Classifier is the same as the click classifier in the IFAW RainbowClick software. The basic classifier is generally adequate for the classification of high frequency harbour porpoise clicks.\n\n\n\nClickType (14K)\n\n\nClicks are classified according to any or all of 4 different tests. Each test has a check box to the left of its parameters which can be used to enable or disable particular tests. All enabled tests must be passed for a positive classification to result.\nTest 1. Energy Band comparison\nThe summed acoustic energy in two frequency bands (Test band and Control band) is compared. The energy in each band must lie in the ranges indicated and the ratio between the energy in the test band must exceed that in the control band by the specified number of decibels.\nTest 2. Peak Frequency position\nThe peak frequency must lie within a certain range. The search for the peak frequency need not cover the entire spectrum - for instance, if low frequency noise is always present, it will make more sense to start the search at a higher frequency as shown in the example, where the search is between 20kHz and 250kHz, and the peak frequency must lie in the range 100kHz to 150kHz.\nTest 3. Peak frequency width\nSets limits on the width of the spectral peak. The width is defined as the minimum amount of spectrum required to sum up to the specified percentage of the total click energy.\nTest 4. Mean frequency\nSets limits on the mean frequency of the click energy within the specified frequency band.\nTest 5. Click length\nSets limits on the length of the click in milliseconds. The length is defined as the minimum length of the data required to sum up to the specified percentage of the total click energy.\nAcoustic Alarm\nAllows user to select the alarm associated with this click type. The alarms shown in the drop-down list are the ones previously defined in the Acoustic Alarm Settings window. The user is also able to specify a maximum amount of elapsed time between detections, to minimize alarming on spurious clicks and focus on specific inter-click intervals. The alarm will not sound on a click detection if the elapsed time since the previous click detection is greater than this number.\n\nSpecies Default settings\nThe ‘Species Defaults’ button allows the user to use stored standard settings for beaked whale and harbour porpoise classifiers.\nPrevious:Click Classification\nNext: Advanced Click Classification",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Classification ",
      "Basic classifier"
    ]
  },
  {
    "objectID": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Running.html",
    "href": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Running.html",
    "title": "Running the classifier",
    "section": "",
    "text": "From the Whistle Classification settings dialog, select “Run classifier” as the operation mode and the dialog will look something like the one below.\n\n\nWhen to Classify\nThe classifier will take whistles from the data source, break them into fragments and accumulate fragments until there are the same number of fragments as were used during training. It will then classify the data based on the distributions of extracted parameters, output the classification result, clear the distributions and start over\nSometimes, even if there are no real whistles, a few false detections are occurring from noise. These will gradually accumulate and cause false classifications. You can set the Classifier to clear the distributions if the whistle rate drops too low using the parameters in the “When to Classify” section of the dialog.\n\n\nClassifier Training Parameters\nThere are two ways of setting the classifier training parameters:\nEither they will have been set when you ran the Discriminant Function Training\nOr you can load a set of training parameters from a Whistle Classifier Settings (*.wcsd) file provided to you by someone else.\nTo load parameters from a .wcsd file, press the ‘Select …’ button and navigate to the file on your hard drive. the parameters will be loaded into your PAMGuard configuration, so you will only need to access the file once.\nThe remainder of the dialog shows information about how the training was set up (fragment length, frequency range, etc.). Since these parameters must be identical when you run the classifier to parameters used when training the classifier, you are unable to change any of these parameters.\nPrevious: Discriminant Function Training\nNext: Whistle Classifier Output",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Whistle Classifier ",
      "Running the classifier"
    ]
  },
  {
    "objectID": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Output.html",
    "href": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Output.html",
    "title": "Classifier Output",
    "section": "",
    "text": "Classifier output is shown graphically on a tab on the main PAMGuard display.\n\n\nParameter Distributions\nThe top half of the display shows the distributions of parameters extracted from each whistle fragment (Note that the negative and positive inflections are not currently used).\n\n\nClassifier History\nThe bottom half of the display shows the classification history.\nEach time the parameter distributions build up enough data and the classification runs, the classification probability for each possible species with a probability &gt; 1% (0.01) is displayed\nThe time axis of the display is logarithmic, so recent history (i.e. what’s happened in the last minute) gets as much space as the preceding 10 minutes or the 100 minutes before that. A total of two hours of data are shown.\n\n\nDatabase Output\nIf a Database is being used, each classification result is also written to the database.\nPrevious: Running the Whistle Classifier",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Whistle Classifier ",
      "Classifier Output"
    ]
  },
  {
    "objectID": "classifiers/whistleClassifierHelp/docs/whistleClassifier_CollectTraining.html",
    "href": "classifiers/whistleClassifierHelp/docs/whistleClassifier_CollectTraining.html",
    "title": "Collecting Training Data",
    "section": "",
    "text": "From the Whistle Classifier Settings dialog, select “Collect Training Data” and the dialog will change to show training data parameters in it’s lower half.\n\nDuring the collection of training data, whistles will be extracted from raw audio data and stored in a file, or set of files on your hard drive ready for Discriminant Function Training at a later date\n\nData Organisation\nAlthough in principle, the classifier can collect training data in real time (i.e. directly from a sound card connected to a hydrophone in the water, it is far more likely that you will be training your classifier based on a set of previously recorded sound files which you have archived over a period of time.\nSound files should ideally all be recorded at the same sample rate and have the same number of channels. If possible, organise your sound files so that you have one file folder per species and all the species folders are sub folders of a master training data folder as shown below.\n\nOrganising your data in this way is not essential, but it does mean that processing of all files can take place as a single operation (e.g. over the weekend)\n\nSound Acquisition\nSet up your Sound Acquisition module to analyse data from file folders, set the file folder to be the root directory containing your folders of files by species and check the option to include sub folders. Do not check the option to merge contiguous files so that processing stops and starts at the end of each file.\n\n\n\nSpecies Names\nIf your data have been organised into folders as described above, the classifier can use the folder names as species names.\nIf your data are not organised in the way described above, then you will need to enter the species name for the training set you are working on (which should of course now be just of a single species).\n\n\nStorage Folder\nTraining data are stored in files with the ending .wctd (Whistle Classifier Training Data). One wctd file will be created for each sound file analysed. Use the Browse button to select the folder you want these files to be stored in.\n\n\nRunning\nRun PAMGuard. All the files in the directory structure of training data will be processed and .wctd files created in your output folder. The main classifier display will show distributions of whistle fragment parameter but will not be performing classification.\nThere are of course other ways of organising your training data. For instance, if you wish to add new data to an already existing training set, it is not necessary to reprocess all the data.\nOnce you have created your .wctd files, you will need to run the Discriminant Function Training before you can use the classifier on new data\nPrevious: Configuring the Whistle Classifier\nNext: Discriminant Function Training",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Whistle Classifier ",
      "Collecting Training Data"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_Spectrogram.html",
    "href": "classifiers/roccaHelp/docs/rocca_Spectrogram.html",
    "title": "Rocca Spectrogram",
    "section": "",
    "text": "Once a whistle has been selected in the main spectrogram window, a new window opens containing the portion of the spectrogram selected by the user. The user must click on the starting point of the whistle, and then the ending point (note that these can be reselected later). Once the starting and ending points have been defined, ROCCA will extract and display the whistle contour (shown in yellow).\n\n\nWindow Title: displays the current detection tally. ROCCA keeps track of how many whistles have been selected in the current PAMGuard session and displays this information in the window title.\nZoom In/Out/Reset: changes the zoom level of the spectrogram.\nIncrease/Decrease Brightness: modifies the brightness of the spectrogram. Note that this only modifies the spectrogram display. The underlying contour extraction algorithm is not affected.\nIncrease/Decrease Contrast: modifies the contrast of the spectrogram. Note that this only modifies the spectrogram display. The underlying contour extraction algorithm is not affected.\nNoise Sensitivity spinner: modifies the noise sensitivity parameter used for contour extraction. This parameter controls the width of the frequency band that is used when searching for the peak frequency in the next time slice (see ‘Adjusting noise sensitivity’). The contour is automatically recalculated when this value is changed, and the spectrogram display is updated. Note that any contour points moved manually will not be changed when the noise sensitivity parameter is changed. Note also that the noise sensitivity parameter does not change the global noise sensitivity parameter as specified in the Rocca Parameters window, only the noise sensitivity used in this spectrogram popup window.\nSpectrogram window: the current spectrogram.\nSelect Contour Start/Contour End: allows user to reselect the starting or ending point of the whistle. Upon selection, the contour will recalculated automatically.\nTurn Contour Off: toggle the contour display on and off.\nPick Points: when clicked, erases existing contour trace and enters ‘Selection’ Mode. In selection mode the user can manually select points along the contour by clicking on the spectrogram itself. The user can select any number of points, but only one frequency per time bin is allowed. If multiple frequencies are selected within a time bin, only the first is kept and the rest are ignored. The user can also hold the mouse button down and drag the mouse along the contour to quickly select multiple points. When the Pick Points button is pressed a second time, Selection Mode ends. ROCCA will fill in any missing time bins using linear interpolation, and then proceed to calculate the contour variables.\nHighpass/Lowpass/Reset filters: limits the contour extraction algorithmso that it functions only within a specific frequency band. Specify a filter by either typing in the desired frequency and hitting , or hitting the  button and clicking on the desired frequency in the spectrogram. The frequency filter is drawn as a horizontal red line on the spectrogram. The contour is automatically recalculated when these values are modified, and the spectrogram display is updated. Reset the filters by clicking the  button. Note that any contour points manually moved will not be changed. Note also that the spectrogram display is not affected by the filters, only the contour extraction.\nUndo Last Move: return the last contour point that was moved manually to its previous location.\nRecalc Contour: recalculate the contour after manually moving one or more contour points to new positions.\nReset Contour: unlock all contour points that have been manually moved.\nClassify/Reclassify: classify the currently-extracted contour, or reclassify the contour after changes have been made. The classification is displayed to the left of the button.\nSave as encounter […]: save the whistle clip wav file, contour points, and measured contour variables to the directory specified in the Rocca Parameters window using the encounter number that was active when the whistle was captured in the spectrogram. The encounter number is shown on the button for reference. The spectrogram popup window is then closed and the focus returns to the main PAMGuard display. Classification results will be added to the Rocca Sidebar.\nSave as diff encounter: save the whistle clip wav file, contour points, and measured contour variables to the directory specified in the Rocca Parameters window, but first query the user as to which encounter number to use. The spectrogram popup window is then closed and the focus returns to the main PAMGuard display. Classification results will be added to the Rocca Sidebar.\nSave WAV only: save the whistle clip wav file to the directory specified in the Rocca Parameters window using the current encounter number (shown in the window title bar). This option is useful if the user wishes to classify the whistle later.\nDiscard and Exit: discard the current whistle, close the spectrogram popup window and return to the main PAMGuard display without saving anything.\nTime/Frequency: displays the current time and frequency location of the cursor.\n\nPrevious: Selecting a Whistle\nNext: Contour Extraction / Manipulation",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "Rocca Spectrogram"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_SelectingWhistle.html",
    "href": "classifiers/roccaHelp/docs/rocca_SelectingWhistle.html",
    "title": "Selecting a Whistle",
    "section": "",
    "text": "To manually classify a whistle using ROCCA, the user must first select the whistle from the scrolling spectrogram display. Move the cursor to one corner of the whistle, press and hold the mouse button while dragging the cursor to the opposite corner, and release the button. A red box will be drawn around the selection, and the time and frequency of the starting point (upper left corner) and ending point (lower right corner) of the box are displayed in the ROCCA sidebar for reference.\n\n\n\na selected whistle in the scrolling spectrogram\n\n\nWhen the mouse button is released, a new window will be opened containing that portion of the spectrogram selected by the user. The new window is minimized automatically to allow the user to continue selecting whistles from the scrolling spectrogram. The user does NOT need to classify the whistle immediately. The number of captured whistles is only limited by the amount of memory available on the computer.\nIf an Encounter Number has not yet been specified, the user will be prompted for one after the first whistle has been selected.\nPrevious: ROCCA Creation and Configuration\nNext: Spectrogram Popup Window",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "Selecting a Whistle"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_Overview.html",
    "href": "classifiers/roccaHelp/docs/rocca_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "The ROCCA (Real-time Odontocete Call Classification Algorithm) module is intended to provide a set of measured variables for detected acoustic events. The variables differ depending on whether the acoustic detection is a delphinid whistle or click. ROCCA uses these parameters in conjunction with a user-selected random forest classification model to classify the whistle or click to species. Three random forest models are available; one for odontocete species in the northwest Atlantic, one for species in the temperate Pacific and one for species in the waters surrounding Hawaii.\nIndividual whistle/click detections and classifications are grouped into user-defined Encounter Numbers. An encounter is defined as a set of whistles and/or clicks that can all be attributed to one school of odontocetes. Variables describing the acoustic behavior of the encounter are measured from the whistle and click detections for that encounter. Each encounter is classified based on information from detected whistles, clicks and ancillary variables using the encounter classifier, or as the species with the highest number of random forest tree votes if no event classifier has been selected.\n\nDelphinid Whistles\nROCCA classifies delphinid whistles based on spectrographic measurements extracted from whistle contours. The contour extraction algorithm measures 50 different variables for each contour. Whistles can be classified based on measurements taken manually or based on measurements taken automatically. Manual classifiers are available for species in the tropical Pacific Ocean (TropPacWhist.model) and for species in the northwest Atlantic (NWAtlWhist.model). Automated whistle classifiers are available for species in the northwest Atlantic (NWAtlWhist_auto.model), the temperate Pacific (TempPacWhist_auto.model) and the waters surrounding Hawaii (HIWhist_auto.model).\nThe manual classifier requires seven main steps:\n\nUser selects a whistle from the spectrogram display by drawing a box around it using the cursor\nThe whistle is captured by ROCCA and displayed in a new spectrogram window window\nThe whistle contour is traced either automatically by ROCCA or manually using the cursor. The user can manipulate the trace, if desired\nThe time-frequency points are automatically extracted from the contour\nThe contour parameters are automatically measured\nThe contour is classified using the currently-loaded classifier model\nThe classified whistle statistics are added to the specified Encounter in the GUI display and the saved data files\n\nROCCA can also be used in conjunction with the Whistle & Moan Detector module to measure and classify whistles detected and extracted automatically.\n\n\nOdontocete Clicks\nROCCA measures 17 variables from clicks passed to it by the Click Detector module. Each click is classified to species based on these variables and the currently loaded classifier model, and the click statistics are added to the specified Encounter in the GUI display and the saved data files.\nClassifiers are available for species in the tropical Pacific Ocean (TropPacClick.model), the northwest Atlantic (NWAtlClick.model), the temperate Pacific (TempPacClick.model) and the waters surrounding Hawaii (HIClick.model).\n\n\nEncounters\nROCCA measures 17 variables from the whistles and clicks classified within each encounter. The encounter is classified to species based on these variables and the currently loaded classifier model, and the results are passed to the GUI display and the saved data files. Note that if no encounter classifier has been specified, the encounter will be classified based on the species in the encounter with the highest cumulative percentage of random forest tree votes.\nClassifiers are available for encounters in the tropical Pacific Ocean (TropPacEnc.model), the northwest Atlantic (NWAtlEnc.model), the temperate Pacific (TempPacEnc.model) and the waters surrounding Hawaii (HIEnc.model).\n\nReferences\nOswald, J. N., Rankin, S., Barlow, J., and Lammers, M. O. (2007). “A tool for real-time acoustic species identification of delphinid whistles,” The Journal of the Acoustical Society of America, 122, 587.\nNext: Configuring ROCCA",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "Overview"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_Configure.html",
    "href": "classifiers/roccaHelp/docs/rocca_Configure.html",
    "title": "Configuration",
    "section": "",
    "text": "Creating a ROCCA module\nFrom the File &gt; Add Modules &gt; Detectors menu, select “ROCCA”. Enter a descriptive name for the new module and press OK.\nROCCA requires an FFT engine module to operate. If no FFT engine module has been loaded, PAMGuard will warn the user and automatically load one.\nWhen the ROCCA module is created, it will automatically try to load a classifier model. ROCCA will also check to see if an Enounter Stats file exists. If it does, the user is given the option to load the contents of the file into memory.\nNote: the Encounter Stats file is continually overwritten while ROCCA is running. If, upon startup, the user does not load the data into memory, the information in the file will be lost. Thus if the user does not wish to load the data but still desires to keep it, the file should be renamed before continuing with PAMGuard.\n\n\nConfiguring a ROCCA module\nNote: the Sound Acquisition and FFT Engine modules must be configured before configuring ROCCA.\nFrom the Detection menu, select “ROCCA Parameters”. A new dialog should appear containing five tabs: Source Data, Contours/Classifier, Output, Filename Template, and Notes.\n\n\n\nSource Data tab\n\n\nData Source: where ROCCA should get it’s input data from. Options include an FFT module (select this if using the manual classifier), a Click Detector, and a Whistle and Moan Detector. Multiple sources can be selected. The whistle and moan detector and/or click detector should be selected if using the automated classifier.\nFFT Data source: the fft data source to be used. The channels listed are those currently selected in the FFT Parameters dialog. ROCCA will save a wav file clip of each manually selected whistle contour whenever it is classified and added to the current encounter. Check the channel boxes corresponding to the channels you wish to save to this clip wav file. Note that this is different than the channels displayed in the spectrogram window, which are set in the display options dialog. Whistles can be selected and contours extracted from any channel displayed, but the saved whistle clips will only contain data from the channels selected in the FFT data source box. So it is possible (though not recommended) to extract and classify a whistle from Channel 0, but only save the data from Channels 1 and 2.\nClick Detector source: the Click Detector to be used. Both the click source and the noise source must be specified, along with the appropriate channels. There are two options for the click source: Clicks and Tracked Clicks. Selecting Clicks sends all auto-detected clicks to the ROCCA module. Selecting Tracked Clicks sends only those clicks which are assigned to click trains (see Click Train Identification and Click Detector displays for more details) to ROCCA. The ‘Select Click Types’ button allows the user to select which types of clicks (as classified by the Click Detector module based on user-supplied settings) to send from the Click Detector to ROCCA for analysis.\nNoise Data Samples should be selected for the Click Detector Noise Source. These noise data samples are automatically collected by the Click Detector module at intervals which can be set by the user in the Click Detector Settings dialog window. The noise samples are used to calculate the RMSNOISE and SNR click variables\nNote: a Click Detector Module must first be configured and at least one Click Classifier defined, for appropriate options to be displayed in the Click Detector Data Source frame. See the PAMGuard help files for full details on creating and configuring the Click Detector module.\nWhistle and Moan source: the Whistle & Moan Detector to be used. This drop-down box will list all currently configured Whistle & Moan Detector modules. After performing its own analysis, the Whistle & Moan Detector will send all detected whistles to the ROCCA module. ROCCA will then measure contour variables, classify the whistles, add the results to the sidebar and save the results to output files, but no popup Spectrogram window will appear.\nNote: a Whistle & Moan Detector Module must first be added and configured for appropriate options to be displayed in the Whistle & Moan Data Source frame. See the PAMGuard help files for full details on creating and configuring the Whistle & Moan Detector module.\nGPS Source: the source for GPS signals. Some encounter classifiers use latitude and longitude as classification variables.\n\n\n\nContour/Classifier tab\n\n\nWhistle Classifier: select the classifier to be used for whistles. The available classifier models were created based on the Weka Random Forest model. A classifier model uses the file extension .model. To select a classifier model, click the Select Whistle Classifier button. To not classify whistles at all, click the Clear Whistle Classifier button. At the moment the ability to create new classifiers within PAMGuard is not available.\nClick Classifier: select the classifier to be used for clicks. The available classifier models were created based on the Weka Random Forest model. A classifier model uses the file extension .model. To select a classifier model, click the Select Click Classifier button. To not classify clicks at all, click the Clear Click Classifier button. At the moment the ability to create new classifiers within PAMGuard is not available.\nEncounter Classifier: select the classifier to be used for acoustic encounters. Classifier models are created based on the Weka Random Forest model. A classifier model uses the file extension .model. To select a classifier model, click the Select Encounter Classifier button. To not classify encounters at all, click the Clear Encounter Classifier button. At the moment the ability to create new classifiers within PAMGuard is not available.\nWhistle/Click Threshold: the threshold value to use when classifying individual whistles or clicks. If the percent of trees voting for the predicted species in the random forest falls below this threshold, the whistle or click is considered non-classifiable and is labelled as ‘ambiguous’.\nEncounter Threshold: the threshold value to use when classifying encounters. If the percent of trees voting for the predicted species in the random forest falls below this threshold, the encounter is considered non-classifiable and is labelled as ‘ambiguous’.\nThe whistle/click threshold can be used in one of two ways: as an absolute value, or as the minimum difference between the highest vote and the second-highest vote. If used as an absolute, whistles will only be classified if the percent of trees in the random forest voting for the predicted species is higher than the selected threshold. If used as a difference, whistles will only be classified if the highest percentage of trees in the random forest voting for the predicted species is greater than the second-highest percentage by the threshold value.\nNoise Sensitivity: specify the global noise sensitivity parameter to use when extracting a whistle contour.\nEnergy Bin Calc Size: specify the size of the frequency bin used to calculate the energy around each peak frequency.\nCalculate Whistle Encounter Stats:select whether or not to calculate ancillary variables for the detected whistles, for use by the Encounter Classifier. Calculations may cause memory issues when there are many (&gt;1000) whistles.\nCalculate Click School Stats:select whether or not to calculate ancillary variables for the detected clicks, for use by the Encounter Classifier. Calculations may cause memory issues when there are many (&gt;1000) clicks.\n\nNote that the Whistle, Click and Encounter classifiers selected by the user should all have been trained with the same species list in order to be compatible with each other.\nNote also that if either whistle or click encounter stats are not calculated, the encounter classification will be based on whistle or click classification results only. The number of trees that voted for each species will be tallied over all whistles and clicks in the encounter and the encounter will be classified as the species with the highest number of random forest tree votes. Even if an encounter classifier has been loaded, it will be ignored.\n\n\nOutput tab\n\n\nOutput Directory: specify which directory clip wav files, whistle contour points and whistle contour variable measurements are saved to. Note that, with Microsoft Windows operating systems, it is a good idea to select a directory that does not require administrator privileges to save to.\nContour Stats Save File: specify the name of the file that classified whistle contour variables are saved to. The file will be saved to the output directory, specified above. Each classified whistle is appended to the end of the file when one of the Save buttons in the Spectrogram Popup window is clicked.\nEncounter Stats Save File: specify the name of the file that encounter classifications are saved to. The file will be saved to the output directory, specified above. Note that in order to use the latest encounter numbers, this file is overwritten during each save. While this is not a problem as long as PAMGuard is run continuously, if this file exists when PAMGuard is first loaded the contents will be lost. If the file exists during start up, the user is warned and given a chance to load/rename/backup the existing file.\n\n\n\nFilename Template tab\n\nIn addition to the Contour Stats and Encounter Stats save files, ROCCA also saves a whistle clip (wav format) and a list of the contour points (time and frequency, csv format). These files will be named according to the template given in the text box on this tab. As part of the name, the user is able to use any of the following symbols. When the files are saved, ROCCA will substitute the actual values for the symbol names.\n\n\n\nSymbol\nMeaning\n\nSymbol\nMeaning\n\n\n\n\nf\nname of source\n\nH\nhour, 24-hour clock\n\n\nn\ndetection number\n\nh\nhour, 12-hour clock\n\n\nX\ndetection tally/count\n\na\nam or pm\n\n\nt\nchannel/track number\n\nm\nminute\n\n\nY\nyear, 4 digits\n\ns\nsecond\n\n\ny\nyear, 2 digits\n\nS\nsecond of the day, 5 digits\n\n\nM\nmonth\n\nd\ntenths of a second\n\n\nD\nday of the month\n\nc\nhundredths of a second\n\n\nJ\nday of the year, 3 digits\n\ni\nthousandths of a second\n\n\n\nNote that all date/time values are GMT.\n\n\nNotes tab\n\nThis tab provides the user an opportunity to save additional information about the data. Any number of text boxes can be used. The information contained in the text boxes will be saved on every row of the Contour Parameters file. In addition, a text file containing standard notes can be loaded. The contents of the text file will then be available in a drop-down list for each text box. The format of the text file is one note per line.\nNote: commas cannot be used in the text boxes or the standard notes text file.\n\n\nROCCA Mark Observers\nROCCA must be added to the Mark Observers list in the spectrogram in order to receive captured data. To do so, right click on the spectrogram and select Settings. Select the Mark Observers tab and check the box beside ROCCA. If ROCCA is not listed as a possible mark observer, it has not been added as a module.\nPrevious: ROCCA Overview\nNext: Selecting a Whistle",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "Configuration"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_Results.html",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_Results.html",
    "title": "Results",
    "section": "",
    "text": "Output from the deep learning module can be viewed in PAMGuard viewer mode, or extracted from binary files using MATLAB or R.\n\nPAMGuard viewer mode\nDetections form continuous raw data are shown in the datagram in the same way as all data streams in PAMGuard.\nThe Time base display FX is best way to view detailed data outputs from the deep learning algorithm. The time base display can display almost all data types in PAMGuard on a large variety of different data axis. For example, click detections can be displayed on an amplitude, bearing, ICI, waveform and/or frequency axis. Deep learning detections (i.e. data units which have been saved from raw data using the deep learning detector) can be displayed on the time base display in the same way as many other detections and in addition, there is a symbol manager options which allows the deep learning detections or other detections which have been classified by the deep learning module to be coloured by prediction class. This means that a manual analyst can quickly navigate to detections with high prediction values for a certain class. Hovering over or right clicking on a data unit in the time display and selecting the information button, will show the data unit’s metadata, including the prediction values for all output classes from the deep learning model.\n\nAn example click detection module output coloured by deep learning annotations. Click detections are annotated with the results from the deep learning module. The symbol manager in the time base display can be used to colour the clicks by the prediction for a selected class\nOther displays also show outputs from the deep learning module. Hovering over data units in the click display will, for example, show deep learning prediction values. The spectrogram will also show deep learning detections as translucent blue boxes (these must be selected in the right click menu).\n\n\nMATLAB\nThe easiest way to export to MATLAB is to select the desired units in the time base display, right click and select the MATLAB icon. Data units will be exported to a .mat file as list of structures which is then saved to the clipboard. This file can be saved and then dragged into MATLAB to open.\nWhere it is necessary to further analyse large datasets produced by PAMGuard, there is a MATLAB-PAMGuard library which can directly import the binary files which store PAMGaurd detection data. The library is simple to use with the primary function being loadPAMGuardBinaryFile.m. This will load any binary file type (e.g. clicks, whistles, deep learning detections) and return a list of data structures with the detection data. The structures include annotations where deep learning predictions are stored.\nHere is a simple example loading up all the deep learning detections for a right whale classifier.\n% the folder containing PAMGuard binary files\nfolder = '/Users/me/right_whale_project_1/PAMBinary/'; \n%load all the detections in the folder\ndldetections = loadPamguardBinaryFolder(folder, 'Deep_Learning_Classifier_Raw_Deep_Learning_Classifier_DL_detection_*.pgdf')\nThe predictions for each class (in this case the classes are noise and right whale) are easily accessed in the structure via;\n%% access the prediction form the first detection \npredicitons = dldetections(1).annotations.dlclassification(j).predictions;\nThe loaded detections can then be plotted by accessing the waveform data in each structure;\n% plot all the spectrograms.\nclf\ntiledlayout(5,5)\nfor i=1:length(dldetections)\n   \n   nexttile\n   \n   % generate the data for a spectrgram\n   [s, w, t] = spectrogram(dldetections(i).wave,512, 384,[],sR,'yaxis');\n   \n   % create the time and frequency matrices required to plot a surface \n   [X, Y] = meshgrid(t,w);\n   % plot the surface (divide and multiply by 1000 to show milliseconds and kHz respectively)\n   surf(X*1000, Y/1000, 20*log10(abs(s))-140, 'EdgeColor', 'None')\n   view([0,90])\n\n   caxis([70, 140]-140)  \n   ylim([0,0.5]); \n   xlabel('')\n   ylabel('')\n   \n   if (mod(i,5)==0)\n      c = colorbar;  \n      c.Label.String = 'Amplitude (dB)'; \n   end\n\n   %x axis only on bottom plots\n   if (i&gt;=20)\n      xlabel('Time (ms)') \n   end\n   \n   %y axis only on left most plots\n   if (mod(i-1,5)==0)\n      ylabel('Frequency (kHz)') \n   end\nend\n\nRight whale detections from a deep learning model imported and then plotted in MATLAB\n\n\nR\nIn the same way as MATLAB export, the PAMGuard time base display and export selected data units directly to an R struct which can be imported easily into R..\nR also has a well supported PAMGuard library with like for like functions compared to the MATLAB library. The PAMBinaries R library can be found here.\nPrevious: Running the Deep Learning module\nNext: Common Bugs and Mistakes",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Results"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_CreateAndConfig.html",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_CreateAndConfig.html",
    "title": "Creation and Configuration",
    "section": "",
    "text": "The module can be added from the File&gt; Add modules &gt; Classifier &gt; Raw deep learning classifier menu or by right clicking in the data model. More than one instance of the module can be added if multiple deep learning models are required.",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Creation and Configuration"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_CreateAndConfig.html#module-settings",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_CreateAndConfig.html#module-settings",
    "title": "Creation and Configuration",
    "section": "Module settings",
    "text": "Module settings\nThe module settings are opened by selecting the Settings &gt; Raw deep learning classifier menu. The main settings pane is shown below and is split into three sections, Raw Sound Data, Segmentation and Deep Learning Model\n\nThe main settings pane for the deep learning module with descriptions\n\nRaw Sound Data\nThe deep learning module accepts any raw data source i.e., any data source that contains raw waveform data e.g. clicks, clips and Ishmael detections. Note that the module accepts whislte and moan detections but only if a delphinID classifier has been loaded.\nIf the data is continuous, e.g. from the Sound Acquisition module then deep learning detections are saved to PAMGuard’s data management system if they pass a user defined prediction threshold. The raw waveform data for segments which pass prediction threshold is saved and the detection is annotated with the deep prediction results.\nIf the data source is an existing detection data stream, e.g. clicks or clips, then the deep learning results are saved as an annotation attached each detection. The data is segmented in exactly the same way as continuous data and thus, depending on the length of raw data within the detection, there can be more than one prediction per detection.\nChannel grouping controls are used to arrange channels into groups. Channels in the same group are saved together for downstream processes. So, for example if channels 0 and 2 are in a group, then the raw waveform data from both channel 0 and 2 will be saved and can be used in downstream processes, e.g., for localisation.\n\n\nSegmentation\nThe segmentation section defines how the raw data is segmented. Some deep learning models require a specific segment size and others can be run with different segment sizes. The Window Length is the size of the segment in samples. The Hop Length is the overlap (from the start of the segment) in samples. A Hop Length which is the same as the segment length means no overlap. If a prediction passes threshold, then the raw data from segments is saved to PAMGuard binary files. If concurrent segments pass a prediction threshold, then they are saved as one data unit. The Max. re-merge is the maximum number of segments that can form a single data unit before a new data unit is automatically created.\n\n\nDeep Learning Model\nThe deep learning model section is used to select the deep learning model. The drop down menu is used to select the framework the model is from e.g. Generic model. Note that each model type has a unique user interface which appears just below the drop down menu - currently these all look fairly similar.\nAll frameworks require a model file to be selected using the browse button (File icon). A wait icon will appear and the model will be loaded. If the deep learning model loading is successful then the filename of the model will appear (e.g. saved_model.pb)\nNote: when a model is first loaded, the computer must be connected to the internet as PAMGuard will download the correct libraries for the computer to open the specific model. On Windows machine these libraries are found in a hidden folder called ai.djl. in the user account folder.\nOnce the model has loaded there some unique options depending on the currently selected framework.\n\nGeneric Model\nA generic model must be set up via the Advanced menu button.\n\nBefore a sound segment can be classified it must be converted into a format suitable for the deep learning model. This is achieved by a list of transforms which convert a raw sound data into an appropriate format. Usually this involves converting to a spectrogram image and then performing a series of noise reductions and interpolation step. For the generic model users either have to manually add transforms and input the correct settings for each, or load a transforms *.pgtr setting file\nThe Model Transforms tab in the advanced menu pane allows a user to set up a set of transforms. The Add transfrom + button adds a transforms and these can be dragged in order using the drag handles on the left of each transform. Each transform has it’s own settings pane which can be expanded to show transform specific settings. The bottom of the advanced settings pane shows a preview of the data that will be input into the deep learning model, including the shape of the input data e.g. a 100x50 image.\n\nThe Model Settings tab allows the model inputs and outputs to be defined\nThe Model Settings tab allows the model input shape and output shape/classes to be defined. Most models will have metadata on the input and output data and these can be set by selecting the Use default model shape and Use default model out switches respectively. Otherwise, the input and output shape and the output classes must be defined manually\nThe import and export buttons on the bottom of the advanced settings pane can be used to export and import settings for the generic model. This means that users do not have to manually set up transforms and input and output data whenever settings up a new PAMGuard data model and allow easier sharing of classifiers amongst researchers.\n\n\nKoogu, Ketos, AnimalSpot, PAMGuard zip and delphinID models\nIf using a deep learning model from a supported framework then all transforms are automatically set up. The transforms can be viewed and altered via the Advanced menu button but in the majority of cases these settings should not be used. For some models, it is advisable to select “Use default segment length” to change the Window length to the default for the selected model.\n\nAn AnimalSpot, Ketos or other supported deep learning model will automatically create a list of transforms with the appropriate settings. These is no need to use the advanced pane but it is there in case users wish to change transform settings for some reason\n\n\n\nDefault Models\nDefault models are selectable from the menu button in the Deep Learning Pane. Default models are deep learning classifiers which are open source, known to be effective and have have been published in open access academic litrature; they are downloaded directly from a GitHub repository and then all associated settings are automtically applied. The default model selection pane also contains hyperlinks to the papers descirbing each model which will take users directly to the relvent website.\n\nDefault models can be downloaded. Default models are models which are published, open and have been known to work well amongst the bioacoustics community. More will be added to PAMGaurd over time. If you you would like your model to become a defualt model then drop PAMGuard support an email.\nPrevious: Overview\nNext: Running the Deep Learning module",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Creation and Configuration"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html",
    "title": "PAMGuard’s Deep Learning Module",
    "section": "",
    "text": "PAMGuard’s deep learning module allows users to deploy a large variety of deep learning models natively in PAMGuard. It is core module, fully integrated into PAMGuard’s display and data management system and can be used in real time or for post processing data. It can therefore be used as a classifier for almost any acoustic signal and can integrate into multiple types of acoustic analysis workflows, for example post analysis of recorder data or used as part of real time localisation workflow."
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#creating-an-instance-of-the-module",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#creating-an-instance-of-the-module",
    "title": "PAMGuard’s Deep Learning Module",
    "section": "Creating an instance of the module",
    "text": "Creating an instance of the module\nThe module can be added from the File&gt; Add modules &gt; Classifier &gt; Raw deep learning classifier menu or by right clicking in the data model. More than one instance of the module can be added if multiple deep learning models are required."
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#module-settings",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#module-settings",
    "title": "PAMGuard’s Deep Learning Module",
    "section": "Module settings",
    "text": "Module settings\nThe module settings are opened by selecting the Settings &gt; Raw deep learning classifier menu. The main settings pane is shown below and is split into three sections, Raw Sound Data, Segmentation and Deep Learning Model\n\nThe main settings pane for the deep learning module with descriptions\n\nRaw Sound Data\nThe deep learning module accepts any raw data source i.e., any data source that contains raw waveform data.\nIf the data is continuous, e.g. from the Sound Acquisition module then deep learning detections are saved to PAMGuard’s data management system if they pass a user defined prediction threshold. The raw waveform data for segments which pass prediction threshold is saved and the detection is annotated with the deep prediction results.\nIf the data source is an existing detection data stream, e.g. clicks or clips, then the deep learning results are saved as an annotation attached each detection. The data is segmented in exactly the same way as continuous data and thus, depending on the length of raw data within the detection, there can be more than one prediction per detection.\nChannel grouping controls are used to arrange channels into groups. Channels in the same group are saved together for downstream processes. So, for example if channels 0 and 2 are in a group, then the raw waveform data from both channel 0 and 2 will be saved and can be used in downstream processes, e.g., for localisation.\n\n\nSegmentation\nThe segmentation section defines how the raw data is segmented. Some deep learning models require a specific segment size and others can be run with different segment sizes. The Window Length is the size of the segment in samples. The Hop Length is the overlap (from the start of the segment) in samples. A Hop Length which is the same as the segment length means no overlap. If a prediction passes threshold, then the raw data from segments is saved to PAMGuard binary files. If concurrent segments pass a prediction threshold, then they are saved as one data unit. The Max. re-merge is the maximum number of segments that can form a single data unit before a new data unit is automatically created.\n\n\nDeep Learning Model\nThe deep learning model section is used to select the deep learning model. The drop down menu is used to select the framework the model is from e.g. Generic model. Note that each model type has a unique user interface which appears just below the drop down menu - currently these all look fairly similar.\nAll frameworks require a model file to be selected using the browse button (File icon). A wait icon will appear and the model will be loaded. If the deep learning model loading is successful then the filename of the model will appear (e.g. saved_model.pb)\nNote: when a model is first loaded, the computer must be connected to the internet as PAMGuard will download the correct libraries for the computer to open the specific model. On Windows machine these libraries are found in a hidden folder called ai.djl. in the user account folder.\nOnce the model has loaded there some unique options depending on the currently selected framework.\n\nGeneric Model\nA generic model must be set up via the Advanced menu button.\n\nBefore a sound segment can be classified it must be converted into a format suitable for the deep learning model. This is achieved by a list of transforms which convert a raw sound data into an appropriate format. Usually this involves converting to a spectrogram image and then performing a series of noise reductions and interpolation step. For the generic model users either have to manually add transforms and input the correct settings for each, or load a transforms *.pgtr setting file\nThe Model Transforms tab in the advanced menu pane allows a user to set up a set of transforms. The Add transfrom + button adds a transforms and these can be dragged in order using the drag handles on the left of each transform. Each transform has it’s own settings pane which can be expanded to show transform specific settings. The bottom of the advanced settings pane shows a preview of the data that will be input into the deep learning model, including the shape of the input data e.g. a 100x50 image.\n\nThe Model Settings tab allows the model inputs and outputs to be defined\nThe Model Settings tab allows the model input shape and output shape/classes to be defined. Most models will have metadata on the input and output data and these can be set by selecting the Use default model shape and Use default model out switches respectively. Otherwise, the input and output shape and the output classes must be defined manually\nThe import and export buttons on the bottom of the advanced settings pane can be used to export and import settings for the generic model. This means that users do not have to manually set up transforms and input and output data whenever settings up a new PAMGuard data model and allow easier sharing of classifiers amongst researchers.\n\n\nAnimalSpot and Ketos models\nIf using an AnimalSpot or Ketos model then all transforms are automatically set up. The transforms can be viewed and altered via the Advanced menu button but in the majority of cases these settings should not be used. It is advisable to select “Use default segment length” to change the Window length to the default for the selected model. Note that this is often necessary for Ketos models but usually not a requirement for AnimalSpot models.\n\nAn AnimalSpot or Ketos model will automatically create a list of transforms with the appropriate settings. These is no need to use the advanced pane but it is there in case users wish to change transform settings for some reason"
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#running",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#running",
    "title": "PAMGuard’s Deep Learning Module",
    "section": "Running",
    "text": "Running\n\nReal time\nIn real time, the deep learning model runs automatically when processing starts. A warning will appear if there are issues with the model and/or it cannot cope with real time speeds.\n\n\nViewer Mode\nThe deep learning module can be re-run on detector data (e.g. click or clip detections) in PAMGuard viewer mode. Detections can be reclassified by selecting the Settings &gt; Raw Deep Learning Classifier &gt; Reclassify detections. Select the data range in the reprocessing dialog e.g. Loaded Data and select Start. Detections without a deep learning annotation will have one added and detections with an existing annotation will have it overwritten."
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#viewing-and-exporting-results",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#viewing-and-exporting-results",
    "title": "PAMGuard’s Deep Learning Module",
    "section": "Viewing and exporting results",
    "text": "Viewing and exporting results\nOutput from the deep learning module can be viewed in PAMGuard viewer mode, or extracted from binary files using MATLAB or R.\n\nPAMGuard viewer mode\nDetections form continuous raw data are shown in the datagram in the same way as all data streams in PAMGuard.\nThe Time base display FX is best way to view detailed data outputs from the deep learning algorithm. The time base display can display almost all data types in PAMGuard on a large variety of different data axis. For example, click detections can be displayed on an amplitude, bearing, ICI, waveform and/or frequency axis. Deep learning detections (i.e. data units which have been saved from raw data using the deep learning detector) can be displayed on the time base display in the same way as many other detections and in addition, there is a symbol manager options which allows the deep learning detections or other detections which have been classified by the deep learning module to be coloured by prediction class. This means that a manual analyst can quickly navigate to detections with high prediction values for a certain class. Hovering over or right clicking on a data unit in the time display and selecting the information button, will show the data unit�s metadata, including the prediction values for all output classes from the deep learning model.\n\nAn example click detection module output coloured by deep learning annotations. Click detections are annotated with the results from the deep learning module. The symbol manager in the time base display can be used to colour the clicks by the prediction for a selected class\nOther displays also show outputs from the deep learning module. Hovering over data units in the click display will, for example, show deep learning prediction values. The spectrogram will also show deep learning detections as translucent blue boxes (these must be selected in the right click menu).\n\n\nMATLAB\nThe easiest way to export to MATLAB is to select the desired units in the time base display, right click and select the MATLAB icon. Data units will be exported to a .mat file as list of structures which is then saved to the clipboard. This file can be saved and then dragged into MATLAB to open.\nWhere it is necessary to further analyse large datasets produced by PAMGuard, there is a MATLAB-PAMGuard library which can directly import the binary files which store PAMGaurd detection data. The library is simple to use with the primary function being loadPAMGuardBinaryFile.m. This will load any binary file type (e.g. clicks, whistles, deep learning detections) and return a list of data structures with the detection data. The structures include annotations where deep learning predictions are stored.\nHere is a simple example loading up all the deep learning detections for a right whale classifier.\n```matlab% the folder containing PAMGuard binary files folder = ‘/Users/me/right_whale_project_1/PAMBinary/’;\n%load all the detections in the folder dldetections = loadPAMGuardBinaryFolder(folder, ’Deep_Learning_Classifier_Raw_Deep_Learning_Classifier_DL_detection_*.pgdf’)\n\nThe predicitons for each class (in this case the classes are noise and right whale) are easily accessed in the structure via;\n\n ```matlab\n            &lt;span class=\"hljs-comment\"&gt;%% access the prediciton form the first detection &lt;/span&gt;\npredicitons = dldetections(&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;).annotations.dlclassification(&lt;span\n                class=\"hljs-built_in\"&gt;j&lt;/span&gt;).predictions;\nThe loaded detections can then be plotted by accessing the waveform data in each structure;\n&lt;span class=\"hljs-comment\"&gt;% plot all the spectrograms.&lt;/span&gt;\nclf\ntiledlayout(&lt;span class=\"hljs-number\"&gt;5&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;5&lt;/span&gt;)\n&lt;span class=\"hljs-keyword\"&gt;for&lt;/span&gt; &lt;span class=\"hljs-built_in\"&gt;i&lt;/span&gt;=&lt;span\n               class=\"hljs-number\"&gt;1&lt;/span&gt;:&lt;span class=\"hljs-built_in\"&gt;length&lt;/span&gt;(dldetections)\n\n   nexttile\n\n   &lt;span class=\"hljs-comment\"&gt;% generate the data for a spectrgram&lt;/span&gt;\n   [s, w, t] = spectrogram(dldetections(&lt;span class=\"hljs-built_in\"&gt;i&lt;/span&gt;).wave,&lt;span\n               class=\"hljs-number\"&gt;512&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;384&lt;/span&gt;,[],sR,&lt;span\n               class=\"hljs-string\"&gt;'yaxis'&lt;/span&gt;);\n\n   &lt;span class=\"hljs-comment\"&gt;% create the time and frequency matrices required to plot a surface &lt;/span&gt;\n   [X, Y] = &lt;span class=\"hljs-built_in\"&gt;meshgrid&lt;/span&gt;(t,w);\n   &lt;span class=\"hljs-comment\"&gt;% plot the surface (divide and multiply by 1000 to show milliseconds and kHz respectively)&lt;/span&gt;\n   surf(X*&lt;span class=\"hljs-number\"&gt;1000&lt;/span&gt;, Y/&lt;span\n               class=\"hljs-number\"&gt;1000&lt;/span&gt;, &lt;span class=\"hljs-number\"&gt;20&lt;/span&gt;*&lt;span\n               class=\"hljs-built_in\"&gt;log10&lt;/span&gt;(&lt;span class=\"hljs-built_in\"&gt;abs&lt;/span&gt;(s))&lt;span\n               class=\"hljs-number\"&gt;-140&lt;/span&gt;, &lt;span class=\"hljs-string\"&gt;'EdgeColor'&lt;/span&gt;, &lt;span\n               class=\"hljs-string\"&gt;'None'&lt;/span&gt;)\n   view([&lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;90&lt;/span&gt;])\n\n   caxis([&lt;span class=\"hljs-number\"&gt;70&lt;/span&gt;, &lt;span\n               class=\"hljs-number\"&gt;140&lt;/span&gt;]&lt;span class=\"hljs-number\"&gt;-140&lt;/span&gt;)  \n   ylim([&lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;0.5&lt;/span&gt;]); \n   xlabel(&lt;span class=\"hljs-string\"&gt;''&lt;/span&gt;)\n   ylabel(&lt;span class=\"hljs-string\"&gt;''&lt;/span&gt;)\n\n   &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; (&lt;span class=\"hljs-built_in\"&gt;mod&lt;/span&gt;(&lt;span\n               class=\"hljs-built_in\"&gt;i&lt;/span&gt;,&lt;span class=\"hljs-number\"&gt;5&lt;/span&gt;)==&lt;span\n               class=\"hljs-number\"&gt;0&lt;/span&gt;)\n      c = colorbar;  \n      c.Label.String = &lt;span class=\"hljs-string\"&gt;'Amplitude (dB)'&lt;/span&gt;; \n   &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;\n\n   &lt;span class=\"hljs-comment\"&gt;%x axis only on bottom plots&lt;/span&gt;\n   &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; (&lt;span class=\"hljs-built_in\"&gt;i&lt;/span&gt;&gt;=&lt;span\n               class=\"hljs-number\"&gt;20&lt;/span&gt;)\n      xlabel(&lt;span class=\"hljs-string\"&gt;'Time (ms)'&lt;/span&gt;) \n   &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;\n\n   &lt;span class=\"hljs-comment\"&gt;%y axis only on left most plots&lt;/span&gt;\n   &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; (&lt;span class=\"hljs-built_in\"&gt;mod&lt;/span&gt;(&lt;span\n               class=\"hljs-built_in\"&gt;i&lt;/span&gt;&lt;span class=\"hljs-number\"&gt;-1&lt;/span&gt;,&lt;span\n               class=\"hljs-number\"&gt;5&lt;/span&gt;)==&lt;span class=\"hljs-number\"&gt;0&lt;/span&gt;)\n      ylabel(&lt;span class=\"hljs-string\"&gt;'Frequency (kHz)'&lt;/span&gt;) \n   &lt;span class=\"hljs-keyword\"&gt;end&lt;/span&gt;\n\nRight whale detections from a deep learning model imported and then plotted in MATLAB\n\n\nR\nIn the same way as MATLAB export, the PAMGuard time base display and export selected data units directly to an R struct which can be imported easily into R..\nR also has a well supported PAMGuard library with like for like functions compared to the MATLAB library. The PAMBinaries R library can be found here."
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#common-bugs-and-mistakes",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning.html#common-bugs-and-mistakes",
    "title": "PAMGuard’s Deep Learning Module",
    "section": "Common bugs and mistakes",
    "text": "Common bugs and mistakes\nYou should always have deep learning models in their own folder. Do not have any additional jar files or other programming related things (like .dll files) in the same or sub folders. This has been known to cause issues with loading models which we have not got to the bottom of yet.\nPytorch models must be saved using jit to be compatible with PAMGuard.\nTensorflow models must be saved as .pb files to be opened in PAMGuard."
  },
  {
    "objectID": "classifiers/matchedtemplate/mathchedtemplate.html",
    "href": "classifiers/matchedtemplate/mathchedtemplate.html",
    "title": "Matched Template Classifier",
    "section": "",
    "text": "The matched click classifier is an alternative to the in built click classifier in the click detection module which uses two click templates (target and reject) to classify individual clicks detections from the click detection module. The idea behind this classifier is to more accurately classify rarer clicks when there",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Matched Template Classifier ",
      "Matched Template Classifier"
    ]
  },
  {
    "objectID": "classifiers/matchedtemplate/mathchedtemplate.html#how-it-works",
    "href": "classifiers/matchedtemplate/mathchedtemplate.html#how-it-works",
    "title": "Matched Template Classifier",
    "section": "How it works",
    "text": "How it works\nThe classifier is based on a matched filter i.e. a candidate click detection is compared to a template and it’s maximum correlation value with the template is then used for classification. Each click is compared to both a match and a reject template. If the difference between the correlation match to the reject template exceeds a certain threshold, then the click is classified. There can be multiple combinations of match to reject templates allowing the matched classifier to deal with different types of clicks or even clicks from multiple species.",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Matched Template Classifier ",
      "Matched Template Classifier"
    ]
  },
  {
    "objectID": "classifiers/matchedtemplate/mathchedtemplate.html#configuring-the-matched-click-classifier",
    "href": "classifiers/matchedtemplate/mathchedtemplate.html#configuring-the-matched-click-classifier",
    "title": "Matched Template Classifier",
    "section": "Configuring the matched click classifier",
    "text": "Configuring the matched click classifier\nThe matched click classifier settings are accessed via Settings-&gt; Matched click classifier_. The settings are split into the three sections, general settings, click waveform and click templates.\n\nThe settings pane of the matched click classifier\n\nGeneral Settings\nThe general settings allow for channel options, species ID and the default colours for classified clicks to be to be set. _ Channel Options _allows users to define whether a single click from one channel, all clicks or an averaged click should be used to be used for classification in multi-channel situations. if there is only one channel then this makes no difference.\nClick Type sets the number that defines the species ID. Make sure this is not the same as any of the species IDs in the default click classifier (this is why the default is set so high).\nSymbol and Fill define the default colours clicks which have been classified by the matched click classifier should be plotted on displays.\n\n\nClick Waveform Settings\nBefore a click is classified it undergoes some pre-conditioning by the matched click classifier.\nRestrict parameter extraction to XX samples sets the maximum length of the waveform to the classifier. If this is selected, then center of the click is located and samples trimmed around the center. In some use cases, for example SoundTrap detections, which may be 10,000 samples long, setting a lower number of maximum samples can greatly increase processing speed and improve the accuracy of results. Note that if the number of samples is set too low (e.g. well below the click template length) then the correaltion values will not make much sense.\nPeak threshold and Smoothing are both parameters used to find the click center so that a click can be trimmed to the maximum number of samples. The click length is measured by calculating the waveform envelope using a Hilbert Transform. The envelope is smoothed using a moving average filter (the Smoothing parameter defines the size of the averaging window). The click is trimmed as follows. First the peak of the waveform envelope is found. The length of the click is defined as the point at which the click falls Peak threshold dB below the peak. The center of the click is then the middle of this snippet. The click is then trimmed from the center of the click.\nAmplitude normalisation If there is a very loud click compared to a template it’s correlation score will be different to that of a very quiet click of with exactly the same waveform. It is therefore a good idea to normalise the waveform before it is compared the match click classifier. The types of normalisation are\n\nnorm - this is the default - the click is divided by it’s RMS amplitude.\npeak to peak this can be useful for some types of shorter click e.g. dolphins - the click is divided by it’s peak to peak amplitude.\nnone no normalisation (not recommended).\n\n\n\nTemplate settings\nThe matched click classifier has two templates, a match and a reject. The match template should match a stereotypical click of the target species and the reject template can either be a click from a confounding species (e.g. dolphin) or blank. Selecting the drop-down menu from the Import button allows for a selection of some default templates. Custom templates can be imported by selecting the Import button. Custom templates can either be a .csv. or .mat file using the following format.\n.csv - the first row are the waveform measurements from -1 to 1 (make sure you save with a sufficient number of decimal points). The second row and first column is the sample rate in sample per second.\n.mat - a .mat file that contains two variables named sR and waveform. sR is the sample rate in samples per second and waveform is a 1D array containing the waveform for the template form -1 to 1. Arrays of click structures imported using the PAMGuard to MATLAB library can also be used. The first channel of the first click in a list of clicks structures will be imported as the template. The click structure should be names clicks and the sample rate should be saved as a seperate variable named sR in sampes per second.\nThe match and reject templates are plotted to provide a user with some visualisation of the classifier settings - the drop down menu allows the user to select different ways to plot the templates and is purely for visualisation purposes so makes no difference to classifier settings.\nthreshold is the threshold at which a click is classified. If the difference between the match and reject templates is above the threshold value then the click is classified.\nThe + button can be used to add more tabs. Each tab contains a click/reject template pair and unique threshold setting. A click is classified if at least one of the match/reject templates passes it’s set threshold.",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Matched Template Classifier ",
      "Matched Template Classifier"
    ]
  },
  {
    "objectID": "classifiers/matchedtemplate/mathchedtemplate.html#visualising-results",
    "href": "classifiers/matchedtemplate/mathchedtemplate.html#visualising-results",
    "title": "Matched Template Classifier",
    "section": "Visualising Results",
    "text": "Visualising Results\nThe matched click classifier changes the species type flag of a click if at least one of the classifiers passes threshold. This means clicks can be visualised in the click bearing time display or the time base display. The classifier also saves the correlation values for each match/reject template pair which can be accessed in MATLAB/R or through the PAMGuard GUI.\n\nClick bearing time display\nMatched clicks can be viewed in the bearing time display. If a click passes the threshold of one match/reject pair then the click symbol (defined in general settings) is shown in the bearing time display if Colour by Matched Template Classifier is selected in the right click menu. The correlation values are shown by hovering the mouse over a click to bring up the info tool tip.\n\nScreenshot of clicks classified from the matched click classifier showing matched clicks (coloured pink)\n\n\nTime base display\nThe time base display FX can show clicks classified by the matched clicks classifier. Colour by Matched Template Classifier must be selecting in the right settings window.\n\nScreenshot of Time Base display FX showing clicks classified by the match click classifier (coloured pink). The correlation values can be found in the meta data section of the detection pop up menu (highlighted)\nNote that the time base display allows users to export clicks to be used as templates. Using the advanced pop up menu right click on a click detection and select the MATLAB icon. A .mat file of the selected click or clicks will be saved to your root user folder in a folder called PAMGuard Manual Export. This .mat file can be opened by the matched click classifier - the first channel of the first click in the list will be imported as a template.\n\n\n\nExtracting correlation values using MATLAB/R\nClicks are loaded from binary files using the MATLAB/R function\n&lt;span class=\"hljs-attribute\"&gt;clicks&lt;/span&gt;  = loadPAMGuardBinaryFile(&lt;span class=\"hljs-string\"&gt;\"/path/to/PAMGuardfile.pgdf\"&lt;/span&gt;)&lt;span class=\"hljs-comment\"&gt;;&lt;/span&gt;\nwhere clicks is a list of MATLAB/R structures containing the data for each click in the file.\nThe matched click classifier template threshold, match value and reject value are then accessed from each click using\n&lt;span class=\"hljs-attr\"&gt;matchedtemplatevals&lt;/span&gt; = clicks(&lt;span class=\"hljs-number\"&gt;1&lt;/span&gt;).annotations. mclassification\nmatachedtemplatevals is a list of where each row is the threshold value, match value and reject value for each match/reject template pair.",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Matched Template Classifier ",
      "Matched Template Classifier"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_Bugs.html",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_Bugs.html",
    "title": "Common Mistakes and Bugs",
    "section": "",
    "text": "The first time you use the module and/or load a different type of model e.g. a tensorflow or pytorch model, you must be connected to the internet.\nYou must install the correct version of CUDA for hardware acceleration using an Nvidea GPU. See the currently supported CUDA versions on the Pytorch and Tensorflow websites.\nYou should always have deep learning models in their own folder. Do not have any additional jar files or other programming related things (like .dll files) in the same or sub folders. This has been known to cause issues with loading models which we have not got to the bottom of yet.\nPytorch models must be saved using jit to be compatible with PAMGuard.\nTensorflow models must be saved as .pb files to be opened in PAMGuard.\nPrevious: Viewing and Exporting Results",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Common Mistakes and Bugs"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_overview.html",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_overview.html",
    "title": "Overview",
    "section": "",
    "text": "Note: this module requires an internet connection upon first use to download correct libraries.",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Overview"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_overview.html#overview",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_overview.html#overview",
    "title": "Overview",
    "section": "Overview",
    "text": "Overview\nPAMGuard’s deep learning module allows users to deploy a large variety of deep learning models natively in PAMGuard. It is core module, fully integrated into PAMGuard’s display and data management system and can be used in real time or for post processing data. It can therefore be used as a classifier for almost any acoustic signal and can integrate into multiple types of acoustic analysis workflows, for example post analysis of recorder data or used as part of real time localisation workflow.",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Overview"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_overview.html#how-it-works",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_overview.html#how-it-works",
    "title": "Overview",
    "section": "How it works",
    "text": "How it works\nThe deep learning module accepts raw data from different types of data sources, e.g. from the Sound Acquisition module, clicks and clips. It segments data into equal sized chunks with a specified overlap. Each chunk is passed through a set of transforms which convert the data into a format which is accepted by the specified deep learning model. These transforms are either manually set up by the user or, if a specific type of framework has been used to train a deep learning model, then can be automatically set up by PAMGuard. Currently there are three implemented frameworks\n\nA diagram of how the deep learning module works in PAMGuard. An input waveform is segmented into chunks. A series of transforms are applied to each chunk creating the input for the deep learning model. The transformed chunks are sent to the model. The results from the model are saved and can be viewed in real time (e.g. mitigation) or in post processing (e.g. data from SoundTraps).\n\nGeneric Model\nA generic model allows a user to load any model compatible with the djl (PyTorch (JIT), Tenserflow, ONXX) library and then manually set up a series of transforms using PAMGuard’s transform library. It is recommended that users use an existing framework instead of a generic model as these models will automatically generate the required transforms.\n\n\nAnimalSpot\nANIMAL-SPOT is a deep learning based framework which was initially designed for killer whale sound detection in noise heavy underwater recordings (see Bergler et al. (2019)). It has now been expanded to a be species independent framework for training acoustic deep learning models using PyTorch and Python. Imported AnimalSpot models will automatically set up their own data transforms and output classes.\n\n\nKetos\nKetos is an acoustic deep learning framework based on Tensorflow and developed by MERIDIAN. It has excellent resources and tutorials and Python libraries can be installed easily via pip. Imported Ketos (.ktpb) models will automatically set up their own data transforms and output classes.\n\n\nKoogu\nKoogu is a Python package which allows users to train a deep learning model. Koogu helps users by integrating with some frequency used annotation programs and provides tools to train and test classifiers. Imported Koogu models (.kgu) will automatically set up their own data transforms and output classes.\n\n\nPAMGuardZip\nPAMGuard zip models consist of a deep learning model (either a Tensorflow saved_model.pb or PyTorch *.py model) alongside a PAMGuard metdata file (.pdtf*) within a zip archive. The metadata file contains all the information needed for PAMGaurd to set up the model. PAMGuard will import the zip file, decompress it and search for the relevent deep learning model and metadata file then set up all settings accordingly. This framework allows users to easily share pre-tested PAMGuard compatible models.\nNext: Creating and Configuring the Deep Learning module",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Overview"
    ]
  },
  {
    "objectID": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_Running.html",
    "href": "classifiers/rawDeepLearningHelp/docs/rawDeepLearning_Running.html",
    "title": "Running",
    "section": "",
    "text": "In real time, the deep learning model runs automatically when processing starts. A warning will appear if there are issues with the model and/or it cannot cope with real time speeds.\n\nViewer Mode\nThe deep learning module can be re-run on detector data (e.g. click or clip detections) in PAMGuard viewer mode. Detections can be reclassified by selecting the Settings &gt; Raw Deep Learning Classifier &gt; Reclassify detections. Select the data range in the reprocessing dialog e.g. Loaded Data and select Start. Detections without a deep learning annotation will have one added and detections with an existing annotation will have it overwritten.\nPrevious: Creating and Configuring the Deep Learning module\nNext: Viewing and Exporting Results",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Deep Learning Module ",
      "Running"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_ContourExtractionManipulation.html",
    "href": "classifiers/roccaHelp/docs/rocca_ContourExtractionManipulation.html",
    "title": "Contour Extraction",
    "section": "",
    "text": "The whistle contour is automatically extracted from the spectrogram by stepping through the spectra one time slice at a time and measuring the peak frequency for each slice within a specific frequency bin. The upper and lower limits of the search bin are defined by the peak frequency of the previous time slice +/- the noise sensitivity (as defined in the Rocca Parameters window). The frequency bin of the first time slice is determined by the user-selected start frequency +/- the noise sensitivity.\n\nAdjusting the Noise Sensitivity\nIf the contour does not match the underlying whistle, the first step should be to adjust the noise sensitivity.\n\nDecreasing the sensitivity narrows the frequency band used when searching for the peak frequency in the next time slice. A smaller band means the extraction algorithm is less likely to jump from the whistle contour to a nearby noisy peak. However, a smaller band also means that if the algorithm does jump to a nearby noisy peak, there is less chance it will be able to jump back to the whistle contour.\nIncreasing the sensitivity widens the frequency band used when searching for the peak frequency in the next time slice. A wider band increases the chances that an extraction gone off-track and following noise will be able to jump back to the whistle contour. However, a wider band also increases the chances of going off-track in the first place.\n\n\n\n\n\n\n\n\n\nA button is provided in the top toolbar to quickly adjust noise sensitivity. The spectrogram will automatically update with the recalculated contour each time the sensitivity is changed.\n\n\n\n\n\n\n\nAdjusting the highpass/lowpass filters\nThe highpass and lowpass filters limit the contour extraction algorithm to only function within a specific frequency band. The highpass filter defines the lower bound, and the lowpass filter defines the upper bound. Specify a filter by typing in the desired frequency and hitting , or hitting the  button and clicking on the desired frequency in the spectrogram. The filter is displayed on the spectrogram as a red horizontal line. If the extraction algorithm finds a peak frequency lower than the highpass filter specified, the peak frequency will be set to the value of the highpass filter. Similarly, if the extraction algorithm finds a peak frequency higher than the lowpass filter specified, the peak frequency will be set to the value of the lowpass filter.\nThe filters can be reset by clicking the  button.\n\n\nAdjusting the contour points manually\n\n\n\n\n\n\n\n\nIndividual contour points can be dragged manually to new positions. In order to view the points, move the mouse over the spectrogram and press the left mouse button. Try to move the mouse to a position away from the current whistle contour, to avoid accidentally dragging a contour point. Contour points will be displayed as light green dots.\n\n\n\n\n\nContour points can only be dragged vertically. That is, the frequency can be changed but not the time slice. Once the contour point to be moved is determined, position the mouse over top of the point and press and hold the mouse button. The contour points will again be displayed as light green dots, but the point closest to the cursor will have a red circle. Move the mouse up or down to the desired frequency, and release the mouse button.\n\n\n\nOnce a contour point has been moved, it will be locked in the new position even if the contour is recalculated by adjusting the noise sensitivity, modifying filters or clicking the  button. In this way, if the contour extraction algorithm has followed noise instead of the desired whistle, the user can move a point to the correct position and get the extraction back on track. The contour point can still be moved manually, and clicking the  button will unlock all locked points.\nPrevious: Spectrogram Popup Window\nNext: Whistle and Encounter Classification",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "Contour Extraction"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_SavedFiles.html",
    "href": "classifiers/roccaHelp/docs/rocca_SavedFiles.html",
    "title": "File Output",
    "section": "",
    "text": "ROCCA saves three different files during manual whistle contour extraction and classification: whistle wav file clip, contour points and contour variable measurements. During automated click or whistle analysis, ROCCA only saves the measured variables to the contour variables file. ROCCA will also saves school stats automatically every five minutes, as well as when the  button is clicked.\nIf a database module is being used, ROCCA will also save the data to two tables: Rocca_Whistle_Stats and Rocca_Encounter_Stats.\n\nWhistle Clip\nThe whistle clip is saved with a wav format to the output directory. The start and end points of the clip are defined by the start and end points originally selected by the user in the spectrogram popup. The channels saved to the clip file are specified in the ROCCA Parameters window.\nThe filename is defined by the user in the ROCCA Parameters window\n\n\nContour Points\nThe time/frequency pair for each contour point in the extracted whistle contour is saved in CSV format in the output directory. The duty cycle, the energy in a frequency bin around the peak frequency (as defined in the ROCCA Parameters window), and the RMS value of the amplitude are also saved.\nThe filename is defined by the user in the ROCCA Parameters window\n\n\nContour Variables\nThe variables measured from the current whistle contour/click, as well as the species classification (if a whistle), are saved in CSV format in the output directory. The information from each whistle/click is appended to the end of the file and the file is never overwritten. Thus, this file will continue to collect classification information every time PAMGuard/ROCCA is run.\nOther saved information for each whistle includes the sound source, the analysis date and time, the encounter number, and any notes included in the ROCCA Parameters Notes tab. The end of each row lists the name of the random forest model, the random forest tree votes for each species and a list of the species included in the classifier. The species names were added to each row instead of the header line because the header would be created based on information from the very first whistle contour analyzed only. If the classification model is changed for subsequent analysis, the species list may be different and no longer match the header. By including the species list in the row, the user is always able to verify which species were included in the classification algorithm for that particular whistle contour or click.\nThe filename is specified in the ROCCA Parameters window.\nIf a database module is being used, the data will also be saved to the Rocca_Whistle_Stats table.\n\n\nEncounter Stats\nAll encounter numbers, with the species classification break-down for each, are saved as a CSV file in the output directory. Also included for each encounter number is the overall encounter duration, the duration of the whistles only, the duration of the clicks only, the number of whistles/clicks, the minimum/maximum/average time between whistles/clicks, the number of whistles/clicks per second, the whistle/click density (the sum of the individual durations / encounter length), the whistle/clicks overlap (the total number of seconds that two whistles/clicks overlap), the cumulative random forest tree vote totals for each species, as well as a species list and the overall encounter classification (based on the species with the highest cumulative tree vote total).\nEach time the encounter stats file is saved, either through the auto-save function or by the user pressing the  button, the file is overwritten in order to update any renamed encounter numbers. Since an encounter number can be renamed but never deleted, no information will be lost when overwriting an old file during a single PAMGuard session. HOWEVER, if PAMGuard is closed and restarted the file will be overwritten with blank data and all prior information will be lost. The file is checked during PAMGuard startup, and if it exists the user is given the opportunity to rename it before it is lost, and/or load the existing data back into the system.\nNote that when examining a particular encounter number, the user should refer to the species list at the end of the row instead of the species listed in the header. The header information is taken from the first encounter number listed; if subsequent encounter numbers use a different classification model, the species may change and this change would not be reflected in the header.\nThe filename is specified in the ROCCA Parameters window.\nIf a database module is being used, the data will also be saved to the Rocca_Encounter_Stats table.\nPrevious: ROCCA Sidebar",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "File Output"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_Sidebar.html",
    "href": "classifiers/roccaHelp/docs/rocca_Sidebar.html",
    "title": "Sidebar Controls",
    "section": "",
    "text": "ROCCA assembles the results of individual whistle classifications into groups as defined by the user. Each group must be given a name, the Encounter Number. In addition to classifying individual whistle, ROCCA will also classify the Encounter Number to species. This is known as the Encounter Classification and is determined by either using the encounter classifier model (if loaded), or summing the percentage of tree votes for each species over all of the whistles/clicks in that Encounter Number and selecting the species with the highest total.\n\n\n\nRocca sidebar\n\n\n\nEncounter number: the current encounter number. This is the encounter number used when a whistle is selected from the spectrogram display.\nScroll buttons: scroll through the list of encounter numbers.\nClassification results: the individual classification tally for the current encounter number. The list of possible species is based on the classifier model currently loaded. The number beside the species name indicates the number of whistles/clicks that have been classified as that species.\nEncounter classification: the overall species classification for the current encounter number.\nEncounter ID: text box allowing user to add notes to contour output file. This text box is identical to the box found in the ROCCA parameters configuration window.\nKnown Species: text box allowing user to add notes to contour output file. This text box is identical to the box found in the ROCCA parameters configuration window.\nRename Encounter: allows the user to rename the current encounter. Any output files previously saved that use the old encounter number in the filename will be renamed with the new encounter number. Note that the information in the whistle contour stats save file is NOT updated - the user must modify any references to the old encounter number manually. Also note that the user will not be allowed to duplicate encounter numbers\nClassify Encounter: classifies the encounter one of two ways. If an Encounter Classifier model has been loaded and both whistle and click encounter stats have been calculated, a random forest classifier is used to classify the encounter based on the output of the whistle and click classifiers. If an Encounter Classifier model has not been loaded, or if either the whistle or click encounter stats are not being calculated, the encounter is classified as the species with the highest cumulative percentage of votes.\nSave Encounter: overwrites the current Encounter Stats file (as defined in the ROCCA Parameters window) with the current list of encounters and statistics. Encounter statistics are also automatically saved every 5 minutes.\nNew Encounter: create a new encounter number\nWhistle Start: lists the time and frequency of the first user-selected point on the spectrogram\nWhistle End: lists the time and frequency of the second user-selected point on the spectrogram. Note that once the second point is selected, the portion of the spectrogram is captured in a new popup window.\n\nPrevious: Whistle and School Classification\nNext: Saved Files",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "Sidebar Controls"
    ]
  },
  {
    "objectID": "classifiers/roccaHelp/docs/rocca_WhistleSchoolClassification.html",
    "href": "classifiers/roccaHelp/docs/rocca_WhistleSchoolClassification.html",
    "title": "Measurements and Classification",
    "section": "",
    "text": "Classification technique\nROCCA classifies whistles, clicks and encounters using Random Forest classifiers. ROCCA currently uses a Random Forest classifier model based on the open-source statistical software package Weka. For more information on Random Forests and the WEKA package, the user is encouraged to refer to the book Data Mining: Practical Machine Learning Tools and Techniques\n\n\nWhistle Contour Measurement and Classification\nTable 1 lists the 50 variables measured from each whistle contour.\n\n\n\n\n\n\n\n\n\nVariable Code\nVariable Name\nUnits\nExplanation\n\n\n\n\nFREQBEGSWEEP\nBeginning Sweep\nCategorical variable\nSlope of the beginning sweep (1=positive -1=negative, 0=zero)\n\n\nFREQBEGUP\nPositive beginning sweep\nBinary variable\n1=beginning slope is positive, 0=beginning slope is negative\n\n\nFREQBEGDWN\nNegative beginning sweep\nBinary variable\n1=beginning slope is negative, 0=beginning slope is positive\n\n\nFREQENDSWEEP\nEnding sweep\nCategorical variable\nSlope of the beginning sweep (1=positive -1=negative, 0=zero)\n\n\nFREQENDUP\nPositive ending sweep\nBinary variable\n1=ending slope is positive, 0=ending slope is negative\n\n\nFREQENDDWN\nNegative ending sweep\nBinary variable\n1=ending slope is negative, 0=ending slope is positive\n\n\nFREQBEG\nBeginning frequency\nHz\nBeginning frequency\n\n\nFREQEND\nEnding frequency\nHz\nEnding frequency\n\n\nFREQMIN\nMinimum frequency\nHz\nMinimu frequency\n\n\nDURATION\nDuration\nSeconds\nDuration of the whistle\n\n\nFREQRANGE\nFrequency range\nHz\nMaximum frequency - minimum frequency\n\n\nFREQMAX\nMaximum frequency\nHz\nMaximum frequency\n\n\nFREQMEAN\nMean frequency\nHz\nMean frequency\n\n\nFREQMEDIAN\nMedian frequency\nHz\nMedian frequency\n\n\nFREQSTDDEV\nStandard deviation of the frequency\nHz\nStandard deviation of the frequency\n\n\nFREQSPREAD\nFrequency spread\nHz\nDifference between the 75th and the 25th percentile of the frequency\n\n\nFREQQUARTER1\nFirst quarter frequency\nHz\nFrequency at one-quarter of the duration\n\n\nFREQQUARTER2\nHalf frequency\nHz\nFrequency at one-half of the duration\n\n\nFREQQUARTER3\nThird quarter frequency\nHz\nFrequency at three-quarters of the duration\n\n\nFREQCENTER\nCenter frequency\nHz\n(minimum frequency + (maximum frequency - minimum frequency)) / 2\n\n\nFREQRELBW\nRelative bandwidth\nHz\n(maximum frequency - minimum frequency)/center frequency\n\n\nFREQMAXMINRATIO\nMaximum-minimum ratio\nNone\nMaximum frequency / minimum frequency\n\n\nFREQBEGENDRATIO\nBeginning-ending ratio\nNone\nBeginning frequency / end frequency\n\n\nFREQCOFM\nCoefficient of frequency modulation\nNone\nTake 20 frequency measurements equally spaced in time, then subtract each frequency value from the one before it. COFM is the sum of the absolute values of these differences, all divided by 10,000\n\n\nFREQNUMSTEPS\nNumber of steps\nNone\n10 percent or greater increase or decrease in frequency over two contour points\n\n\nNUMINFLECTIONS\nNumber of inflection points\nNone\nChanges from positive to negative or negative to positive slope\n\n\nINFLMAXDELTA\nMaximum delta\nSeconds\nMaximum time between inflection points\n\n\nINFLMINDELTA\nMinimum delta\nSeconds\nMinimum time between inflection points\n\n\nINFLMAXMINDELTA\nMaximum-minimum delta ratio\nNone\nMaximum delta / minimum delta\n\n\nINFLMEANDELTA\nMean delta\nSeconds\nMean time between inflection points\n\n\nINFLSTDDEVDELTA\nStandard deviation delta\nSeconds\nStandard deviation of the time between inflection points\n\n\nINFLMEDIANDELTA\nMedian delta\nSeconds\nMedian of the time between inflection points\n\n\nFREQSLOPEMEAN\nMean slope\nHz/second\nOverall mean slope\n\n\nFREQPOSSLOPEMEAN\nPositive slope\nHz/second\nMean positive slope\n\n\nFREQNEGSLOPEMEAN\nNegative slope\nHz/second\nMean negative slope\n\n\nFREQABSSLOPEMEAN\nAbsolute slope\nHz/second\nMean absolute value of the slope\n\n\nFRQESLOPERATIO\nPositive-negative slope ratio\nNone\nMean positive slope / mean negative slope\n\n\nFREQSWEEPUPPERCENT\nPercent positive\nNone\nPercent of the whistle that has a positive slope\n\n\nFREQSWEEPDWNPERCENT\nPercent negative\nNone\nPercent of the whistle that has a negative slope\n\n\nFREQSWEEPFLATPERCENT\nPercent flat\nNone\nPercent of the whistle that has a zero slope\n\n\nNUMSWEEPSUPDWN\nPositive-negative slope\nNone\nNumber of inflection points that change from positive slope to negative slope\n\n\nNUMSWEEPSDWNUP\nNegative-positive slope\nNone\nNumber of inflection points that change from negative slope to positive slope\n\n\nNUMSWEEPSUPFLAT\nPositive-flat slope\nNone\nNumber of times the slope changes from positive to zero\n\n\nNUMSWEEPSDWNFLAT\nNegative-flat slope\nNone\nNumber of times the slope changes from negative to zero\n\n\nNUMSWEEPSFLATDWN\nFlat-negative slope\nNone\nNumber of times the slope changes from zero to negative\n\n\nNUMSWEEPSFLATUP\nFlat-positive slope\nNone\nNumber of times the slope changes from zero to positive\n\n\nFREQSTEPUP\nSteps up\nNone\nNumber of steps that have increasing frequency\n\n\nFREQSTEPDOWN\nSteps down\nNone\nNumber of steps that have decreasing frequency\n\n\nINFLDUR\nInflection points / duration\nNone\nNumber of inflection points / duration\n\n\nSTEPDUR\nSteps/duration\nNone\nNumber of steps / duration\n\n\n\nTo classify a whistle, the vector of variables measured from that whistle is analysed with the random forest model, which contains hundreds of classification trees. Each tree in the forest classifies the whistle and final classification is based on the species that the greatest percentage of trees voted for. If the greatest percentage of tree votes falls below the whistle threshold (as specified in the ROCCA Parameters window) , the whistle is classified as Ambiguous.\n\n\nClick Classification\nTable 2 lists the 17 variables measured from each click.\n\n\n\n\n\n\n\n\n\nVariable Code\nVariable Name\nUnits\nExplanation\n\n\n\n\nDURATION\nDuration\nSeconds\nDuration of the click\n\n\nFREQPEAK\nPeak frequency\nHz\nfrequency with the highest amplitude\n\n\nBW3DBLOW\n-3dB bandwidth lower limit\nHz\nFirst frequency lower than the peak frequency at which the amplitude has dropped by 3dB\n\n\nBW3DBHIGH\n-3dB bandwidth upper limit\nHz\nFirst frequency higher than the peak frequency at which the amplitude has dropped by 3dB\n\n\nBW3DB\n-3dB bandwidth\nHz\nBW3DBHIGH - BW3DBLOW\n\n\nBW10DBLOW\n-10dB bandwidth lower limit\nHz\nFirst frequency lower than the peak frequency at which the amplitude has dropped by 10dB\n\n\nBW10DBHIGH\n-10dB bandwidth upper limit\nHz\nFirst frequency higher than the peak frequency at which the amplitude has dropped by 10dB\n\n\nBW10DB\n-10dB bandwidth\nHz\nBW10DBHIGH - BW10DBLOW\n\n\nRMSSIGNAL\nSignal RMS\ndB\nRoot-mean-square of the click amplitude\n\n\nRMSNOISE\nNoise RMS\ndB\nRoot-mean-square of the noise amplitude\n\n\nSNR\nSignal-to-noise ratio\ndB\nRMSSIGNAL - RMSNOISE\n\n\nNCROSSINGS\nNumber of zero crossings\nNone\nNumber of times the waveform crosses zero\n\n\nSWEEPRATE\nSweep rate\nkHz/ms\nsweep rate of the zero crossings\n\n\nMEANTIMEZC*\nZero crossing mean time\nms\nmean time between zero crossings\n\n\nMEDIANTIMEZC*\nZero crossing median time\nms\nmedian time between zero crossings\n\n\nVARIANCETIMEZC\nZero crossing variance\nms2\nvariance of the time between zero crossings\n\n\nICI\nInter-click Interval\nseconds\nTime from the end of one click to the start of the next click\n\n\n\n*Mean and median zero crossing times are not used in the current classifier, but still calculated by the Rocca algorithms. Rocca will ignore these variables during classification.\nTo classify a click, the vector of variables measured from that click is analysed with the random forest model, which contains hundreds of classification trees. Each tree in the forest classifies the click and final classification is based on the species that the greatest percentage of trees voted for. If the greatest percentage of tree votes falls below the click threshold (as specified in the ROCCA Parameters window) , the click is classified as Ambiguous.\n\n\nSchool Classification\nTable 3 lists the 17 variables calculated based on whistle and click detections for each encounter (if specified by the user in the ROCCA parameters window):\n\n\n\n\n\n\n\n\n\nVariable Code\nVariable Name\nUnits\nExplanation\n\n\n\n\nEncounter_Duration_s\nEncounter duration\nSeconds\nDuration from the start of the first whistle/click to the end of the last whistle/click\n\n\nNumber_of_whistles\nNumber of whistles\nNone\nNumber of whistles\n\n\nWhistle_Duration_s\nWhistle duration\nSeconds\nDuration from the start of the first whistle to the end of the last whistle\n\n\nMin_Time_Between_Whistle_Detections_s\nMinimum time between whistles\nSeconds\nMinimum time between whistles\n\n\nMax_Time_Between_Whistle_Detections_s\nMaximum time between whistles\nSeconds\nMaximum time between whistles\n\n\nAve_Time_Between_Whistle_Detections_s\nAverage time between whistles\nSeconds\nAverage time between whistles\n\n\nWhistle_Detections_per_Second\nWhistles per second\nCounts/s\nThe number of whistles / whistle duration\n\n\nWhistle_Density\nWhistle density\nNone\nSum of the whistle durations / the encounter duration\n\n\nAve_Whistle_Overlap\nAverage whistle overlap\nNone\nTotal duration during which whistles overlap / encounter duration\n\n\nNumber_of_Clicks\nNumber of clicks\nNone\nNumber of clicks\n\n\nClick_Duration_s\nClick duration\nSeconds\nDuration from start of first click to end of last click\n\n\nMin_Time_Between_Click_Detections\nMinimum time between clicks\nSeconds\nMinimum time between clicks\n\n\nMax_Time_Between_Click_Detections\nMaximum time between clicks\nSeconds\nMaximum time between clicks\n\n\nAve_Time_Between_Click_Detections\nAverage time between clicks\nSeconds\nAverage time between clicks\n\n\nClick_Detections_per_Second\nClicks per second\nCounts/s\nSum of the click durations / encounter duration\n\n\nAve_Click_Overlap\nAverage click overlap\nNone\nTotal duration during which clicks overlap / encounter duration\n\n\nLat*\nLatitude\nDeg\nLatitude\n\n\nLong*\nLongitude\nDeg\nLongitude\n\n\n\n*Latitude and Longitude are not measured from the whistle and click data, but taken from the GPS source as specified in the Rocca Parameters Window Source tab.\nEach encounter number holds a list of possible species based on the whistle/click classifier models used. There are two values stored for each species: the number of times a whistle/click has been classified to that species (displayed), and a cumulative total of all the percentage tree votes for the species (not displayed). When a new whistle/click classification is saved to an encounter number, the count of the classified species is increased by one and the percentage tree votes for each species are added to the corresponding cumulative totals.\nThe encounter is classified in one of two ways:\n\nIf an encounter classifier has been loaded, the vector of encounter parameters and the random forest probabilities from the whistle and click classifiers are analysed with the encounter random forest and the encounter is classified as the species with the highest percentage of tree votes.\n2. If no encounter classifier has been selected by the user, the encounter is classified as the species with the highest cumulative percentage of tree votes. Note that this may be different than the species most often classified - the value shown in the sidebar species list. If the highest cumulative percentage of tree votes falls below the school threshold (as specified in the ROCCA Parameters window), the detection is classified as Ambiguous.\n\nPrevious: Contour Extraction / Manipulation\nNext: ROCCA Sidebar",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "ROCCA ",
      "Measurements and Classification"
    ]
  },
  {
    "objectID": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Configure.html",
    "href": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Configure.html",
    "title": "Configuration",
    "section": "",
    "text": "The Detection / Whistle Classifier menu has two sub menus: Settings… and Discriminant Function Training…\n\nSettings Menu\nFrom the settings menu a dialog will appear, the top half of which will contain a drop down list of data sources and buttons to select the operation mode.\n\n\nData Source\nSelect the data source. This should be the connected regions output from a Whistle and Moan detector.\n\n\nOperation Mode\nSelect either Run Classifier, in which case new detections from the Whistle and Moan detector will be fragmented and the fragments sent for classification, or Collect Training Data in which case the contours of detected whistles will be stored for Discriminant Function Training\nPrevious: Whistle Classifier Overview\nNext: Collecting Training Data",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Whistle Classifier ",
      "Configuration"
    ]
  },
  {
    "objectID": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Overview.html",
    "href": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "The Whistle Classifier takes detected whistles from the Whistle and Moan detector and attempts to classify them to species.\nThe Whistle classifier does not attempt to classify individual detected whistles. Instead it collects information on many whistles and statistically analyses them as a group to determine species.\nThe classifier must be trained with a sample of whistles from each species. While some standard training sets are available through the PAMGuard web site, it is highly likely that whistles of a given species will vary between regions and sub species and may also evolve over time. The Whistle Classifier therefore allows you to train it using your own samples of whistles from known species.\nThe workings of the classifier are described in the paper Douglas Gillespie, Marjolaine Caillat, Jonathan Gordon, Paul White; Automatic detection and classification of odontocete whistles. J. Acoust. Soc. Am. 1 September 2013; 134 (3): 2427?2437. DOI 10.1121/1.4816555\nTrained classifier models from the paper, which can be imported into your own PAMGuard configuration are available at www.pamguard.org/whistleclassifier.html.\n\nCreating a Whistle Classifier\nFrom the File&gt;Add modules&gt;Detectors menu, or from the pop-up menu on the data model display, select “Whistle Classifier”. Enter a descriptive name for the new detector and press OK.\n\n\nGeneral Principle of Operation\nA major problem in the detection of whistles is that of overlapping whistles, or whistles which have been broken into parts during the detection process.\n\nThe two spectrograms in the picture show the same spectrogram data. The lower panel is overlaid with the output of the Whistle and Moan detector. Clearly some of the quieter whistles have been missed altogether, while others have been broken into multiple parts.\nThe breaking up of whistles into parts can be very dependent on the local noise conditions and would not therefore be consistent between encounters with a given species. A classifier requiring complete whistles would therefore be expected to perform very poorly.\nThe PAMGuard Whistle Classifier therefore works by taking short fragments of whistles and accumulates statistics over many fragments. Since the level of “natural” fragmentation due to noise will vary, all detected whistles are first broken into fragments of the same length prior to classification. While fragmenting whistles in this way is discarding potentially useful information, it creates an overall improvement in classifier stability\nFor each whistle fragment, three parameters are measured:\n\nThe start frequency\nThe slope\nThe curvature\n\nDistributions of these three parameters are built up over time, then once sufficient fragments have been accumulated, the mean, the standard deviation and the skew (lopsidedness) of each distribution is measured, giving a total of nine parameters which are used by the statistical classifier, i.e.\n\nThe mean start frequency\nThe standard deviation of the distribution of start frequencies\nThe skew of the mean frequency distribution\nThe mean slope\netc. …\n\n\nReferences\nGillespie, D., Caillat, M., Gordon, J., and White, P. (2013). “Automatic detection and classification of odontocete whistles,” The Journal of the Acoustical Society of America, 134, 2427-2437.\nNext: Configuring the Whistle Classifier",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Whistle Classifier ",
      "Overview"
    ]
  },
  {
    "objectID": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Training.html",
    "href": "classifiers/whistleClassifierHelp/docs/whistleClassifier_Training.html",
    "title": "Training the classifier",
    "section": "",
    "text": "Discriminant Function Training is controlled from the Detection / Whistle Classifier / Discriminant Function Training … menu.\n\n\nTraining Data\nBefore running the training algorithms, you must process raw audio files for each species to create a training data set as described in the Collecting Training Data section. Training data will be in the form of a number of .wctd files containing extracted whistle contours from the Whistle and Moan detector\nSelect the file folder containing your .wctd files. The files can all be in the same folder or can be split into sub folders, in which case you should check the “Select Sub folders” option.\nLimit Frequency Search Range - The frequency range to use. Contours outside this range will be discarded.\nThis is useful if there is low or high frequency noise in the system which you wish to exclude from the training process.\nYou can also require the classifier to only use whistle contours over a certain number of FFT bins long. Again, this can be useful if there are short bits of noise in the training data sample.\n\nspecies names\nWhen the wctd files were created, the species name (either input by the user of taken from the folder name of the source audio file) was written into each file. Species names from the .wctd files are used by default during the classifier training. However, it is possible to override the species names in the .wctd files by organising you .wctd files into sub folders with different names and selecting the “Use folder names as species names” option.\nThis allows you to merge data sets which may have been given slightly different names by different analyst (for instance, different people may have labelled training data for Bottlenose dolphin as “BND”, “Bottlenose”, “TT”, “Tursiops”, etc. It also allows you to merge species into groups, for instance, you might have a new “Small dolphin” category containing data for both common and striped dolphin.\n\n\n\nRun Training\nTo run the training, set the following parameters:\nClassifier Type - Two discriminant functions are available, Linear Discriminant Analysis and a Mahalanobis Distances Classifier.\nFragment Length - How long the fragments of whistle fed into the classifier should be.\nSection length - how many fragments to accumulate before extracting parameters from the distribution and running a classification.\nMinimum probability threshold - sets a minimum probability threshold for classification. If the classifier probability for the best class falls below this threshold, then the whistle section is marked as unclassified.\nNumber of test bootstraps - The number of randomised trials to run when testing classifier performance\nBatch Testing of Multiple Values - This button will open an additional dialog which allows you to enter a range of values for the fragment length, section length and probability threshold. The bootstrap is then carried out for each set of parameters and the output dumped to a text file. Examination of the text file help to decide on the optimum values for these parameters.\nPress the “Start Training” button and wait while the classifier training process runs.\nProgress will be indicated in the bar at the bottom of the window and also as text output in the right hand display panel.\n\n\nTraining Output\nThe training process produces a number of matrices which will control the classification process. These are automatically stored into the standard PAMGuard settings file you are currently using.\nYou can also export the classifier settings to a Whistle Classifier Settings (*.wcsd) file for archiving and easy sharing with other users so that they can set up the same classifier without requiring access to the training data set.\nPrevious: Collecting Training Data\nNext: Running the Whistle Classifier",
    "crumbs": [
      "PAMGuard Website",
      "Classifiers ",
      "Whistle Classifier ",
      "Training the classifier"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_betterClassification.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_betterClassification.html",
    "title": "Classifier with frequency sweep",
    "section": "",
    "text": "Overview\nThe click classifier with frequency sweep was added to PAMGuard in 2010 to provide a wider choice of species identification parameters, particularly for the detection of beaked whales.\nOperation is similar to that of the Basic click Classifier in so much that a number of different tests can be carried out on each click and the click will have to satisfy all of those tests in order to be classified.\n\n\n\nGeneral options\nIn the general options section, enter the species name, a unique identification code and select the symbol to be used for this species on the click detector display.\n\nChannel options\nClick detection is generally conducted on more than one channel. If this is the case, then the click classifier can be set to either:\n\nRequire positive identification on all channels individually\nRequire positive identification on only one channel\nUse mean parameter values over all channels\n\n\n\nRestricting the click length\nClick waveforms from the click detector are generally longer than the click itself. This is partly due to the pre and post samples added to the waveform but can also be caused by the click arriving at different times on different channels. The addition of extra waveform data before or after the click has little effect if the click has a high signal to noise ratio, but for quiet clicks, the additional data is a significant source of noise for some parameter measurements. There is therefore an option to restrict the length of the data used in the parameter extractions. If this option is used, then the peak of the waveform envelope is found (see Click Length below) and an equal amount of wave data taken from each side of the envelope maximum.\nGenerally the click length should be set to a power of 2 (e.g. 128, 256, 512, etc) since the FFT’s used in many of the calculations require data that is an exact power of 2 long. Other values can be used, in which case the shortened data will be padded with zeros prior to FFT calculations.\n\n\n\nWaveform Options\nThe first tab “Waveform Options” controls classification parameters relating to the click waveform\n\nPre Filtering\nSelect this option if you want to filter the click prior to parameter extraction. Generally measurements such as the click length will be more accurate if unnecessary noise is first filtered from the click\n\n\nAmplitude Range\nThis option can be used to exclude very quiet of loud clicks. Quiet clicks in particular tend to cause false classification since their properties are poorly defined so they tend to mis-classify at random\n\n\nClick Length\nThe click length is measured by first calculating the analytic waveform (or signal envelope) of the click using the Hilbert transform of the waveform data\nThis is then smoothed using a moving average filter defined by the user (smoothing parameter in dialog).\nThe maximum of the smoothed envelope is then found and the click length taken as the length of the data between points either side of that maximum which remain above the maximum value minus the threshold (Threshold parameter in dialog).\nThe test is passed if the click length lies within the range set by the user (Length range parameters in dialog).\n\n\nZero Crossings\nSome species of whale produce frequency modulated clicks, i.e. the click frequency changes during the course of the click.\nThe power spectrum of a click is an average of the spectral energy over the duration of the click and is therefore unable to show changes in frequency during the course of the click.\nAlthough it is possible to extract more detailed frequency information using a Wigner-Ville transform of the waveform data. These are slow to compute and therefore not suitable for real time classification.\nThe classifier therefore extracts frequency information by examining zero crossings of the waveform data.\nA zero crossing is defined as the signal waveform going from a positive to a negative value or vice-versa. The classifier searches the waveform for zero crossings only within the region of the click between the thresholded limits from the click length estimation described above.\nOnce zero crossings have been found, the frequency between each zero crossing is calculated. If there are three or more zero crossings (permitting two or more estimates of frequency) the frequency sweep is calculated by fitting a linear model of frequency against time.\nTwo tests can then be applied to the data. The first is the total number of zero crossings which must lie within the range set in the dialog. The second is the frequency sweep estimated from the zero crossing data.\n\n\n\nSpectrum Options\nThe second tab controls classification parameters extracted from the clicks spectrum\n\n\nEnergy Bands\nThe energy band test compares the acoustic energy in a test band with the energy in two control bands.\nThe user should enter the frequency ranges of each band and a threshold value for each of the control bands. The test is passed if the test band energy exceeds each of the control band energies by more than the threshold values.\nIf only one control band is required, set both frequency limits of the second control band to zero.\n\n\nPeak and Mean Frequency\nThe peak and mean frequency are measured from the power spectrum of the click waveform.\n\n\nSearch and integration range\nThe peak search and the frequencies over which the mean frequency is summed can be restricted using the search and integration range parameters in the dialog.\nThe power spectrum can also be smoothed using a moving average filter to remove noisy spikes from the spectral data.\n\n\nPeak Frequency\nIf the peak frequency test is enabled, the peak frequency (taken as the highest point in the smoothed spectral data between the limits of the Search and Integration range) must lie between the limits entered in the dialog.\n\n\nPeak Width\nThe width of the spectral peak is measured by first finding the amplitude of the power spectrum at the peak frequency. The peak width is taken as the frequency range of the data either side of that peak which are at an amplitude above the peak amplitude minus the threshold (threshold parameter in dialog). The test is passed if the width of the peak lies within the set range.\n\n\nMean Frequency\nThe mean frequency is calculated using\n\nwhere\ni is the range of frequency bins within the search and integration range\nI is the intensity of the spectrum at each frequency bin i\nf is the frequency (Hz) at each frequency bin i\nThe test is passed if the mean frequency lies within the set range.\n\n\n\nOther Options\nThe third tab controls other options\n\n\nAlarm\nYou can create an audible alarm by setting an alarm on the tab and by enabling it on the more general classifiction panel\n\n\n\nSpecies Default settings\nThe ‘Species Defaults’ button allows the user to use stored standard settings for beaked whale and harbour porpoise classifiers.\nPrevious: Basic Click Classification\nNext: Tracking and Click Train Identification",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Classification ",
      "Classifier with frequency sweep"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickClassification.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickClassification.html",
    "title": "Click Classification",
    "section": "",
    "text": "Overview\nIndividual clicks detected by the click detector can be classified using one of two different click classifiers. The first, Basic click Classifier is the same as the click classifier in the IFAW RainbowClick software. The basic classifier is generally adequate for the classification of high frequency harbour porpoise clicks and is primarily retained for backwards compatibility with the RainbowClick classifier. The second Classifier With Frequency Sweep uses additional classification parameters and is more suitable for the detection of lower frequency odontocete clicks, particularly those of beaked whales.\nThe classifier is set up from the Click Detection&gt;Click Classification menu.\n\n\n\nClickTypes (10K)\n\n\n\n\nClick Classifier Selection\nSelect the type of click classifier you wish to use from the drop down list. This will either be the Basic click Classifier or the Classifier With Frequency Sweep.\nYou must also check the ‘Run classification online’ box if you want clicks to be processed as they are detected.\nYou should check the ‘Discard unclassified clicks’ box if you want clicks which do not pass any of the classification criteria to be discarded. Use this feature with great caution and only when you are confident that the classifiers are working well for the clicks that you do want.\n\n\nClick Types\nThe click classification dialog contains a list of defined click types.\nIf more than one type is defined, then each click is tested against each type in sequence and the click is classified as belonging to the first type with a matching set of classification criteria.\nIf the click does not match the criteria of any of the classifiers, then it is unclassified.\nUse the New, Edit and Delete buttons to add, modify and remove items from the list.\nIf an audible alarm has been associated with this click type, checking/unchecking the alarm column will enable/disable it. Alarms can be associated with click types in the Individual Click Classification dialog (press the Edit button to open the dialog).\nEach click is checked against the different click types in sequence. As soon as one set of criteria is matched, the classifier will stop searching other click types. It is therefore sometimes important to arrange the different types in a particular order. Use the Up and Down buttons to move different click types up and down in the list.\nIndividual species classifiers can be enabled or disabled, for example if you wish to temporarily stop checking for a particular click type.\nClassified clicks can also be discarded. For example, if there was a particular noise source causing false triggers of the click detector (e.g. a depth sounder), it may be possible to set up a classifier for those detections and immediately discard them.\nIf either the New or the Edit button is pressed, the Individual Click Classification dialog will be displayed. The behaviour of this dialog will depend on the type of classifier selected.\nPrevious: Click Detector Graphic Overlays\nNext: Basic Click Classification",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Classification"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickDetectorDisplays.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickDetectorDisplays.html",
    "title": "Click Detector Displays",
    "section": "",
    "text": "Data display and an interactive Graphical User Interface are fundamental to the workings of the click detector. Clicks from many species are often quite indistinct, especially when detected in noise and at the limits of detectability. Visually, it is often easy for an operator to pick out click trains on the display which consist of lines of regularly spaced clicks on consistent, slowly changing bearings.\nThe click detector has a bespoke display panel containing a number of different displays for looking both at click trains and at individual clicks. It also displays information in the PAMGuard side panel and can overlay information on the map and other standard displays.\nPrevious: Click Detector Overview\nNext: Tab Panel Displays",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Click Detector Displays"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickStorageOptions.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickStorageOptions.html",
    "title": "Click Storage Options",
    "section": "",
    "text": "Click Storage Options\n\n\n\nclickStorage (9K)\n\n\n\n\nDatabase Storage\nIndividual clicks may be written to the PAMGuard database.\nBe warned though that writing to the database can be slow and can seriously affect overall PAMGuard performance\n\n\nRainbowClick files\nThe click detector also stores click data in a format compatible with the IFAW RainbowClick software. This allows RainbowClick can be used for offline data analysis. Offline analysis is currently not as well developed in PAMGuard as it is in Rainbowclick.\nFor the files to be compatible with RainbowClick, the click detector must be configured to analyse pairs of channels. If you have multiple pairs of hydrophones you should use RainbowClick version 4.06.0000 or higher.\nTo enable RainbowClick compatible file storage check the ‘Create RainbowClick File(s)’ check box.\nUse the browse button and edit box to set the output directory for your data.\nUse the File Initials text field to set a number of characters to be used at the start of the file name. The remainder of the name is constructed automatically with the date and time at the start of the file.\nTo avoid single files becoming too large, use the ‘File Length’ edit box to set a maximum length for each file.\nPrevious: Tracking and Click Train Identification\nNext: Click Alarm Options"
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_clickTrainIdentification.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_clickTrainIdentification.html",
    "title": "Tracking and Click Train Identification",
    "section": "",
    "text": "Click Train Identification\n\n\n\nClickTrainId (7K)\n\n\nTo automatically detect click trains, check the Run Click Train Id.\nClick trains are sequences of clicks on a consistent bearing with a consistent inter click interval. This system is currently optimised for sperm whale click train identification.\nIf a click train reaches sufficient length and the bearing change is adequate, target motion analysis is used to automatically calculate a range and bearing to the sound source.\nBearings and ranges to click trains can be overlaid on the PAMGuard map.\nPrevious: Click Classification\nNext: Click Storage Options"
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/ClickDetector_MapOptions.html",
    "href": "detectors/clickDetectorHelp/docs/ClickDetector_MapOptions.html",
    "title": "Click Detector Map Options",
    "section": "",
    "text": "Click Detector Map Options\nClick detector map options are accessed from the Click Display&gt;Map Options? menu.\nThese apply only to automatically detected click trains.\nClick trains may contain varying levels of information. Short click trains will only have a bearing to the detected source. Longer trains that alter bearing by more than a few degrees will also have a calculated range.\nSequences of sperm whale clicks from a single source are generally broken up into shorter trains by the click train detection algorithm.\nClick trains with range information are always shown. The shorter and more numerous click trains that do not have range information can rapidly clutter the map.\nBy selecting the radio buttons the operator can choose to plot either:\n\nnone of the short click trains,\nall of the short click trains,\nor only those which are separated from other plotted click trains by a minimum time interval or change in bearing.\n\nIf no range information is present, the bearing lines on the map are drawn at a fixed length.\n\n\n\nClickMapOptions (10K)\n\n\nPrevious: Click Detector Side Panel"
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_AddingGPSData.html",
    "href": "detectors/clickDetectorHelp/docs/offline_AddingGPSData.html",
    "title": "Adding GPS offline",
    "section": "",
    "text": "The gpsData table in PAMGuard has a specific format which must be copied for offline analysis.\nUTC\nUTCMilliseconds\nPCLocalTime\nGpsDate\nPCTime\nGPSTime\nLatitude\nLongitude\nSpeedType\nHeading\nHeadingType\nTrueHeading\nMagneticHeading\nMagneticVariation\nGPSError\nDataStatus\n\n\n\nGPStable\n\n\nYou have to add or imprt the gpsData table into your database for the offline analysis. If you followed the steps described in creating binaries offline, you still need to add the GPS processing module File&gt;Add module…&gt;Maps and Mapping&gt;GPS processing first time you open up PAMGuard Viewer. Also if you want to have a map you also need to add the module File&gt;Add module…&gt;Maps and Mapping&gt;Map. You need to close PAMGuard Viewer after you added these modules, and open it up again so it can load the GPS data."
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_MarkingOutEvents.html",
    "href": "detectors/clickDetectorHelp/docs/offline_MarkingOutEvents.html",
    "title": "Marking out Events",
    "section": "",
    "text": "The PAMGuard viewer click detector has the ability to allow manual marking of events. Events usually consist of a group of clicks associated with one acoustic encounter of a particular species. Event information is saved to the database and in certain situations, such as when using towed arrays, can be used to localise an animal?s position.\nCreating an Event\nTo mark an event bring up the bearing/amplitude time display (in the Click Detector tab). The Figure shows a porpoise click train which needs to be marked and stored as an event. Note that the bearing time display is very similar to the online version just that instead of the trigger window you get a Wigner plot as default setting.\n\n\n\nClickTrain\n\n\nTo see the classified clicks better (in this case porpoise clicks - the red triangles) you can untick the box at the top of the window ‘Unclassified clicks’. The bearing time display will now only show the classified clicks (depending on your settings you have more options i.e. echos, other species, etc.). Right click on a click and select ‘Label click…’.\n\n\n\nLabelClick_1\n\n\nThis will bring up the event dialog box. Here you can create a new event by selecting the ‘New Event’ button or add the click to an existing event by selecting any event from the Event list.\n\n\n\nEvents_1\n\n\nWhen creating a new event the species/event type can be selected from the drop down menu. To add a new species/event type to the database simply right click on the drop down menu and select ‘Edit list’.\n\n\n\nCreateNewEvents\n\n\nIn the Lookup Editor window select ‘Add Item’ and create a Code, Text and Symbol for your new species/event type. Press ok. Now you can select your new Event type/species from the drop down list in the click event dialog (previous figure). The Estimated number of animals and the comment are optional but always useful to fill in. (Note: Dont worry about the event number, PAMGuard creates an ID automatically.)\n\n\n\nLookup\n\n\nMultiple clicks can be selected using the advanced area selection tool. Double click on the bearing/amplitude time display. This will bring up a dotted line which you can use to draw around a group of clicks. By joining up the ends of the dotted line the selected area should appear grey.\n\n\n\nMarkingAnEvent_1\n\n\nAll the clicks within this grey area can be added to an event by right clicking inside the grey area and selecting ‘Label Clicks’ or use the key short cut ‘Ctrl+L’. Note that there are also other options available such as removing clicks from a certain event etc. So if you made a mistake, don?t panick. Other useful tools for marking an event include the amplitude selector and zoom selection.\n\n\n\nLabelMultipleClicks\n\n\nFollowing the described steps your event is saved. You can now localise it with target motion analysis.\nAll events are saved in the database. To get an overview about your events go to ‘Click Detection’ and then ‘Show events’.\n\n\n\nShowEvents\n\n\nDepending on your selection you see all events in your data set or only the ones which are in the current period. Right click on an event and you have the option for editing, deleting or going to the event. This comes in handy when you want to move between events.\n\n\n\nEventList\n\n\nEvents which contain clicks with bearing information can be viewed in the map tab- simply right click and select ‘Click Detector, Tracked Clicks’. If using a towed array events can be localised using the target motion analysis module. Localisation information will also be displayed on the map.\n\n\n\nMapEvents\n\n\nYou can also send Events to Rocca for click analysis. Go to ‘Click Detection’ and then ‘Rocca Measurement’. A new window will open up displaying all of the currently defined events. Select the events to analyse, and then click ‘Analyze Selection’\n\n\n\nRoccaAnalysis\n\n\nPrevious: Navigating through Data\nNext: Reclassifying Click",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Viewer Functions ",
      "Marking out Events"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_Overview.html",
    "href": "detectors/clickDetectorHelp/docs/offline_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "An offline analysis functionality, which is similar to that in the IFAW RainbowClick software, is available in PAMGuard. To use this functionality, click detector data must be available in the binary storage format and PAMGuard must be running in Viewer Mode.\nThe click detector viewer mode provides several powerful tools for data analysis:\n\nThe data map allows for rapid navigation and visualisation of large data sets.\nEvents can be manually marked and saved to a database.\nData collected using towed arrays can be localised using target motion analysis.\n\n\nBeginning Analysis\nTo begin using the offline click viewer you must have a set of binary files and a database. If this is NOT the case, you have to create binaries offline (i.e. after you have collected you data in the field). Ideally the database will have been created whilst collecting data. It should then contain GPS co-ordinates, a list of the binary files, settings information etc. When you open up PAMGuardViewer the first option is to select the database.\n\n\n\nDatabase\n\n\nBy selecting this database, viewer will load automatically the corresponding binary-, settings- and data files but sometimes it gets the directory path wrong (especially if your data is on an external hard drive and you plugged it in and out frequently). Just double check if the binary storage options are correct (Note: In this case the drive is wrong).\n\n\n\nBinary\n\n\nThe programme will then load the data and create the data map which can take a couple of minutes if you are opening up the data for the first time. Use the data map for navigation. Now you start to manually mark events.\n\n\n\nBinaryDataMapping\n\n\nIf no database is available then a a new one must be created. Open PAMGuard viewer and select a blank database. A message will appear.\n\n\n\nNoDatabaseMessage\n\n\nSelect ‘OK’. A dialog asking you to select binary files will then appear. Select the path to your processed binary files and click ‘OK’. The following window should then appear. (Note that your binary files must contain .psfx files. These should be automatically created when binary files are created.)\n\n\n\nNoSettingsBegin\n\n\nRight click on the small red triangle and select ‘load settings from….’. Clicks should then be loaded from the binary files and a datamap created.\n\n\n\nSettings Loaded\n\n\nSelecting the Click Detector tab should bring up the clicks contained in the binary files. If GPS data needs to be added a new table must be manually created in the database. The table must be named ‘’gpsData’ and should be in a specific format (Adding GPS Data offline).\nNext: Importing Rainbow Click files",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Viewer Functions ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/offline_Reclassify_clicks.html",
    "href": "detectors/clickDetectorHelp/docs/offline_Reclassify_clicks.html",
    "title": "Reclassify Clicks",
    "section": "",
    "text": "Sometimes your initial click parameter settings need changing. There is an option in Viewer to reclassify click types which will change the corresponding binary files. Go to ‘Click Detection’ and click ‘Reanalyse click types’.\n\n\n\nReanalyse\n\n\nThe click reprocessing window will open giving you various options to proceed. First you need to decide which data you would like to reclassify. The options are: Loaded data, all data or new data. To reprocess all data is time consuming so if you try out different parameter settings use the option of loaded data as it is much quicker. Once you are content with your new settings you can apply it to the whole data set. JAMIE: WHAT DOES the DELETE OLD DATABASE ENTRIES DO?\n\n\n\nClickProcessing\n\n\nThe parameters you can change are:\n\nReclassify clicks\nThis brings you to the click classification. Here you can change either the click parameters or add a new classification.\n\n\nEcho Detection\nThis opens the Echo Detection window. Here you can change the parameters for echo classification.\n\n\n\nEchoDetection\n\n\n\n\nRecalculate click delays\nThis opens the delay measurement window. Here you can alter the setting of how click delays are calculated.\n\n\n\nClickDelay\n\n\nYou can choose either of the two options, both or none.\nOption 1: Filter data before measurement\nThis option has the following settings:\n\n\n\nFFT_Filtersettings\n\n\nOption 2: Use wave form envelope. This takes the Hilbert Transform of the wave and uses this to calculate time delays instead of the true waveform. This is useful for spectraly pure signals which have characteristic wave envelopes, such as Harbour Porpoise clicks.\n\n\nClick bearings\nThis option allows you to recalculate click bearings. These may have changed due to altering the spacing between hydrophone elements or perhaps you have recalculated the click delays, hence the bearings will have changed.\nYou can run all 4 reclassification options at once or tick the ones which are suitable for the analysis. Press ‘Start’ to beginn the recalculation process. You can see how far advanced the recaclulation process is in the progress bar. During re-processing the cancel button will change to a ‘Stop’ button and when the process is finished it will change to a ‘Close’ button. When recalculating large data sets the Close button might not appear after the last file. Just press Stop instead.\nPrevious: Marking out Events\nNext: Offline Click Analysis Tools",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Viewer Functions ",
      "Reclassify Clicks"
    ]
  },
  {
    "objectID": "detectors/clickDetectorHelp/docs/SoundTrapClickDetector.html",
    "href": "detectors/clickDetectorHelp/docs/SoundTrapClickDetector.html",
    "title": "SoundTrap Click Detector",
    "section": "",
    "text": "If you are using a SountTrap recording device with built in click detection from Ocean Instruments, you may need to use a modified version of the Click Detector.\nThe SoundTrap click detector allows you to detect and store clicks at high frequencies (say 384kS/sec), suitable for odontocete echolocation clicks, and at the same time, record audio data files at a lower frequency (e.g. 96 or 48kS/sec). This optimises disk space usage and makes long deployments of several months possible without running out of data storage.\nHaving two sample rates present within a single PAMGuard configuration is possible using Decimator modules. However such configurations become particularly complicated to configure when the sample rate of the recorded files is lower than the sample rate of the click detector.\n\nWe therefore recommend that you use a modified version of the Click Detector, which manages it’s own sample rate and channel information based on information extracted from the SoundTrap data.\nNote that the SoundTrap click detector should only be used for clicks automatically detected by the SoundTrap. If you want to detect clicks from the SoundTrap recordings, then use a normal Click Detector in the normal way.\n\nCreating an instance of the SoundTrap Click Detector\nFrom the File&gt;Add modules&gt;Detectors menu, or from the pop-up menu on the data model display, select ‘SoundTrap Click Detector’ near the bottom of the Detectors list. Enter a descriptive name for the new detector and press Ok.\n\n\nImporting SoundTrap Data\nSoundTrap data are stored in proprietary files called SUD files.\nThere are two ways in which you can get data from SUD files into the SoundTrap Click Detector.\n\nThe Old Way\nThe ‘standard’ way of using SoundTrap data was to inflate all of the data from the compressed SUD files. For details of this process, see the SoundTrap user manuals and the SoundTrap Host software.\nNormally, several inflated files are generated from each sud file:\n\nA wav file: Audio data in standard wav file format\nAn XML file: Metadata on the SoundTrap configuration, file start times in various formats, etc.\nIf the click detector was running BCL and DWV files, which contain the times of clicks and click waveforms respectively.\n\nTo convert the SUD files to the binary storage format used by PAMGuard, working in the PAMGuard Viewer, create a Binary Store, a SoundTrap Click Detector and also create a ‘SoundTrap Detector Import’ module. Then use the import module to import the BCL and DWV data into PAMGuard. Once imported you can run Click Classifiers and use other Click Detector offline functions to mark events, etc.\nIf you want to run additional analysis on the WAV file data (for example to make noise measurements or to detect whistles), create a different PAMGuard configuration to process those data.\n\n\n\nThe (better) New Way\nCurrent versions of PAMGuard can read SUD files directly, without first unpacking them into WAV, XML, BCL and DWV files. This not only reduces the amount of disk space you need by about x4, but also saves a lot of time.\nBetter still, you can now set up PAMGuard in normal mode to simultaneously process the audio data in the SUD file with one set of detectors, and simultaneously extract the click detector data into appropriate files for a SoundTrap Click Detector.\nStart PAMGuard in Normal Mode and add a Sound Acquisition module. Add a SoundTrap Click Detector, a Binary Store store and a Database module (optional). In the Sound Acquisition dialog select a single SUD file or a folder of SUD files. At this point, the SoundTrap Click Detector will be automatically configured with the correct sample rate (which won’t be the sample rate displayed in the Sound Acquisition module).\nConfigure any Click Classifiers you want to be run on the SoundTrap click data as it is imported.\nYou can then add any other detectors and measurement processes you want to run on the SoundTrap audio data, this may include instances of the normal Click Detector module if you want to detect clicks in the lower frequency audio data.\nProcess the data in the normal way and clicks will automatically be generated within the SoundTrap click detector\nFurther process you data using the PAMGuard Viewer in the normal way.\n\nSoundTrap Dates and Timezones\nSoundtrap dates can be confusing (to be polite about it)\nsud file names generally use a local time for the computer that either set up the soundtrap, or downloaded the files from the soundtrap.\nHowever, the sud files contain a UTC time stamp, which will be correct if the local time and time zone on your computer were correct - basically, they will be correct if your computer is connecting to the internet and settings it’s own clock. PAMGuard will extract this UTC time and use it for output file names and for data.\nSo, for example, if you were on the US East coast (UTC-5) and collected data at 1700 (5pm) on 10 August, 2025 you’d get a sud file called 8565.250810170000.sud, which would generate a binary file called SoundTrap_Click_Detector_SoundTrap_Click_Detector_Clicks_20250810_210000.pgdf, i.e. at 5pm on the East Coast, it’s 2100 UTC.\nWhen processing sud file data, you should therefore leave the timezone information in the Acquisition module on it’s default setting of UTC - zero offset.\nIf you’ve been fiddling with the time settings on your computer, this may no longer be the case in which case you may be able to correct the times in the data to UTC using the time zone settings in the Acquisition module. Generally though, you shouldn’t touch it!\nSimilarly, if you’ve unpacked the sud file data, the wav file will have the same name as the sud file. However, PAMGuard is smart, and will look in the xml file (again, has the same name) for the correct UTC time and use that. So keep all the files you extracted from the sud file together. You’ll get different results if you take the wav files without the xml files to what you’ll get if you keep the xml files with them wav’s.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "SoundTrap Click Detector"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/configure.html",
    "href": "detectors/gpl/docs/configure.html",
    "title": "GPL Detector Configuration",
    "section": "",
    "text": "Before creating a GPL module, you will need a Sound Acquisition module and an FFT (Spectrogram) Engine. If these do not already exist you will be prompted to create them when you add the GPL Module. In the File Menu, go to Detectors / Generalised Power Law Detector and the module will be added to your PAMGuard configuration.\nNote that the GPL detector is most useful for the detection of low frequency baleen whale sounds. If your raw data are high frequency, then consider adding a Decimator module between the Sound Acquisition and FFT modules to lower the frequency of the data.\n\nFFT Data source\nOpen the GPL detector dialog from the main Settings menu and select the FFT data source and indicate which channels you want the detector to operate on. The detector will operate independently on each selected channel.\nNote the frequency and time resolutions of the FFT data which are displayed in the dialog. If these are not suitable, then make adjustments in the FFT module before returning to the GPL configuration.\n\n\n\nSpectrogram Whitening\nThe GPL detector uses advanced signal processing methods to estimate a median background noise which is then subtracted from the data. The Whitening Time Period is the time over which this background is measured. When processing starts, it can take up to two of these whitening periods for the initial background measurement to stabilise. For this reason, data are often processed in blocks, so the software can scan back and forth within the same block of data to make the background measurement, then search for detections.\n\nBlocked Processing\nIn this mode, data are read in in blocks of the length of the whitening period, the background is measured on that block of data, and then detections made within the same block. This works well for offline processing of duty cycled recordings. However, when processing data in real time, no detections will be visible to the user until the end of each block, and the detections may scroll off the screen before you’ve had a chance to look at them!\nBlock First\nIn this mode, the first block of data is processed exactly as for Blocked Processing. After that, the system then switches to continuous processing, where the background is continually updated based on the data within the preceding whitening period. After the initial block, this provides smoother displays than Blocked Processing. Output should be very similar, however the background measurement at a moment in time will be slightly different, so results may vary slightly. This mode could be used either for real time processing or for offline processing of recorded data.\nBlock First\nIn this mode, there is no blocking of data and all background assessments are made on preceding data. This mode is therefore NOT suitable for offline processing of recordings, since detection will not be possible within the first two whitening time periods of each file. However, for long term real time monitoring, if you’re not too fussed about the first minutes of data, it would be possible to use this processing mode.\nPrevious: Overview\nNext: Detection Parameters",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "GPL Detector Configuration"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/defaults.html",
    "href": "detectors/gpl/docs/defaults.html",
    "title": "Defaults",
    "section": "",
    "text": "Default values for different species can be imported and exported from xml files using the drop down menu which shows when you click on the Defaults button.\n\nThe configuration files are in xml format, which means that they can be opened and read with most text editors and easily imported into other software, such as R or Matlab.\nA selection of standard GPL configurations can be downloaded at https://github.com/PAMGuard/configurations/releases.\nNote that the configuration files only contain information about the GPL detection parameters and do not contain information about the sample rate and FFT length of the data that the GPL detector is connected to.\nSample rate and FFT length are important, since they control the time and frequency resolution of the data coming into the detector.\nYou should adjust the FFT (Spectrogram) Engine parameters so that they are appropriate for the species you’re trying to detect, including a Decimator module if necessary to provide data at the right sample rate. If a sample rate is many times the frequency of the sound you’re interested in, then you may find you need a very long FFT length to get a sensible time and frequency resolution.\n\nThe frequency resolution of a spectrogram, in Hz, is the acoustic sample rate divided by the FFT Length.\nThe time resolution and time step size, in seconds, are the FFT Length and FFT Hop divided by the sample rate.\n\nThis means that data with a sample rate of 2000 Hz, and FFT length of 2048 samples and an FFT hop of 128 samples will have time and frequency resolutions of 64ms and 0.98 Hz respectively. Exactly the same time and frequency resolutions could be achieved with data sampled at 1000Hz if you were to use an FFT length of 1024 samples and FFT hop of 64 samples.\nNominal values for these parameters that have been used in the past are provided below.\nNote that PAMGuard does support FFT lengths which are not an exact power of 2, however such values may mean that the FFT’s are slow to compute which may impact on processing speed.\n\n\n\nSpecies\nSample Rate\nFFT Length\nFFT Hop\n\n\n\n\nBlue Whale D\n2000 Hz\n2048\n128\n\n\nFin Whale 20Hz\n2000 Hz\n2048\n128\n\n\nFin Whale 40Hz\n2000 Hz\n2048\n128\n\n\nHumpback\n2000 Hz\n2048\n128\n\n\nBryde’s whale\n6000 Hz\n4096\n512\n\n\n\nPrevious: Notes\nNext: Outputs",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "GPL Detector Configuration ",
      "Defaults"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/detection.html",
    "href": "detectors/gpl/docs/detection.html",
    "title": "Detection",
    "section": "",
    "text": "The GPL detector has several parameters controlling the frequency range of data to search for sounds, the power law to apply, duration of sounds, etc. The PAMGuard implementation also provides some pre-set default values provided by Tyler Helble which work reasonably well for a number of species. Note however that all parameters may require adjustment in different noise environments.\n\nMinimum and Maximum Frequency\nThese are the minimum and maximum frequencies used by the detector for spectrogram whitening, background measurement and detection.\nWhitening scale factor\nThis is a scaling factor used to increase the level of background subtraction during the whitening process. Generally it should be 1.0, but can be increased to 1.5 for noisy data.\nPower law’s (time and frequency)\nThese are the variables &nu1 and &nu2 in Equation 6 in Helble et al 2011. The two power law parameters have slightly different properties, in that &nu1 is operating on a spectrogram whitened over time and is therefore better at rejecting constant noise sources, whereas &nu2 operates on a spectrogram whitened over frequency, so is better at rejecting broad band transients. However, the effects of the two parameters are broadly similar. Overall, the sum of both &nu1 and &nu2 should be around 2.5 for the detection of narrow band tonal systems.\nDetection ON and OFF Thresholds\nFor a detection to occur, the detection statistic must rise above the ON threshold. When this occurs, the detector will then search backwards and forwards in time and select all data which were above the lower OFF threshold.\nThe values are expressed as factors, simple ratios of the power law statistic compared to background noise. As a guide, approximate decibel values based on the threshold and magnitude of the power law parameters are also given.\nMinimum Gap\nMany detections, particularly of lower amplitude sounds, will rise and fall above the detection thresholds more than once due to varying amplitude over time. If the gap between subsequent peaks above threshold is less than the minimum gap, multiple small detections will be joined together into a single large detection. The value is entered as the number of FFT time bins, but is also displayed in seconds, based on the entered value and configuration of the spectrogram module.\nMinimum and Maximum Length\nThese are the minimum and maximum lengths of a detection in seconds. Any detection that is shorter than or longer than these limits will be rejected. The values are entered in seconds, but also displayed in FFT time bins, based on the entered value and configuration of the spectrogram module.\nPrevious: Configuration\nNext: Contour detection",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "GPL Detector Configuration ",
      "Detection"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/gpldisplays.html",
    "href": "detectors/gpl/docs/gpldisplays.html",
    "title": "Displays",
    "section": "",
    "text": "The whitened spectrogram is only calculated for the frequency range specified in the settings, with data at other frequencies set to 0. It can be viewed either using the Spectrogram Display or the Time Display FX. In either case simple select the GPL Whitened Spectrogram as the data source. Note however, that during the whitening process the scale of the data changes, so the displayed amplitude values no longer have any meaning.\n\nFigure showing an FX display with raw spectrogram data, whitened spectrogram data and the GPL detection function\n\nGPL detection overlays\nDetected contours can be displayed as overlays on the Spectrogram Display. Simply right click on the display and select GPL Detector Detections. To change colour options, click on the small options button to the left of the menu item.\n\nFigure showing a Spectrogram display with spectrogram data on it’s own and overlaid with GPL detections\nSimilarly, GPL detections can be shown as overlays on the PAMGuard map. If GPL detections have been localised bearing lines and / or 2D or 3D localisations will be displayed.\n\n\nDetection Statistic / Trigger Function\nViewing the summed power in the detection frequency band is a useful way of checking on detector performance. The statistic for each channel the detector is running on can be shown as a line graph in the Spectrogram Display or the Time Display FX.. To view the data, once you’ve created the GPL Detector and the Time Display, simply add “GPL Level” to a display graph as shown in the examples above.\nPrevious: Outputs\nNext: Localisation",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "Displays"
    ]
  },
  {
    "objectID": "detectors/gpl/docs/localisation.html",
    "href": "detectors/gpl/docs/localisation.html",
    "title": "Localisation",
    "section": "",
    "text": "The GPL detector is fully compatible with generic PAMGuard localisers the Bearing Localiser and the Group 3D Localiser.\nPrevious: Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Generalised Power Law (GPL) Detector ",
      "Localisation"
    ]
  },
  {
    "objectID": "detectors/ishmael/docs/ishmael_energysum.html",
    "href": "detectors/ishmael/docs/ishmael_energysum.html",
    "title": "Energy Sum",
    "section": "",
    "text": "In this method, the values in each vertical strip of the spectrogram are summed. The sequence of sums, one sum per vertical strip, makes up the detection function. Energy summation is a useful detection method for scanning sounds to find everything of interest, particularly when the target sounds may be unknown or highly variable. It can also be used as a first step for a more sophisticated multi-step classification system.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Ishmael Detectors ",
      "Energy Sum"
    ]
  },
  {
    "objectID": "detectors/ishmael/docs/ishmael_energysum.html#adding-the-module",
    "href": "detectors/ishmael/docs/ishmael_energysum.html#adding-the-module",
    "title": "Energy Sum",
    "section": "Adding the module",
    "text": "Adding the module\nFrom the PAMGuard file menu select Add Modules &gt; Detectors &gt; Ishmael energy sum.\nGive a name to the detector, and hit OK.\nThis detector will require that you also configure a FFT (Spectrogram) Engine as it’s input.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Ishmael Detectors ",
      "Energy Sum"
    ]
  },
  {
    "objectID": "detectors/ishmael/docs/ishmael_energysum.html#configure-the-module",
    "href": "detectors/ishmael/docs/ishmael_energysum.html#configure-the-module",
    "title": "Energy Sum",
    "section": "Configure the module",
    "text": "Configure the module\nFrom the PAMGuard Settings menu select Ishmael energy sum Settings … to open the dialog\n\n\nData source and channels\nSelect the FFT data source. You should think carefully about the best FFT Length and FFT Hop to use based on the sample rate of your data and the type of sound you are trying to detect. See here for more information on this important, but often overlooked, topic.\nSelect which channels you want to process and how you want them to be grouped. If channels are in the same group, it’s slightly easier for the PAMGuard localisers to measure time delays between data on the different channels, but only if the hydrophones in each group are quite close together.\n\n\nEnergy Sum calculation\nThe Ishmael Energy Sum, detector initially had a static threshold. This means that if the overall noise increased, e.g. due to weather or ship noise, many more sounds would pass over threshold resulting in more false positives. To remedy this, there are two potential options: the use of an “energy ratio” or an “adaptive threshold” with additional options to smooth the energy sum output and/or use log scales.\n\nUse Energy Ratio\nWhen enabled the Ishmael detector peak is the ratio of the energy sum between two frequency bands. This can help in situations when, for example, broadband noise triggers the detector.\n\n\nUse Adaptive Threshold\nThe adaptive threshold tracks background noise, ensuring that the threshold is always some number of dB above the background and thus significantly minimises false detections. The downside of this is that the relative sensitivity of the detector changes with background noise (i.e. the detection range changes with noise). The long filter defines how noise is tracked - a lower number means a larger averaging window - a typical value might be 0.00005. If there is a loud, short sound, then the adaptive noise filter will take a long time to decay back to normal. If the result reaches Spike Threshold current energy, then noise exponentially decays.\n\n\nUse Detector Smoothing\nDetector smoothing smoothes the energy sum output so that small spikes do not trigger the detector - this is useful for longer sounds. A typical value might be 0.1.\n\n\nUse Log Scale\nThe energy sum is calculated from a log scale base ten scale - in other words the threshold values become units of dB\nPrevious: Ishmael Overview\nNext: Ishmael Spectrogram Correlation",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Ishmael Detectors ",
      "Energy Sum"
    ]
  },
  {
    "objectID": "detectors/ishmael/docs/ishmael_overview.html",
    "href": "detectors/ishmael/docs/ishmael_overview.html",
    "title": "Ishmael",
    "section": "",
    "text": "PAMGuard contains three detectors ported from Dave Mellingers Ishmael software.\n\nIshmael energy sum\nIshmael spectrogram correlation\nIshmael matched filter\n\nThese all have application with many different sound types and all feature in the Getting Started PAMGuard tutorial.\nThe three detectors vary in their specificity, that is how well they must match the sound’s your looking for to be of any use.\nThe energy sum is the least specific of any of the detectors, so will likely pick up any transient sound that has energy in the frequency band of interest. Generally, this detector will work at a very high false alarm rate, but can be useful in screening out data to be further processed with other classifiers.\nThe matched filter is the most specific and really only responds to sounds that exactly match the ‘kernel’ sound that you’ve configured it with. Generally, this detector is just too specific for most biological data.\nThe spectrogram correlation detector is a bit in the middle of the other two. It will pick out sounds that match it reasonably well, but doesn’t require the exact match of the matched filter.\nThe best way to learn about these detectors is to try the Getting Started PAMGuard tutorial.\nNext: Energy sum detector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Ishmael Detectors ",
      "Ishmael"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html",
    "title": "Configuring the Likelihood Detector",
    "section": "",
    "text": "Once there is a Likelihood detector module added to the PAMGuard system, the module can be configured by selecting the Detection-&#62 menu item and choosing the menu option with the name that was supplied when the module was added.\nIf this is the first time the module has been configured, then a dialog resembling the following will appear.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Configuring the Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#selecting-an-audio-data-source",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#selecting-an-audio-data-source",
    "title": "Configuring the Likelihood Detector",
    "section": "Selecting an Audio Data Source",
    "text": "Selecting an Audio Data Source\nLocated at the top of the Likelihood Detector configuration dialog is the standard PAMGuard Raw Data Source management panel. Using the drop-down box you can select a single audio source for the module. A Likelihood Detection module can only have one audio source. If you would like to process multiple target configurations on multiple audio sources simultaneously, you will need to add another Likelihood Detection module. See the section on adding a new Likelihood Detection module for more information.\nYou can also select which channels of audio data to process. By default, all channels will be selected, but by using the checkboxes you can filter out specific channeles.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Configuring the Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#adding-a-target-configuration",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#adding-a-target-configuration",
    "title": "Configuring the Likelihood Detector",
    "section": "Adding a Target Configuration",
    "text": "Adding a Target Configuration\nTo add a new target configuration to the Likelihood Detector module, right-click on the “Target Configurations” row in the list box and select \"Add Configuration\".\n\n\n\n\n\n\n\n\n\nA dialog box will open and prompt you to enter a unique name for the target configuration. The dialog will not allow you to enter in a name that is already taken. Note that target configuration names are case sensitive.\n\nGeneral Parameters\nOnce a target configuration is added, it will be displayed in the configuration area, showing the default values for the general parameters. These general parameters are discussed in brief below.\n\n\n\n\n\n\n\n\n\n\nTime and Frequency Resolutions\nThe time resolution and frequency resolution parameters provide configurable values that are used in conjunction with the audio source properties in order to derive the signal processing settings for the Fast Fourier Transform (FFT) process found at the start of the processing stream. The FFT process operates on the raw input data, converting it to the frequency domain. A Hann window (raised cosine) is used in all cases. Note that changes in sample rate do not require a change to the various settings.\nFor very short signals (&lt; 50ms) the time_res should be on the order of the signal duration to twice that. Setting it to be much larger than the signal duration will reduce the detectors ability to detect low SNR (weak) signals.\nFor longer signals, a time_res less than the signal is appropriate, and helps to get better detection timing. The default of 0.1 seconds is often appropriate. The data is still averaged over the length of a signal (using the signal window parameter) in the Normalizer block. This is a sliding window, which is more appropriate for several reasons.\nThe frequency resolution is normally set to freq_res = 1 / (2 * time_res) which results in 50% overlap.\nAlgorithm\nThis parameter specifies the normalization algorithm that is to be used for the target configuration. There are two possible normalizers: Decaying Average and Block Average. The Decaying Average algorithm uses feedback to generate estimates similar to the Click Detector. The Block Average algorithm averages a specified block of data history.\nIn general, the block averager is a better choice because it doesn’t have a long-term memory. For signal processors the block average is like an FIR filter, whereas the decaying averager is like an IIR filter.\nThe normalizer produces a likelihood ratio L = S / N.\nHere are some guidelines for normalization:\n\nFor the block averager, a good choice for the signal window is the duration of the click or call being detected, while the noise window should be at least 3 times longer. If the actual signal’s duration is variable, the signal window can be biased to the longer cases. If the difference between short and long duration signals is significant (more than 2x), another option is to create multiple bands each tuned to the different durations. The noise window shouldn’t be so long as to cause neighbouring signals to be in the noise window during detection. For example, if the real signal’s duration is 1.0 seconds and the inter-call interval (time between start of one call and the start of the next call) is 3.0 seconds a noise window of 5 seconds would be appropriate, but a noise window of 10.0 seconds would be too long. In this case the longest suggested noise window would be 5 seconds to avoid corrupting the noise estimate with other signals of interest.\nFor the decaying averager, which uses feedback to generate estimates similar to the click detector, a different strategy for selecting signal and noise windows is appropriate. The signal window can still be on the order of the duration of the vocalization of interest, though it will effectively smear out the signal if many more times than the time resolution. As a general rule of thumb, it should not be more than 4 times the time resolution. The noise window needs to be longer, especially if loud calls are occurring frequently, or the noise estimate will develop a bias due to the feedback.\n\nMinimum detection interval:\nThis parameter indicates the minimum interval between individual detections. If two or more detections occur within this configured amount of time, then they will be considedered all part of the same event, and will be considered one detection.\n\n\n\nParameter Tooltips\nMost of the target configuration parameters have legal bounds that are determined either by the audio data source’s parameters or by other target configuration parameter values. In order to ease configuration of the Likelihood Detector module, tool tips are provided in the configuration dialog. Leaving the mouse pointer over a parameter’s value in the Value column of the dialog’s target configuration window will display a tool tip indicating the valid lower and upper bounds for a parameter. The bounds displayed by the tool tip will be enforced by the editing widget for the parameter.\n\n\n\n\n\n\n\n\n\n\nNote: Some parameters are co-dependent, for example the signal/guard band’s noise window and the signal window. To be able to enter the value you want, it may be necessary to alter a dependent parameter. The tool tips will help you with this by explaining if any parameter boundries are dependent on another parameter.\n\n\n\nEditing a Parameter\nAll of the configurable parameters for a target configuration are editable in-place within the configuration dialog. To edit a parameter, simply double-click with the left mouse button on a value in the Value column and an editing widget will appear.\nThe editing widget for a parameter will enforce the valid values on the numbers that are entered.\n\n\n\n \n\n\n\n\n\n\nNote: Some parameters are co-dependent, for example the signal/guard band’s noise window and the signal window. To be able to enter the value you want, it may be necessary to alter a dependent parameter. The tool tips will help you with this by explaining if any parameter boundries are dependent on another parameter.\n\n\n\nParameter Validation\nThe Likelihood Detector’s configuration dialog provides validation of user input. When a tool tip displays a range of valid values (see Parameter Tooltips, above) the configuration dialog will give live feedback to the operator by disallowing invalid characters and values to be entered. This feature works in conjunction with the error reporting described below.\nThe Java Validator used to implement the validation can be very literal with what it allows you to type. Here are some helpful hints to keep in mind when entering floating-point values:\n\nYou can hit the ESCAPE key at any time to cancel editing and return the parameter to its original value.\nIf you want to type a fractional number beginning with zero (e.g., 0.5), make sure you type the zero first. The validator may get confused if you type “.5”.\nSometimes deleting digits from the middle of a number creates an invalid value and the validator will attempt to correct it for you. You can always select the whole number with the mouse or the keyboard and start over.\n\n\nNote: Some parameters are co-dependent, for example the signal/guard band’s noise window and the signal window. To be able to enter the value you want, it may be necessary to alter a dependent parameter. The tool tips will help you with this by explaining if any parameter boundries are dependent on another parameter.\n\n\n\nError/Warning reporting\nWhen a new target configuration is added, or when all of the signal bands for a target configuration have been removed, the target configuration isn’t valid. Since a configuration isn’t valid without at least one signal band, the target configuration selection box will display a red border prompting you to add a signal band.\n\n\n\n\n\n\n\n\n\nWhile editing a target configuration parameter, if the text entered isn’t valid or is not within the allowed legal boundries for the parameter, then the configuration dialog will display a red border around the parameter’s editor and keep the editing focus there until a valid value is entered.\n\n\n\n\n\n\n\n\n\nSince many of the target configuration’s parameters have legal boundries based on audio data source parameters or on other configuration parameters, it is possible that a change to a parameter will invalidate some other parameter in a target configuration. In addition, a change to an audio data source may invalidate values in one or more whole target configurations.\nIf this condition occurs, then the existance of invalid parameter(s) will be indicated in two ways:\n\nThe background colour for the entire value box for the parameter will change to red until the parameter is adjusted.\nThe target configuration activation checkbox will change its state to inactive and will display a red border around it until the parameter is adjusted.\n\n\n\n\n\n\n\n\n\n\nIn certain cases, a value can be within an accepted range, but it will produce an undesirable result. For example, the Noise Window parameter of the signal and guard bands will produce a warning if it is set to a value that is greater-than or equal to the time resolution times 500. In this case, the warning is provided to make the user aware of the increased processing load that would be required.\nWhen a warning condition is detected, the configuration dialog will change the background of that parameter to yellow:",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Configuring the Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#adding-a-signal-band",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#adding-a-signal-band",
    "title": "Configuring the Likelihood Detector",
    "section": "Adding a Signal Band",
    "text": "Adding a Signal Band\nTo add a new signal band to a target configuration, right click on the Detection Bands tree item for the name of the target configuration you wish to add a new band to, and a pop-up dialog will appear. Select the Add Signal Band menu option. You will be prompted to add a new unique signal band identifier for the target configuration. The band name dialog will ensure that the identifier you choose is unique.\n\n\n\n\n\n\n\n\n\n\nSignal Band Parameters\nWhen a new signal band is added, the Likelihood Detection module will add a series of default parameter values for the band.The default thresholds should be acceptable for most environments but can be lowered if the detector has too many missed detections, or raised if the detector is generating too many false detections. These are shown and described below:\n\n\n\n\n\n\n\n\n\n\nIn-Band Threshold\nThe threshold in Decibels for the in-band Likelihood Ratio test (ie signal versus noise estimate threshold). The trigger level for each detection is recorded in the database, which may support threshold selection.\nGuard Band Threshold\nThe threshold in Decibels of the guard band ratio test. If the average of all guard bands signal estimate versus the in-band signal estimate band is less than the threshold, there is a target present. Otherwise, the detection is prevented by the guard band.\nStart/Min Frequency and End/Max Frequency\nIt is normal to define the band low and high frequency to contain the entire expected signal, or at least that portion of the signal that contains the most energy.\nNoise Window\nThe noise window parameter represents the amount of time around the signal that is used for background noise estimation. How the noise window parameter should be configured is dependent on the type of normalization that is being used. See the Guidelines for Normalization section above for more information.\nSignal Window\nThe signal window is the representation of the duration of the click or call that is being searched for. How the signal window should be configured is dependent on the type of normalization that is being used. See the Guidelines for Normalization section above for more information.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Configuring the Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#adding-a-guard-band",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#adding-a-guard-band",
    "title": "Configuring the Likelihood Detector",
    "section": "Adding a Guard Band",
    "text": "Adding a Guard Band\nTo add a new signal band to a target configuration, right click on the Detection Bands tree item for the name of the target configuration you wish to add a new band to, and a pop-up dialog will appear. Select the Add Guard Band menu option. You will be prompted to add a new unique signal band identifier for the target configuration. The band name dialog will ensure that the identifier you choose is unique.\n\n\n\n\n\n\n\n\n\n\nGuard Band Parameters\nWhen a new guard band is added, the Likelihood Detection module will add a series of default parameter values for the band. The default thresholds should be acceptable for most environments but can be lowered if the detector has too many missed detections, or raised if the detector is generating too many false detections. These are shown and described below:\n\n\n\n\n\n\n\n\n\n\nAssociated Signal Band\nThe signal band that this guard band is applied to.\nStart/Min Frequency and End/Max Frequency\nIt is normal to define the band low and high frequency to contain the entire expected signal, or at least that portion of the signal that contains the most energy.\nNoise Window\nThe noise window parameter represents the amount of time around the signal that is used for background noise estimation. How the noise window parameter should be configured is dependent on the type of normalization that is being used. See the Guidelines for Normalization section above for more information.\nSignal Window\nThe signal window is the representation of the duration of the click or call that is being searched for. How the signal window should be configured is dependent on the type of normalization that is being used. See the Guidelines for Normalization section above for more information.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Configuring the Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#enabling-and-disabling-a-target-configuration",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#enabling-and-disabling-a-target-configuration",
    "title": "Configuring the Likelihood Detector",
    "section": "Enabling and Disabling a Target Configuration",
    "text": "Enabling and Disabling a Target Configuration\nA single Likelihood Detection module can have many different target configurations configured, but not all of them need to be active during a detection run.\nEnabling and disabling a target configuration is as easy as selecting the target configuration checkbox located next to the name of the target configuration in the configuration tree.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Configuring the Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#removing-a-signal-or-guard-band",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Config.html#removing-a-signal-or-guard-band",
    "title": "Configuring the Likelihood Detector",
    "section": "Removing a Signal or Guard Band",
    "text": "Removing a Signal or Guard Band\nRemoving a signal or guard band from a target configuration is easy. Simply right-click on the name of the band you wish to remove, and a pop-up menu will display an option to remove the band.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNext: Importing and Exporting Target Configurations\nPrevious: Adding a New Likelihood Detection Module",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Configuring the Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Introduction.html",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Introduction.html",
    "title": "Likelihood Detector Introduction",
    "section": "",
    "text": "The likelihood detector module is an implementation of a likelihood ratio test. It is suitable for detecting both short duration Odontocete clicks (Sperm, Beaked, etc.) as well as moderate duration Mysticete calls (Humpback, Bowhead, etc.). It is not suitable for detecting whistles; for more information on whistle detection see the Whistle Detector Module.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Likelihood Detector Introduction"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Introduction.html#design-overview",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Introduction.html#design-overview",
    "title": "Likelihood Detector Introduction",
    "section": "Design Overview",
    "text": "Design Overview\nThe Likelihood Detector allows for the custom configuration of one or more target profiles. Each target profile configuration allows the operator to specifiy a series of parameters that identify the characteristics of the signal to be detected.\n\n\n\n\n\n\n\n\n\nFor each target configuration, the Likelihood module will create a processing stream composed of various processes which carry out the detection procedure. There is no limit to the number of target configurations that may be prepared, however additional hardware and software performance will be consumed for each processing stream.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Likelihood Detector Introduction"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Introduction.html#data-flow",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_Introduction.html#data-flow",
    "title": "Likelihood Detector Introduction",
    "section": "Data Flow",
    "text": "Data Flow\nThe data flow begins with an audio data source (i.e., a Sound Acquisition module), and the Likelihood Detection Module requires an audio data source to be configured in order to operate. From there, raw audio data goes through several stages of processing, each with its dedicated process, before the processing stream emits detections. The stages are as follows:\n\nFFT Processing\nWhen a target configuration is created, the first thing the Likelihood Detection Module does is calculate the actual FFT parameters required based on the operator’s suggestions for the frequency and time resolutions and the audio data source’s parameters. The module will then seek an existing FFT data block within the PAMGuard system that has those parameters and is also for the same configured audio source. If a matching FFT process is not located, an FFT process is automatically created within the Likelihood Detection Module, and becomes the first step in the processing stream for the target configuration. The output of this stage of processing is a standard PAMGuard FFT data block (i.e., RecyclingDataBlock&#60FFTDataUnit&#62).\nLinear Average Spectra Processing\nThis process computes the average band energy for all of a target configuration’s bands by averaging the FFT magnitude between the start and end frequencies for that band. The output of this stage of processing is a PamDataBlock&#60AverageSpectraDataUnit&#62.\nSpectral ETI Processing\nThis process computes the average band energy for all of the bands in a target configuration by averaging the FFT magnitude between the minimum (start) and maximum (end) frequencies for the bands. The output of this stage of processing is a PamDataBlock&#60SpectralEtiDataUnit&#62.\nNormalization Processing\nThe normalizer process computes a signal and noise window estimate based on the configured normalization algorithm (i.e., either decaying average or block average) and the configured signal and window lengths. The output of this stage of processing is a PamDataBlock&#60NormalizedDataUnit&#62.\nThreshold Detection Processing\nThe detection process computes the actual likelihood ration test (LRT) portion of the detection process. This algorithm does two tests: first, for any given signal band, if the likelihood ration is greater than the user defined threshold, then a detection may be present. Second, if defined, and there may be a detection present, the detector divides the signal estimate of the signal-band by the average signal estimate af all of the associated guard bands. If that ratio is greater than the user-defined threshold, then a detection results. The output of this stage of processing is zero to many ThresholdDetectorDataUnit, which is an extension of the standard PAMGuard PamDetection&#60&#62 class.\n\n\n\n\n\n\n\n\n\n\nNext: Adding a New Likelihood Detector Module",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Likelihood Detector Introduction"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_NewModule.html",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_NewModule.html",
    "title": "Adding a new Likelihood Detector",
    "section": "",
    "text": "To add a new Likelihood detection module to PAMGuard, select the File-&gt;Add Modules&gt;Detectors-&gt;Likelihood Detector menu item. The Likelihood detector requires an audio data source, so if there is not a Sound Acquisition module available, the Likelihood module will prompt you with a dialog box to create one.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Adding a new Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_NewModule.html#audio-source-configuration",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_NewModule.html#audio-source-configuration",
    "title": "Adding a new Likelihood Detector",
    "section": "Audio Source Configuration",
    "text": "Audio Source Configuration\nRegardless of whether you have just added a new Sound Acquisition module or are using an existing one, you should be sure that the module is configured correctly by selecting the appropriate source and its sampling parameters.\nFor more information on configuring an audio source, see the Adding a Sound Acquisition Module section.",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Adding a new Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_NewModule.html#hydrophone-array-configuration",
    "href": "detectors/likelihoodDetectionModuleHelp/docs/LikelihoodDetector_NewModule.html#hydrophone-array-configuration",
    "title": "Adding a new Likelihood Detector",
    "section": "Hydrophone Array Configuration",
    "text": "Hydrophone Array Configuration\nIn addition to verifying the audio data source and its sampling characteristics, it is necessary to examine the hydrophone array configuration to make sure that it matches the audio recording methods used to gather the raw data delivered via the Sound Acquisition module.\nTo do this, select the “File-&gt;Hydrophone array...” menu option, pictured below.\n\n\n\n\n\n\n\n\n\nThis will bring up the large hydrophone array configuration dialog that is part of PAMGuard. Explanation of how to use this dialog is outside the scope of the Likelihood detector module help, however it will be necessary to verify that the correct number of hydrophones (i.e. channels) are represented and that their characteristics are represented correctly.\n\n\n\n\n\n\n\n\n\n\nNext: Configuring the Likelihood Detector\nPrevious: Likelihood Detector Introduction",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Likelihood Detector ",
      "Adding a new Likelihood Detector"
    ]
  },
  {
    "objectID": "detectors/likelihoodDetectionModuleHelp/LikelihoodDetector_helpIndex.html#welcome-to-a-new-help-project",
    "href": "detectors/likelihoodDetectionModuleHelp/LikelihoodDetector_helpIndex.html#welcome-to-a-new-help-project",
    "title": "Welcome to a new Help Project",
    "section": "Welcome to a new Help Project",
    "text": "Welcome to a new Help Project\n\nGeneral Remark\n\n\n\n\n\n\nThis is a default welcome page that is displayed when you open your helpset in the viewer without specifying a target. Change it according to your needs. If you do not like this template, you can also edit the file %INSTALLDIR%/templates/index.html. Now you can create your HTML content files. Put them in subdirectories of your project directory."
  },
  {
    "objectID": "detectors/rwedge/docs/rweconfig.html",
    "href": "detectors/rwedge/docs/rweconfig.html",
    "title": "Configuration",
    "section": "",
    "text": "The detector was designed to process data sampled at 2kHz, and then pre-processed with an FFT with length 256 samples, with a 50% (128 sample) overlap. If your data were not collected at 2kHz sample rate, then use a Decimator module to adjust the data sample rate.\n\nConfigure the FFT\nThe ratio of the FFT length to the sample rate is important, since it sets the time and frequency resolution of the spectrogram image that feeds the detector. A sample rate of 2kHz these FFT settings give a frequency resolution of 7.8Hz and a time step of 64ms, which is ideal for detecting Right Whale upsweeps that are typically between 100 and 200Hz, and have a duration of 0.5 to 1.0s.\n\nNoise Removal\nThe FFT module has several options for noise reduction. The Right Whale Edge Detector uses just one of these: the Gaussian Smoothing Kernel. It doesn’t matter whether this is enabled or not in the FFT module since the Right Whale Edge Detector will check if it’s been run on the data, and implement it anyway if it hasn’t.\n\n\n\nConfigure the detector\nOnce you’ve correctly configured the FFF open the Right Whale dialog from the Settings menu\n \n\nData Source\nSelect the correct FFT data source (you may have more than one) and which channels of data you want to process. These will be processed independently of one another.\n\n\nParameters\nGenerally the start and end frequencies for the search can be left at 0 and 1000 Hz, though you can set them a bit differently if you’ve interfering noise sources at very high or low frequencies.\nThreshold is the threshold in dB above which sounds are detected. The defaults is 6dB.\nApply down threshold modifies the search algorithm from Gillespie 2004 slightly so that the outline of the sound is determined as the point where it drops the threhsold number of dB below the sounds maximum, rather than taking the outline of the sound as any data threshold dB above the background.\nMin Sound Type is a quality flag to determine how “right whale like” a sound must be before it is recorded that can have a value between 1 and 12. Generally, only sounds with a sound type greater than 9 are likely to be from right whales, though you might want to record lower quality sounds to check manually.\nPrevious: Overview\nNext: Displays",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Right Whale Edge Detector ",
      "Configuration"
    ]
  },
  {
    "objectID": "detectors/rwedge/docs/rwedisplays.html",
    "href": "detectors/rwedge/docs/rwedisplays.html",
    "title": "Displays",
    "section": "",
    "text": "Detected sounds can be shown as overlays on the Spectrogram display, the Map, and the FX time display.\nYou could also hook the detector output up to the Clip Generator and the Bearing Calculator.\nPrevious: Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Right Whale Edge Detector ",
      "Displays"
    ]
  },
  {
    "objectID": "detectors/whistleDetectorHelp/docs/whistleDetector_Creating.html",
    "href": "detectors/whistleDetectorHelp/docs/whistleDetector_Creating.html",
    "title": "Creating a Whistle Detector",
    "section": "",
    "text": "From either the File&gt;Add Modules menu or the popup menu on the PAMGuard data model view, select new Whistle Detector\nYou will be prompted to enter a name for the new Whistle Detector.\nPrevious: Overview\nNext: Configuring the whistle detector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle Detector ",
      "Creating a Whistle Detector"
    ]
  },
  {
    "objectID": "detectors/whistleDetectorHelp/docs/whistleDetector_Overview.html",
    "href": "detectors/whistleDetectorHelp/docs/whistleDetector_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "**\nNote that the Whistle detector has now been replaced by the new\nWhistle and Moan detector\nand may be removed altogether from future PAMGuard releases\n**\nThe Whistle detector finds odontocetes whistles by searching a spectrogram for ‘ridges’ of higher intensity sounds.\nWhistle detection is a multi stage process:\n\nBackground noise measurement and Peak detection\nFirst a measure of background noise is made independently for each frequency in the spectrogram. The spectrogram data are then compared to the noise level and areas of the spectrogram that exceed the background noise level by the detection threshold are selected. For each time partition of spectrogram data, ‘Peaks’ are then generated by looking for adjacent frequency bins that are over threshold. Peaks are only generated if the number of adjacent frequency bins exceeding the threshold is between two specified limits to avoid noise spikes( when very few adjacent bins above threshold) and broad band sounds (when many adjacent bins above threshold). In addition, if a large percentage of all the frequency bins in a time partition are above threshold, no peaks are generated. (Again this is indicative of broad band sounds such as clicks).\n\n\nLinking\nDetected peaks are then joined together. The joining process takes account of the frequency gradient, the rate of change of the frequency gradient and the rate of change of amplitude between peaks in successive time partitions and requires these to be values that are typical of odontocete whistles.\n\n\nWhistles\nOnce a time frequency contour is completed, it is classified as a whistle if it exceeds a minimum length. (In fact these are usually fractions of whistles.)\nFuture releases of PAMGuard will contain more sophisticated classification systems to determine species.\n\n\nWhistle Event\nA Whistle Event occurs when the rate at which whistles are produces exceeds a specified minimum value. Since there is generally a low rate of false detection of individual whistles, and since encounters with most whistling species result in a high rate of whistle detection, whistle events are often a more useful indicator of the presence of animals than individual whistles.\n\n\nWhistle Localisation\nIf whistles are being detected on two or more pairs of hydrophones, then should whistles be detected simultaneously on multiple pairs (overlapping in time and frequency) the bearings from each hydrophone pair are automatically crossed to produce a location for the whistle source (subject to left-right ambiguity).\nNext: Creating a new whistle detector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle Detector ",
      "Overview"
    ]
  },
  {
    "objectID": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigConnect.html",
    "href": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigConnect.html",
    "title": "Connected Region Search",
    "section": "",
    "text": "Once the threshold has been applied to the spectrogram data in the noise removal stage, the Whistle and Moan detector searches for connected regions in the spectrogram matrix.\n\n\nMin Frequency and Max Frequency\nUsually, you will want the Whistle and Moan detector to search the whole range of available frequencies, from 0 Hz to half the sample rate. However, these parameters give you the opportunity to limit the connected region search to a specific frequency band. This can be particularly useful if your data are contaminated by a lot of noise at a particular frequency.\n\n\nConnection Type\nWhen searching for connected regions, two main connection types are available.\nConnect 4 tries to connect each pixel to other pixels directly above, below, to the left or to the right (i.e. 4 possible connections).\nConnect 8 tries to connect to the sides and on the diagonals (i.e. 8 possible connections).\nClearly connect 8 will detect more whistles and can also detect whistles sweeping more rapidly, however connect 8 may also be prone to a higher rate of false alarm if it connects things which shouldn’t be connected.\n\n\nMinimum length and Minimum total size\nThere will always be a small number of random spectrogram pixels which are above threshold but are not part of a whistle or tone. Generally (hopefully !) these will few in number and the chances of them connecting to other random pixels to make a large connected region will be small.\nAll connected regions which are shorter than the minimum length, or have fewer pixels than the minimum total size will be discarded.\nPrevious: Configure the noise removal\nNext: Configure region branching",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle and Moan Detector ",
      "Connected Region Search"
    ]
  },
  {
    "objectID": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigNoise.html",
    "href": "detectors/whistleMoanHelp/docs/whistleMoan_ConfigNoise.html",
    "title": "Noise Removal and Thresholding",
    "section": "",
    "text": "Noise removal and thresholding is one of the most important steps in the operation of the Whistle and Moan detector.\nNoise removal and thresholding is a five stage process. The first stage has to occur before FFT data are calculated in the FFT (Spectrogram) Engine. The remaining four stages can take place either in the FFT (Spectrogram) Engine module or in the Whistle and Moan detector.\nPerforming the noise removal in the FFT (Spectrogram) Engine module has the advantage that other PAMGuard processes and displays will have access to the data\nThe Whistle and Moan detector will try to ensure that the correct noise removal processes are run once and only once but looking back at the FFT data source and testing whether noise removal has already been done.\nNoise removal processes which have already been conducted in an earlier module cannot be repeated. However, the Whistle and Moan detector cannot check, and has no control over the configuration of noise removal processes conducted in earlier modules.\nGenerally, you should use the default settings\nClick Removal\nMedian Filter\nAverage Subtraction\nGaussian Kernel Smoothing\nThresholding\n\nClick Removal\nThis stage of the noise removal has to take place on the raw data prior to the calculation of the spectrogram. It is therefore carried out by the FFT (Spectrogram) Engine.\nThe click removal method operates on the time series data prior to the FFT calculation and therefore affects both output streams of the FFT Engine.\nClick removal measures the standard deviation of the time series data and then multiplies the signal by a factor which increases rapidly for large signal components. This has the effect of reducing the magnitude of short duration transient signals such as echolocation clicks\n\nOther noise removal stages can be controlled from either the Whistle and Moan detector dialog or from the FFT (Spectrogram) Engine\n\n\n\nMedian Filter\nWithin each spectrogram slice, the median value about each point is taken and subtracted from that point.\n\n\nAverage Subtraction\nA decaying average spectrogram is computed and subtracted from the current spectrogram value.\n\n\nGaussian Kernel Smoothing\nThe spectrogram is smoothed by convolving the image with a Gaussian smoothing kernel\n1 2 1\n2 4 2\n1 2 1.\n\n\nThresholding\nA threshold is applied and all data falling below that threshold set to 0.\nAlthough the Connected Region Search uses only a binary map of parts of the spectrogram which are above or below threshold it is generally more useful to output the input from the raw FFT data which will have been multiplied by the binary map. This will contain phase and amplitude information which can be used by the Whistle and Moan detector for measuring time delays between channels and the overall whistle amplitude.\nPrevious: Configure channel grouping\nNext: Configure the region connector",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle and Moan Detector ",
      "Noise Removal and Thresholding"
    ]
  },
  {
    "objectID": "detectors/whistleMoanHelp/docs/whistleMoan_Configure.html",
    "href": "detectors/whistleMoanHelp/docs/whistleMoan_Configure.html",
    "title": "Configuration",
    "section": "",
    "text": "From the Detection menu select Whistle and Moan Detector and the following dialog will appear.\n\nThe dialog contains two tabs, the first controls the Data source, Channel Grouping and How sounds are connected. The second tab controls Noise removal and thresholding.\nPrevious: Whistle and Moan Detector Overview\nNext: Configure the data source",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Whistle and Moan Detector ",
      "Configuration"
    ]
  },
  {
    "objectID": "displays/dataselect/docs/dataselection.html",
    "href": "displays/dataselect/docs/dataselection.html",
    "title": "Data Selectors",
    "section": "",
    "text": "The layout of a data selector and the options available will depend on which PAMGuard module the data relate to and also on how that module is being used with other modules.\nTwo examples are shown below:\nOn the left is the data selector for the click detector. The options in each of the two main panels depend on which click classifiers have been configured and which species labels have been defined for click events.\nOn the right is a data selector for a clip generator. The clip generator, on it’s own, does not have an data selection options, however the clips in this configuration are being annotated by a right whale classifier, which does have a data selector. They can also be selected and added to a Detection Group localiser, and the Detection Group Localiser has also been configured so that the groups can be annotated with a logger form which has a drop down list (“LOOKUP”) data entry control called “Species”, so a set of options to select the different species defined in that data entry control is automatically included. Because there is more than one type of data selector for the clips, additional options have been generates so that individual sections can be skipped or combined together with a logical AND or OR.\n \nBack to overview",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Data Selection ",
      "Data Selectors"
    ]
  },
  {
    "objectID": "displays/dataselect/docs/symbolchoice.html",
    "href": "displays/dataselect/docs/symbolchoice.html",
    "title": "Symbol Choosers",
    "section": "",
    "text": "There are lots of reasons to change the colour and shape of a symbol in PAMGuard. For example, if you’re displaying clicks, you might want to display them according to the type of click, the channel they are detected on, or their grouping into click trains or ‘Events’. On the other hand, if you’re plotting them on a map along with other data, you may want them all the same colour, using a different colour for other types of data.\nThree things can be changed for a symbol, although not all of them apply on all displays, so some options might be available which aren’t actually used. These are:\n\nThe fill colour of the symbol.\nThe line colour of the symbol.\nThe symbol shape.\n\nFor each symbol chooser, you can select a default symbol for the display. This is then modified by a series of ‘symbol modifiers’. The types of modifiers available will depend on the PAMGuard module and it’s connections to other modules.\nSymbol modifiers are processed in order, so you can select ‘line colour’ in more than one modifier, but that last modifier in the list which has valid data with prevail\nYou can change the order of the modifiers by right clicking with the mouse and selecting ‘Move Earlier’ or ‘Move Later’. Some will also have additional options, which are accessed from the same popup menu.\n \nBack to overview",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Data Selection ",
      "Symbol Choosers"
    ]
  },
  {
    "objectID": "displays/LevelMeters/Docs/LevelMeters.html",
    "href": "displays/LevelMeters/Docs/LevelMeters.html",
    "title": "Level Meters",
    "section": "",
    "text": "This module displays level meters for the audio signals in the side panel of the main PAMGuard GUI.\nThis can be useful in diagnosing that all input channels are active and that none are saturating.\n\nCreating the module\nFrom the File&gt;Add modules&gt;Displays menu, or from the pop-up menu on the data model display select “Level Meters”. Enter a name for the new module and press Ok.\n\n\nConfiguring the module\nTo configure the module, open the settings dialog from the Detection&gt;“your module name” menu:\n\nIn the dialog select the sound source (generally the sound acquisition module, but you could connect to the output of some other process such as a filter or decimator).\nYou can also chose whether to display levels as peak, or RMS. Peak is better for diagnosing saturation problems.\nIt’s also possible to select to display the data relative to full scale of the input device, in volts (input to the acquisition module) or in micropascals.\nThe level meters will show as a small display in the PAMGuard side panel.\n\nYou can adjust the position of the display in the side panel which can be done by changing the order of the modules from the File&gt;Module Ordering menu command.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "Level Meters ",
      "Level Meters"
    ]
  },
  {
    "objectID": "displays/radarDisplayHelp/docs/UserDisplay_Radar.html",
    "href": "displays/radarDisplayHelp/docs/UserDisplay_Radar.html",
    "title": "Overview",
    "section": "",
    "text": "Radar display windows can be used to display range and bearing information to detected sounds. Alternatively, when range information is not available, amplitude information can be displayed on the radial axis as a proxy for range. On a radar display the centre of the display is the midpoint of the array from which bearings are being calculated.\nSince many detectors, particularly those using simple linear hydrophones, produce ambiguous bearing information, it is possible to display either the full display or only one half of the display.\n\nExamples of radar displays\n\n\n\nRadar examples\n\n\n\n\nCreating a radar display\nNext: Creating a Radar Display",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Radar Display ",
      "Overview"
    ]
  },
  {
    "objectID": "displays/radarDisplayHelp/docs/UserDisplay_Radar_Creating.html",
    "href": "displays/radarDisplayHelp/docs/UserDisplay_Radar_Creating.html",
    "title": "Creating a Radar Display",
    "section": "",
    "text": "First you must have created an instance of a User Display Panel\nFrom the User Display menu select _User Display&gt;New Radar displa_y?\nA Radar Display Parameters dialog will open allowing you to select the type of radar display.\nClick Ok and the radar display will be added to the user display panel.\nPrevious: Radar Display\nNext: Configuring a radar display",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Radar Display ",
      "Creating  a Radar Display"
    ]
  },
  {
    "objectID": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram_Configuring.html",
    "href": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram_Configuring.html",
    "title": "Configuring a Spectrogram Display",
    "section": "",
    "text": "Spectrogram display options are specified when the display is first created; in addition, they can be adjusted at any time using the popup menu accessed by right clicking on the spectrogram plot and selecting &gt;Settings…\nThe Spectrogram Display Parameters Dialog has four tabs:\n\nData Source Tab\n\n\n\nSpectrogram data source tab\n\n\nSelect the desired FFT Data source. The spectrogram display requires a source of FFT data which will generally come from a FFT (Spectrogram) Engine PAMGuard module. The time and frequency resolution of the spectrogram display are controlled by how you’ve set up the FFT Engine. The FFT length and hop are very important, and can affect how easy it is to see sounds on your spectrogram display.\nEach spectrogram window can have any number of separate spectrogram panels which will share the top section of the display. All display panels will use data from the same FFT data source, but any combination of channels from that data source is permitted.\nFor example, you may want to display each channel of data in a separate panel, so that all data on all channels can be viewed. On the other hand, you may want to display the same channel of data multiple times and overlay different detector data on each panel.\nFirst set the number of panels required. The appropriate number of drop down lists, each offering a list of available channels will then change to reflect the number of panels.\n\n\nScales Tab\n\n\n\nSpectrogram scales tab\n\n\nSet the Frequency Range; for the vertical axis. The default buttons will set these to range between 0 and to half the sampling frequency of the selected data source.\nSet the Amplitude Rang;. For for a greyscale display min will be the amplitude value coding for white and the maximum will be the value coding for black.\nSet the Time Range; this can either specify the number of pixels to display each bin of FFT data, or the length of time for the whole display (which may lead to a varying number of FFT partitions being displayed on each screen pixel).\nA fixed number of pixels per FFT is the most efficient setting.\n\n\nPlug ins Tab\n\n\n\nSpectrogram plug ins tab\n\n\nSelect he plug in display panels for the bottom section of the spectrogram window. The list of available plug-ins will depend on which detectors are available in the current PAMGuard configuration.\n\n\nMark Observers Tab\n\n\n\nSpectrogram mark observers tab\n\n\nMark Observers are PAMGuard modules that receive information from the computer mouse when it is dragged across the Spectrogram display. The list of mark observers will depend on which modules are available in the current PAMGuard configuration. Tick the check box for any modules that you wish to receive mouse movement information.\nIf one or more Mark Observers are selected, a red rectangle will appear on the spectrogram display panels when you press and drag the mouse across them. See the help documentation for the individual mark observers to see how they will use this information.\nPrevious: Creating a spectrogram display\nNext: Spectrogram graphic overlays",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Spectrogram Display ",
      "Configuring a Spectrogram Display"
    ]
  },
  {
    "objectID": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram_Overlays.html",
    "href": "displays/spectrogramDisplayHelp/docs/UserDisplay_Spectrogram_Overlays.html",
    "title": "Spectrogram Display Overlays",
    "section": "",
    "text": "The pop-up menu on each spectrogram panel gives access to a list of detector data that can be overlain on top of the spectrogram.\nThe list of graphic overlays will depend on which detectors are available in the current PAMGuard configuration. The overlays can be set individually for each panel.\nPrevious: Configuring the spectrogram display",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Spectrogram Display ",
      "Spectrogram Display Overlays"
    ]
  },
  {
    "objectID": "displays/userDisplayHelp/docs/userDisplayPanel.html",
    "href": "displays/userDisplayHelp/docs/userDisplayPanel.html",
    "title": "Overview",
    "section": "",
    "text": "User display panels are containers for other types of display window.\nEach User Display panel will appear as a new tab on the PAMGuard GUI and can contain multiple display windows.\n\n\n\nScroller coupling dialog\n\n\nCurrently supported standard display windows that can be incorporated into a display panel are:\nSpectrogram displays\n‘Radar’ displays\nMaps\nTime based displays\nSeveral other PAMGuard modules may also create display windows which can be shown in a user display panel. The display menu will automatically show these additional displays when they are available.\n\nCreating an instance of the user display\nFrom the File&gt;Add module menu, or from the pop-up menu on the data model display select “User Display Panel”. Enter a name for the new display panel (e.g. spectrograms, Ishmael data, etc) and press Ok.\n\n\nAdding display windows to the user display\nTo add display windows to the user display, from the User Display menu select either New Spectrogram?, New Radar Display? etc.\n\n\nWindow Layout\nIndividual display windows may be dragged and resized in the normal way. Alternatively, you may use the options in the User Display&gt;Arrange Windows sub menu.\nThe positions of windows will be remembered when you exit PAMGuard.\n\n\nScroller Coupling\nMany display components, such as spectrograms, the map and time based displays contain a scroller which can be used to move back and forth through data, particularly when using PAMGuard Viewer mode to review previously analysed data.\nRules for scroller coupling are set from the User Display / Scroller Coupling menu:\n\n\n\nScroller coupling dialog\n\n\nNo Coupling: Scrollers will not be coupled and can be moved independently.\nCouple scroller starts: Start times of scrollers will follow each other.\nCouple scroller middles: Middle / centre times of scrollers will follow each other.\nCouple scroller range: Scrollers will maintain overlap, but more more independently.",
    "crumbs": [
      "PAMGuard Website",
      "Displays ",
      "User Display Panel ",
      "Overview"
    ]
  },
  {
    "objectID": "docs/batchconfiguration_v.html",
    "href": "docs/batchconfiguration_v.html",
    "title": "Configure Offline Tasks",
    "section": "",
    "text": "Whether you are planning to run jobs in Normal Mode to process raw data, or whether you plan to use Viewer Mode to run tasks on processed data, the Batch Processor module always runs in Normal Mode.\nTo configure the batch processor, start PAMGuard in normal mode with a new / blank configuration and add two modules: a database and the batch processor module.\nNo other modules should be added to the configuration, except perhaps a User Input module which would allow you to make notes about what you’ve been doing with the batch processor.\nOn no account should you add any Sound Processing, or Detection, Classification, or Localisation modules.\n\nSelect Operation Mode\nIn the top left “Job Control” panel select “Offline tasks (viewer mode)” from the drop-down menu. When you change this selection you’ll notice that the display panels below change slightly reflecting the different available options for the offlie tasks operation mode.\nOnce you’ve selected a psfx file that contains offline tasks and setup some jobs, the display should now look something like the image below.\n\n\n\nViewer Task Configuration\nConfiguring offline tasks, such as re-running click classification, for Viewer mode is a bit more complicated than for the normal mode data processing. This is because each Viewer database already contains a copy of the configuration and the multiple databases and accompanying binary data may all have different configurations.\nTo address this, as with the normal mode processing, you’ll use a psfx file to hold a master configuration for the tasks you want to run. As each task runs, the batch processor will check the configuration in the dataset about to be processed and will do its best to ensure that the configuration for the dataset is compatible with the task to run.\nThe most common thing to do, is to work with one of your datasets in Viewer mode to get tasks set up in the way that you want them, then extract the configuration from that viewer database into a psfx file to use with the batch processor. See below to see how to make additional changes to tasks from within the batch processor display.\nDon’t worry about which folder of sound files, database, and binary store are set in the configuration. These will all be overwritten with new values for each job when it runs.\nBefore it starts a job, PAMGuard will:\n\nIf the PAMGuard module required for the task is not present, the module will be added to each datasets configuration.\nThe configuration settings for that module will all be copied over from the psfx configuration irrespective of whether the module was already present, or if it was just added.\nThe configuration of other modules in each dataset will not be altered.\n\nIf the configurations differ considerably, there is no guarantee that the offline tasks will run correctly. For example if you were starting with two similar configurations, both of which had a click detector, but one was called “Click Detector” and the other configuration had called it “HF Click Detector” you’ll not be able to use the same batch job configuration.\n\nExtracting an existing Viewer configuration into a psfx file\nIt’s possible that you have some PAMGuard datasets, each consisting of a database and a folder of binary data, but no longer have the psfx file used to generate those datasets. There are three ways in which you can quite easily recreate the psfx file to use with the batch processor:\n\nLook in the folders of binary data. Each time PAMGuard starts it copies the psfx configuration into the first binary folder it generates. So the binary folders should contain an exact copy of the configuration used to generate that dataset.\nOpen one of your datasets in Viewer Mode, then from the file menu select the option Export Configuration … and save the configuration somewhere on your system.\nGenerate your list of jobs you’re going to run the tasks on, right click on any of the jobs in the “Job Detail table” and select the menu item Extract Configuration from database … which will allow you to save the configuration in psfx format.\n\n\n\nAdding new modules\nOffline tasks can have entirely new modules added and will process their offline tasks so long as the module would not normally work on raw input data. For instance, if you added a new Click Detector at this stage, nothing will happen because the click detector expects to process raw data. Your could however add a Click Train Detector to an existing configuration and it will search existing click detector output for click trains. Next time you open the datasets you processed with the additional detector you’ll find it’s added to the configuration and that the database has tables of detected click trains.\n\n\nTasks list\nA list of available tasks will automatically be extracted from the master psfx file and displayed in the Offline tasks table in the lower half of the display. The list will reflect tasks available in the configuration you’re working with. In this example the configuration has two click detectors, each of which has four standard tasks (click classification, echo detection, delay calculation, and bearing calculation). A Click Train Detector module, which has two offline tasks for detection and classification, is connected to the output of the Minke Pulse Detector and an Alarm module to the output of the SoundTrap Click Detector. The task panel therefore contains a total of 11 different tasks.\n\nFor each task, the table shows the PAMGuard module running the tasks, the name of the task, the input to the task and which data are modified by the task. There is also a column where you select which tasks you want to run (it probably won’t be all of them) and a button for editing settings if they are available.\n\n\nChanging task settings\nThere are two ways of changing the task settings.\n\nOpen the psfx file from the Configuration panel and change the settings there. Again remember to save the configuration or the changes will not get used.\nOn the Offline tasks table, click on the button to the right of each task “Configure Task” and the settings for that task should show in a popup dialog. Once the dialog is closed, the settings will be applied to all jobs (apart from any already running).\n\n\n\n\nProject Information (Project Metadata)\nIt is assumed that all jobs in a set will want to share the same project information (metadata). This is particularly important if you’re exporting data to a Tethys database.\nAs each job starts, the project information will be copied from the batch configuration to each job. It is therefore important that the information in the batch configuration is up to date. If, at any point, you edit this information in the external configuration, then you will be asked if you want to copy it to the batch configuration.\n\nPrevious: Normal mode configuration..\nNext: Creating Batch Jobs."
  },
  {
    "objectID": "docs/batchjobs.html",
    "href": "docs/batchjobs.html",
    "title": "Creating Jobs",
    "section": "",
    "text": "Before you start processing, you need to set up one or more “jobs”. Each job requires the name of a folder containing raw sound input data, the name of an output folder for binary data and the name of a database.\nThe information about each job is stored in a database table called Batch_processing.\n\nSetting up single jobs\nTo set up a single batch job, click on “Create Job” and a dialog will appear where you can enter the folder for source sound files, the name of the output binary folder and the name of the output database. The dialog differs slightly depending on whether you are setting up normal mode jobs or offline tasks. When setting up normal jobs, you start with sound files and tell the batch processor where to create the output binary files and database, whereas when you set up offline tasks, you’re starting with an existing PAMGuard database which should already ‘know’ where the binary files are.\n\n\n\n\n\n\n\n\n\n\n\n\n\nDialog for creating jobs in normal mode\nDialog for creating jobs for offline tasks\n\n\n\n\n\nSetting up multiple jobs (normal mode)\nIf all of your raw data are in multiple folders on the same hard drive, then it’s easy to set up multiple jobs at once. Click the “Create Set” button and select the folder that contains sub folders for each set of data. The files within the sub folders will be searched for sound files to see how many jobs to create. Then select a root folder for databases and a root folder for binary file output. The jobs will then be automatically created with output binary folder names and database names based on the names of the sub folders containing the raw data. For example, if you had data from six deployments named “Deploy1” … “Deploy6” all in a folder D:/BatchDataSample/raw as shown in the figure below, then simply set the source folder to D:/BatchDataSample/raw and the program will find the six sub folders.\n \nThen select output folders for the binary data and for the databases, which need not be in the same root, but could be anywhere else on your system (e.g. the raw data may be on a server or external hard drive but you write the outputs to your local C drive)\nOnce you close the dialog, all six jobs will be created and will appear in the jobs table.\n \nNote that nothing will appear yet in the selected output folder. Binary output folders and databases will be created when each job runs. After all six jobs were complete the output folder looked like this, containing six folders of binary data and six databases:\n\n\nCalibration Data\nEven if you’ve deployed near identical instruments, you may have slightly different calibration data for each one, or perhaps hydrophone spacing changed slightly in towed arrays used in different years. To make changes to the hydrophone configuration for each job, right click on the row in the jobs table and select “Add job specific calibration / array data” from the menu. This will open the hydrophone array dialog, where you can update values for hydrophone calibrations and for their exact positions. This will be used to update the configuration for each job just before it runs.\n\n\n\nSetting up jobs for offline tasks\nThis is very similar to setting up jobs for normal operation, but instead of selecting a folder containing folders of sound files, you’ll select a folder containing multiple PAMGuard databases.\n\nThe selected folder will be searched for databases (ignoring the one used for the batch processor configuration if it happens to be in the same folder). Details of binary file locations and sound file locations will be automatically extracted from the databases. Note though that these may not be correct if date have moved (e.g. on external hard drives), so you may need to edit the individual jobs once created.\nMost offline tasks don’t require raw audio data and will be working only on the existing detections, so it’s often not a problem if the raw audio is not available.\n\n\nEditing jobs\nIndividual jobs can be edited by right clicking on a line in the main jobs table.\n\n\nDeleting Jobs\nCreated jobs will all appear in the main table in the lower half of the display. You can delete a job by right clicking on it and selecting “Delete Job” from the dropdown menu.\nIf you want to delete multiple jobs, it’s sometimes easier to close PAMGuard and delete jobs from the BatchJobs table.\n\n\nCheating\nSometimes, the job creation functions aren’t quite what you need, or only partially does the job. For example, what if you’re setting up jobs for processing offline tasks, and the binary data locations extracted from your set of databases are no no longer valid due to an external hard drive change ? You can edit each job individually by right clicking on each job on the display, which is OK if there are only a few of them, but if there are many dozens, for instance from a large deployment of autonomous recorders, you might want to change the file locations directly in the batch processor database.\nPAMGuard will have locked access to the database, so close PAMGuard, then alter the table “Batch_Processing”. You can do this manually, but you might also write a script in R or Matlab to alter the data for you. If adding new records, rather than just changing existing ones, make sure that their Id and UID are unique, and as a minimum, fill out the columns Id, UID, UTC (it doesn’t really matter what you put, so long as it’s a valid date time), Source (not strictly necessary for offline tasks), Binary, and Database.\nOne thing you can’t change in this way is the Array Data for each job. That’s because this bit of data is a stored (serialized) Java object which can only be read from Java when the correct PAMGuard array class definitions are available. It’s not impossible to automate changing these, but is more difficult. In short, you’ll need to write your own PAMGuard plugin module which has access to the PAMGuard classes, and therefore ‘knows’ what data it wants to enter for the hydrophone data, and can write those objects directly the to the database. If you think you need to do this please contact PAMGuard support.\nPrevious: Configuring the batch processor.\nNext: Running batch jobs."
  },
  {
    "objectID": "docs/batchrun.html",
    "href": "docs/batchrun.html",
    "title": "Running",
    "section": "",
    "text": "Modern computers have multiple processor cores, allowing them to perform several tasks simultaneously. For example, my desktop has 12 and my laptop 10. PAMGuard is designed so that each module will run semi-independently on a different core, but it’s really only the detectors and some of the sound processing modules that use much power. So depending on the complexity of your PAMGuard configuration, it’s unlikely that it will be using all of the power of all of the cores. Therefore you can usually run several instances of PAMGuard simultaneously, without any of them slowing down. However, if you add too many, then things will slow down overall, and you’re system may run out of memory.\nHow many PAMGuard’s can run concurrently depends on the complexity of your configuration and the power of your machine. Generally though, I find that I can run three or four PAMGuards at once before the system starts to become slow, or even unstable.\nThe default number of concurrent jobs in the batch processor module is 3. You can change this at any time by right clicking on the single line in the processor table.\n\nYou can increase or decrease the number of jobs at any time. If you increase it while the processes are running, then another process will launch after a few seconds. If you decrease it, not jobs will stop, but when the next one finished, another will not start until the total number running drops below the new selected maximum.\n\nStarting\nOnce all your jobs are ready, press the PAMGuard start button. The set number of jobs will launch after a few seconds and start to run. When each job finishes, that instance of PAMGuard will close and the next job will launch until all jobs are complete.\nJob progress is shown in the Jobs table on the display and is regularly written to the database.\n\n\n\nStopping\nTo stop batch processing, press the PAMGuard ‘stop’ button on the Batch Processor PAMGuard. You will then probably have to also stop any other instances of PAMGuard that are still running.\nIf you start one of the running instances, then it’s likely that the Batch control system will immediately start the next job in the list.\n\n\nRerunning and data overwriting (normal mode jobs)\nYou may want to reprocess your data, for instance if you’ve made a change to the configuration, or you may have to restart, for example if there was an error or even a Windows restart over the weekend. There are several options as to how PAMGuard should behave when restarting, which can be selected from the “Incomplete Sets …” menu in the Job Control panel.\n\n\nStart normally. Note risk of overwriting!\nThis is not recommended since the database may end up with two copies of output data. Furthermore binary files, which are generally started on the hour sometimes get slightly different file names so some files (that had an identical name) will be overwritten, and others which got a slightly different name won’t be.\n\n\nContinue from start of last input file processed\nThis is a sensible option to select if processing stopped for some reason half way through a bit dataset. PAMGuard will go to the start of the input file and attempt to delete any existing data from the existing binary files and database which come after that time before starting from where it left off.\n\n\nContinue from start of next input file to process\nThis is similar to the previous options, but might leave a gap in your data. It can be useful if there is one “problem file” that you’re prepared to give up on.\n\n\nDon’t start processing\nDon’t start if there are any existing data.\n\n\nOverwrite all existing output data\nAs it says, all existing data will be deleted for each job before processing starts. This is the most sensible option to select if you’ve changed your configuration and want to reprocess from scratch.\n\n\n\nOffline tasks\nIf running offline tasks, the selected jobs will run on each entire dataset.\nPrevious: Creating Batch Jobs."
  },
  {
    "objectID": "localisation/bearingLocaliser/docs/BL_AlgoConfig.html",
    "href": "localisation/bearingLocaliser/docs/BL_AlgoConfig.html",
    "title": "Bearing Calculator Algorithm Configuration",
    "section": "",
    "text": "Algorithm Dialog Tabs\nThe Basic Frequency Domain beamformer, MVDR Beamformer and TOAD Algorithms all have similar user-configurable options to generate Beamograms. Unlike the Beamformer module, the user cannot configure individual beams with the Bearing Calculator.\n\n\nConfiguring the Basic Frequency Domain and MVDR beamformers\nA beamogram can be used to sweep an entire area. The resultant output is a ‘heat-map’ of the amplitude of the signal versus primary angle, secondary angle or frequency. The output can be shown on a User Display tab by selecting New Bearing Calculator Display.\n\n\nArray Information: The type of array as defined by the channels in this group. Valid angle ranges are given in the appropriate sections below. There are three possible array types: Linear, Planar and Volumetric.\n\nLinear arrays position all the hydrophones in a single line (1-dimensional). This type of array has both left/right and up/down ambiguity. The primary angle is defined in the direction of the main array axis (Y-axis, as given in the Array Manager) and is valid from 0� (positive Y) to 180� (negative Y). The secondary angle is undefined.\nPlanar arrays position the hydrophones in two different axes (2-dimensional). This type of array resolves one of the ambiguities of the linear array, but not the other. For example, a planar array with both axis in the horizontal plane (X and Y) would be able to distinguish between left and right of the array, but not above or below. In that case the primary angle is defined relative to the main axis (positive Y) and valid from -180� to 180�. The secondary angle is measured perpendicular to the plane, and valid from 0� (in the same plane) to 90� (directly above/below).\nVolumetric arrays position the hydrophones in all three axes (3-dimensional). This type of array has no ambiguity. The primary angle is defined relative to the main axis (positive Y) and valid from -180� to 180�. The secondary angle is defined relative to the perpendicular axis (positive Z) and valid from -90� to 90�.\n\nCheckbox indicating whether or not to calculate the beamogram.\nPrimary angle parameters: the minimum, maximum and step size to use when sweeping the primary angle. The direction and valid range of the primary angle depends on the type of array (see above for details).\nSecondary angle parameters: the minimum, maximum and step size to use when sweeping the secondary angle. The direction and valid range of the secondary angle depends on the type of array (see above for details).\nThe Frequency range: in order to speed up the calculations and prevent memory overflow problems, it is recommended that the frequency range over which the beamogram is calculated be limited to the frequencies containing the signals of interest.\n\n\n\nConfiguring the TOAD Algorithm\nThe TOAD algorithm uses the same primary and secondary angle parameters as the beamformer, but does not require a frequency range.\n\n\nArray Information: The type of array as defined by the channels in this group. Valid angle ranges are given in the appropriate sections below. There are three possible array types: Linear, Planar and Volumetric.\n\nLinear arrays position all the hydrophones in a single line (1-dimensional). This type of array has both left/right and up/down ambiguity. The primary angle is defined in the direction of the main array axis (Y-axis, as given in the Array Manager) and is valid from 0� (positive Y) to 180� (negative Y). The secondary angle is undefined.\nPlanar arrays position the hydrophones in two different axes (2-dimensional). This type of array resolves one of the ambiguities of the linear array, but not the other. For example, a planar array with both axis in the horizontal plane (X and Y) would be able to distinguish between left and right of the array, but not above or below. In that case the primary angle is defined relative to the main axis (positive Y) and valid from -180� to 180�. The secondary angle is measured perpendicular to the plane, and valid from 0� (in the same plane) to 90� (directly above/below).\nVolumetric arrays position the hydrophones in all three axes (3-dimensional). This type of array has no ambiguity. The primary angle is defined relative to the main axis (positive Y) and valid from -180� to 180�. The secondary angle is defined relative to the perpendicular axis (positive Z) and valid from -90� to 90�.\n\nPrimary angle parameters: the minimum, maximum and step size to use when sweeping the primary angle. The direction and valid range of the primary angle depends on the type of array (see above for details).\nSecondary angle parameters: the minimum, maximum and step size to use when sweeping the secondary angle. The direction and valid range of the secondary angle depends on the type of array (see above for details).\n\nPrevious: Bearing Calculator Settings\nNext: Bearing Calculator Output",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Bearing Calculator ",
      "Bearing Calculator Algorithm Configuration"
    ]
  },
  {
    "objectID": "localisation/bearingLocaliser/docs/BL_Overview.html",
    "href": "localisation/bearingLocaliser/docs/BL_Overview.html",
    "title": "Bearing Calculator Overview",
    "section": "",
    "text": "The bearing Localiser can be used to estimate bearings to sound sources using a number of different algorithms.\nThe type of bearing that can be estimated will depend on the shape of the hydrophone array:\nSingle hydrophones\nNo bearing calculation is possible\nLinear array of two or more hydrophones\nA single bearing is calculated relative to the axis of the array and there will be ambiguity about the array axis.\nPlanar Array\nTwo bearings are calculated relative to the plane of the array, an angle in the plane and and elevation above the plane. There will be an ambiguity across the plane (i.e. the source might be either side of it.\nVolumetric Arrays\nTwo unambiguous bearings, a horizontal angle and and elevation angle, are caclulated relative to the arrays coordinate frame.\nThe localiser is designed to work with “small” or “compact” arrays, which needs some definition. A small array is one in which the spacing of the hydrophones is less than half the length of the Fourier Transforms used in the localisation calculation. Although this can be varied in the configuration of the localiser, for clicks, it will typically be a bit longer than the longest click you’re likely to detect and for whistles, it’s likely to be 512 points for a typical configuration of the PAMGuard Whistle and Moan Detector for data sampled at 48kHz for a given Fourier Transform length, the maximum hydrophone separation is\nmax Separation = FTTLength / sampleRate * speedOfSound / 2\nThe table below shows some typical maximum hydrophone separations for common configurations\n\n\n\nSpecies\nSample Rate\nFFT Length\nMax Separation\n\n\n\n\nSperm Whale\n48 kHz\n1024\n16m\n\n\nPorpoise\n500 kHz\n512\n77cm\n\n\nDolphin Whistles\n48 kHz\n512\n8m\n\n\nBaleen Whale\n2 kHz\n256\n96m\n\n\n\nIn practice it is often better to keep hydrophone spacings to a lot less than this, for example, if clicks become too widely separated, then the Click Detector might separate them into separate detections. It is therefore generally wise to keep hydrophone separation small.\nThe bearing calculator can work with data from any detector in PAMGuard or with data marked manually on a spectrogram display.\nBoth Time Of Arrival and Beam Forming algorithms are available. Note that the Time of arrival algorithms are the same as those already built into the Click Detector so there is little point in running these a second time on Click Detector output.\nNext: Configuring the module",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Bearing Calculator ",
      "Bearing Calculator Overview"
    ]
  },
  {
    "objectID": "localisation/detectiongroup/docs/dglocaliser.html",
    "href": "localisation/detectiongroup/docs/dglocaliser.html",
    "title": "Detection Grouper",
    "section": "",
    "text": "The Detection Grouper provides methods for manually selecting and sometimes localising groups of data within PAMGuard.\nA lot of the basic functionality replicates that of the offline functions in the Click Detector, whereby groups of clicks can be linked into “Events” which then get localised using Target Motion Analysis”. The Detection Grouper extends this functionality to nearly all PAMGuard displays and to all types of data.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Detection Grouper ",
      "Detection Grouper"
    ]
  },
  {
    "objectID": "localisation/detectiongroup/docs/dglocaliser.html#creating-a-detection-grouper",
    "href": "localisation/detectiongroup/docs/dglocaliser.html#creating-a-detection-grouper",
    "title": "Detection Grouper",
    "section": "Creating a Detection Grouper",
    "text": "Creating a Detection Grouper\n\nConfiguration\nThe Detection Grouper is configured from a menu item in the main PAMGuard Settings menu. Select the menu item and a dialog box will appear with three tabs for selecting which displays send marked data to the grouper, which data from those displays are selected and finally, annotations which will be added to each Detection Group.\n\nSelecting Which displays\nThe Markers tab controls which displays send marks and data to the Detection Grouper\n\nSelect which displays you want to mark on. This may be all displays, or just some of them depending on the complexity of the PAMGuard configuration.\nDisplay markers can also be selected from the global Display Marks menu and dialog\n\n\nSelecting Which data\nSelect which types of data you wish to include when marks are sent to the Detection Grouper. Note that ANY type of data can be sent to the Detection Grouper, so consider carefully which types of data you are interested in.\n\n\nPartial Overlaps\nYou may want to select data that only partially overlap the mark you’ve made on the display. For instance, bearing lines on the map may cross at a clear point you want to mark, but extend beyond that point. Detections whos bearing lines cross the mark will only be included if the ‘partial’ check box is selected.\n\n\nData Selection\nSome types of data have additional selection options, for instance, types of identified clicks. If additional data selection options are available, then an additional symbol button  appears beside the name of each data. Click the button for data selection options and refer to the help pages for each data type for further information.\n\n\n\nAnnotations\nAnnotations are in important feature of the Detection Grouper. They allow the user to select which additional data are added to, or calculated from, the data in the selected marks\n\nA certain amount of common sense is required to select annotations compatible with the types of data you are planning to mark. For instance, if you are using the Target Motion annotation, then it will only be of use if the data you are marking have calculated bearings. Similarly, it may not be sensible to have more than one annotation that requires user input, for instance the text annotation AND the user forms annotation.\nFor more information on annotations, see Help With Annotations",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Detection Grouper ",
      "Detection Grouper"
    ]
  },
  {
    "objectID": "localisation/detectiongroup/docs/dglocaliser.html#using-the-detection-grouper",
    "href": "localisation/detectiongroup/docs/dglocaliser.html#using-the-detection-grouper",
    "title": "Detection Grouper",
    "section": "Using the Detection Grouper",
    "text": "Using the Detection Grouper\nWhen a mark is made on one of the displays associated with the Detection Grouper and at least one data unit is selected within that mark, a popup menu will appear. The exact appearance of the menu will depend on whether selected data are already contained within a mark and whether marks already exist in memory. Examples of menus are:\n\nor\n\n\nData Storage\n\n\nUser display table\nHelp With Display Marks\nHelp With Annotations",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Detection Grouper ",
      "Detection Grouper"
    ]
  },
  {
    "objectID": "localisation/difar/difarAzigram/docs/azigram.html",
    "href": "localisation/difar/difarAzigram/docs/azigram.html",
    "title": "Azigram (DIFAR Azigram Engine)",
    "section": "",
    "text": "Release notes\nThe Azigram plugin is version 0.0.1 and has been tested on PAMGuard version 2.01.03e. This plugin is BETA software. It has not been designed for efficiency, has not been thoroughly and may contain bugs. Use at your own risk.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "Azigram (DIFAR Azigram Engine)"
    ]
  },
  {
    "objectID": "localisation/difar/difarAzigram/docs/azigram.html#overview",
    "href": "localisation/difar/difarAzigram/docs/azigram.html#overview",
    "title": "Azigram (DIFAR Azigram Engine)",
    "section": "Overview",
    "text": "Overview\nIn brief, the Azigram provides a means of viewing directional information from a DIFAR sonobuoy. The Azigram displays directional information via a time-frequency-direction display. The display is similar to a spectrogram, but instead of colour representing power, it represents the angle of arrival with the maximum intensity at each time-frequency cell.\nSpecifically, this plugin implements the Azigram algorithm as described by Thode et al 2019 J. Acoust. Soc. Am. Vol 146(1) pp 95-102 (doi: 10.1121/1.5114810).\nThis module also includes the methods described in that paper for frequency domain demultiplexing of directional signals from DIFAR sonobuoys.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "Azigram (DIFAR Azigram Engine)"
    ]
  },
  {
    "objectID": "localisation/difar/difarAzigram/docs/azigram.html#adding-the-azigram-plugin",
    "href": "localisation/difar/difarAzigram/docs/azigram.html#adding-the-azigram-plugin",
    "title": "Azigram (DIFAR Azigram Engine)",
    "section": "Adding the Azigram plugin",
    "text": "Adding the Azigram plugin\nThe Azigram plugin can be added from the PAMGuard menu via:\nFile -&gt; Add Module -&gt; Sound Processing-&gt; DIFAR Azigram Engine\nThe Azigram plugin requires input from an FFT module. The (raw) input into the FFT module must be multiplexed data from a DIFAR sonobuoy with at least 24 kHz of bandwidth (i.e. the same type of raw acoustic input used by the DIFAR Localisation Module).",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "Azigram (DIFAR Azigram Engine)"
    ]
  },
  {
    "objectID": "localisation/difar/difarAzigram/docs/azigram.html#configuring",
    "href": "localisation/difar/difarAzigram/docs/azigram.html#configuring",
    "title": "Azigram (DIFAR Azigram Engine)",
    "section": "Configuring",
    "text": "Configuring\nThe Azigram plugin presently has very few settings. The FFT length and FFT hop (and thus, the time and frequency resolution) for the Azigram display are determined by those used in the upstream FFT Module. The Source panel of the Azigram Settings allows for selection of the FFT module to use as input, and selection of specific channels from this upstream FFT module.\nThe sample rate of the Azigram output can be chosen from the Output panel of the settings. The plugin uses frequency domain downsampling in order to acheive the selected sample rate. When selecting the output sample rate, the output FFT length and FFT hop will be altered in order to maintain the same time and frequency resolution as the upstream FFT module.\n\nThe Azigram can be viewed on a Spectrogram Display. The HSV colour model is recommended for viewing Azigrams. This colour model is circular so will better illustrate the circular nature of the angular data (e.g. sounds from 359 degrees will be similar in colour to sounds from 1 degree). The limits of the Amplitude Range on the “Scales” tab of the “Spectrogram Parameters” should be manually set to Min 0 and Max 360. While this tab suggests that the Min and Max are in dB, the Azigram module will treat these values as degrees if an Azigram is being displayed.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "Azigram (DIFAR Azigram Engine)"
    ]
  },
  {
    "objectID": "localisation/difar/difarAzigram/docs/azigram.html#using-the-azigram",
    "href": "localisation/difar/difarAzigram/docs/azigram.html#using-the-azigram",
    "title": "Azigram (DIFAR Azigram Engine)",
    "section": "Using the Azigram",
    "text": "Using the Azigram\nThe screenshot below shows the DIFAR Azigram Module displaying the Azigram output (top graph) and regular spectrogram ouput (middle panel) of a synthetic test signal. The test signal is a simulated DIFAR source with 8 short FM downsweeps arriving from 0-315 degrees in 45 degree increments. The bottom panel shows the PAMGuard Data Model.",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "Azigram (DIFAR Azigram Engine)"
    ]
  },
  {
    "objectID": "localisation/difar/difarAzigram/docs/azigram.html#references",
    "href": "localisation/difar/difarAzigram/docs/azigram.html#references",
    "title": "Azigram (DIFAR Azigram Engine)",
    "section": "References",
    "text": "References\n\nThode AM, Sakai T, Michalec J, Rankin S, Soldevilla MS, Martin B, Kim KH (2019) Displaying bioacoustic directional information from sonobuoys using “;azigrams.” J Acoust Soc Am 146:95�102",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "Azigram (DIFAR Azigram Engine)"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_ConfigureModule.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_ConfigureModule.html",
    "title": "Configure the Module",
    "section": "",
    "text": "DIFAR Localisation requires a relatively complex PAMGuard configuration. You may want to start by downloading the DIFAR example configuration from the PAMGuard.org website.\n\nRequired PAMGuard modules\nThe following modules are required for DIFAR Localisation.\n\nSound Acquisition: Recording data from a VHF radio receiver at a sample rate of 48kHz.\nDecimator: To reduce the sample rate of the data you’ll actually be looking at to a few kHz or less, depending on your target species.\nFFT (Spectrogram) Engine: To display a spectrogram of the Decimated data for manually marking detections, and also to be used as input to an automatic detector.\nUser Display: The DIFAR display modules and spectrograms can all be integrated into a single display module. However, if you’ve multiple screens, you may wish to make multiple user displays and spread out a little.\nDIFAR Localisation: Contains the DIFAR specific components\n\n\n\nRecommended Modules\nThe following modules are not required, but are highly recommened to facilitate analysis of DIFAR Localisations\n\nAdditional FFT (Spectrogram) Engine processing raw data from the sound acquisition. The primary purpose of this FFT is to show the spectrum of the full signal which is a useful diagnostic to determine whether the DIFAR sonobuoy is functioning correctly. The spectrum of a correctly functioning DIFAR sonobuoy will show spectral peaks at the 7.5 and 15 kHz carrier frequencies. Absence of these peaks is a good indicator that something in the recording chain is amiss.\nDatabase: DIFAR results can be written to the database, so you’ll need one if you plan to access your results from a database.\nBinary store: Localised audio and the DIFARGram are stored in the binary store, so like the Database, this module must be active in order to view results in the viewer-mode.\nNMEA, GPS and Map Modules. These aren’t absolutely necessary for DIFAR processing, but it’s likely you’ll want them as part of your configuration.\n\nThe figure below shows a typical PAMGuard model for DIFAR processing\n\n\n\ndifarDataModel\n\n\nPrevious: Overview\nNext: Deploying Sonobuoys",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Configure the Module"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_ConfigureUserDisplay.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_ConfigureUserDisplay.html",
    "title": "Configure User Display",
    "section": "",
    "text": "DIFAR processing is an interactive process with the computer doing the bulk of the work, but an operator making critical decisions such as validating detections, classifying sounds by species, and selecting/rejecting sounds for further processing and localisation.\nThe DIFAR module does not have its own tab panel. Instead the various displays you’ll need should be configured on a user display panel. Create a user display panel from the File &gt; Add Module &gt; Displays &gt; User Display menu.\nOn your user display(s) you will need to configure a spectrogram, a DIFAR Queue and a DIFAR Processing display. You may also want an additional map. A typical display configuration is shown below:\n\n\n\ndifarUserDisplayOverview\n\n\n\n\nThe DIFAR Display modules\nTwo different displays are required to run the DIFAR system. They are added separately to allow more flexibility in how the overall display system is laid out. The display first is a queue of selected or detected sounds which are waiting for DIFAR processing (i.e. localisation). The second display shows the output of DIFAR processing and allows the operator to make final decisions regarding the directionality of the detected sound, and ultimately allows validation, acceptance or rejection of the localisation results.\nThe Display modules are added from the User Display menu:\n\n\n\ndifarUserDisplayMenu\n\n\nAdd each of the display components in turn and drag them to the required positions on the screen.\nNote that you can only add one each of the two DIFAR displays, so the menu items will go grey once you’ve added them.\n\n\n\nThe spectrogram\nTo create a spectrogram, from the User Display menu select User Display &gt; New Spectrogram Display\nConfigure the spectrogram, right click &gt; Settings… will reopen the dialog. Details of spectrogram configuration can be found here\nThe spectrogram should display the FFT from the decimated data. For diagnostic purposes it’s useful to show the spectrum of the FFT from the raw 48kHz data as well. To show this, open the dialog and go to the “;plug-ins” tab and check the box next to the data you want to display.\nIf you’re marking detections by hand on the spectrogram, then you also need to enable this feature by going to the Mark Observers tab and selecting the appropriate checkbox.\n \nPrevious: Deploying Sonobuoys\nNext: Configure DIFAR Processing",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Configure User Display"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_DifarOutput.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_DifarOutput.html",
    "title": "DIFAR Output",
    "section": "",
    "text": "DIFAR results are stored in both the PAMGaurd database and in the Binary storage system . Each has it’s own advantages and disadvantages so it is likely that you will want to use both.\nThe database can store a single line of information for each localisation in a format which can be easily read using a database management system (e.g MS Access). However, the database is unable to store the full waveform clip.\nThe binary store stores data in a system which can only be read by the PAMGuard software. However, it is able to store the waveform clip for each DIFAR localisation allowing the operator to review data offline using the PAMGuard viewer.\nPrevious: Graphics Output",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "DIFAR Output"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_HydrophoneArray.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_HydrophoneArray.html",
    "title": "Deploying Sonobuoys",
    "section": "",
    "text": "Arrays of DIFAR sonobuoys are fundamentally different than towed arrays. In PAMGuard each DIFAR sonobuoy is assigned to a streamer using the Array Manager. The Array Manager can be accessed via the Deploy button on the DIFAR Queue.\n\n\n\nDIFAR Array Manager\n\n\nPresently streamers for DIFAR sonobuoys should be configured using a “Fixed location” for the reference position, and a “Straight/Rigid Streamer”. An independent streamer is required for each sonobuoy when recording from multiple sonobuoy simultaneously (i.e. the number of streamers should be equal to the number of radio receivers used to receive signals from sonobuoys). The following image shows one of the streamers from a three-sonobuoy array.\n\n\n\nDIFAR Streamer\n\n\n\n\nDeploying\nThe Deploy button on the DIFAR Queue can be used when physically deploying a new sonobuoy. Clicking the Deploy button will open a menu allowing options to deploy a new buoy on any of the existing streamers that have been configured in the Array Manager. Upon selecting one of these menu items, a new Streamer Dialog window will appear.\nThe Streamer Dialog window will contain the GPS position of the ship at the time when the “Deploy channel” menu item was selected. If any of the streamers in the Array Manager have a numeric Streamer Name, then this will be used to automatically name the newly deployed streamer using the next sequential number. Thus, using the Deploy button is used to deploy all sonobuoys will result in sonobuoys names being sequential numbers.\nSonobuoys can be assigned alternative names, deployment numbers, or station numbers by typing directly into the Streamer Name.\nSonobuoy deployments will be stored in the PAMGuard database under the HydrophoneStreamers table.\nIn addition to a Deploy button, versions of PAMGuard after 1.15.05 also have an button titled Buoy Finished which will add a timestamp in the EndTime column of the database for the selected deployment. Aside from this timestamp in the database, the Buoy Finished button has no effect on the operation of PAMGuard’s DIFAR module, the Array Manager, or any other aspect of PAMGuard.\n\n\nSonobuoy Manager\nA ‘Sonobuoy Manager’ was added to the DIFAR module after PAMGuard version 1.15.05. The sonobuoy manager allows limited viewing and editing of sonobuoy metadata in normal, mixed, and viewer mode, and can be added to a User Display via the User Display menu. Presently, the DIFAR module only allows one Sonobuoy Manager window to exist.\nSonobuoys that have been edited via the Sonobuoy Manager will be updated both within PAMGuard modules (e.g. ArrayManager, Map, DIFAR Localisaiton Module, etc), and their corresponding entries in the PAMGuard database will be OVERWRITTEN. Thus users should exercise caution when using the Sonobuoy Manager and are encouraged to make backups of their database (NB: Sonobuoy metadata is stored in the HydrophoneStreamers table of the database).\n\n\n\nSonobuoy Manager\n\n\nPrevious: Configuring the DIFAR module\nNext: Configure DIFAR Displays",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Deploying Sonobuoys"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_Overview.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "The PAMGuard DIFAR Localisation module can be used to locate tonal sounds (e.g. calls from baleen whales) that have been acquired from DIFAR (directional) sonobuoys. The DIFAR Localisation module can be run in normal-mode for real-time localisation, or in mixed-mode for post-processing/re-analysis of existing DIFAR recordings, and the results from the DIFAR Localisation module can be displayed in viewer-mode.\n\nBackground\nOver the past two decades DIFAR (directional) sonobuoys have seen increased use in whale research programs worldwide.\nDIFAR sonobuoys contain a single omnidirectional pressure sensor, two directional particle-velocity sensors, and a magnetic compass. By comparing the amplitude and phase of signals on each of the three acoustic sensors it is possible to calculate the direction that a sound is coming from relative to magnetic north. Additionally, most DIFAR sonobuoys send data via VHF radio link back to an aircraft or nearby vessel. Consequently, the acoustic data from the three sensors are multiplexed (modulated) into a single signal prior to transmission. An important part of the processing is therefore the de-multiplexing (demodulation) of the signal back into the three separate acoustic components \u0007(Delagrange 1992)\b. While there are some general purpose tools available for working with DIFAR data such as the beamforming software from WhaleAcoustics, and the demultiplexing software by Greeneridge Sciences Inc real-time analysis of signals from DIFAR sonobuoys has remained the province of a limited number of bespoke (or restricted military) systems.\nThis module has been developed between SMRU and the Australian Marine Mammal Centre to serve as a flexible tool for for real-time localisation of loud & vocal species of baleen whales. The PAMGuard DIFAR Localisation module was made possible by the Southern Ocean Research Partnership. The module is BETA software, and further development of the module is still ongoing as of December 2014. For questions, comments, or to report bugs on the DIFAR module contact Brian Miller at the Australian Marine Mammal Centre.\nNext: Configuring the module",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Overview"
    ]
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_References.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_References.html",
    "title": "References",
    "section": "",
    "text": "Blackwell SB, McDonald TL, Kim KH, Aerts LAM, Richardson WJ, Greene CRJ, Streever B (2012) Directionality of bowhead whale calls measured with multiple sensors. Mar Mammal Sci 28:200�212\b\nBlackwell SB, Nations CS, McDonald TL, Greene CRJ, Thode AM, Guerra M, Macrander a. M (2013) Effects of airgun sounds on bowhead whale calling rates in the Alaskan Beaufort Sea. Mar Mammal Sci 29:E342�E365\nClark CW, Fowler M (2001) Status of archival and analysis effort of acoustic recordings during SOWER and IWC cruises 1996-2000. Rep Submitt to Sci Comm Int Whal Comm SC/53/IA28 [Paper available from Off J Cetacean Res Manag\nD’Spain G (1994) Relationship of underwater acoustic intensity measurements to beamforming. Can Acoust 2:157�158\nDelagrange A (1992) DIFAR Multiplexer-Demultiplexer System, Latest Improvements. Silver Spring, Maryland\nEnsor P, Komiya H, Beasley I, Fukutome K, Olson P, Tsuda Y (2007) 2006-2007 International Whaling Commission-Southern Ocean Whale and Ecosystem Research (IWC-SOWER) Cruise. Lyttelton, New Zealand\nEnsor P, Komiya H, Olson P, Sekiguchi K, Stafford K (2006) 2005-2006 International Whaling Commission-Southern Ocean Whale and Ecosystem Research (IWC-SOWER) Cruise Report. Lyttelton, New Zealand\nEnsor P, Minami K, Morse L, Olson P, Sekiguchi K (2008) 2007-2008 International Whaling Commission-Southern Ocean Whale and Ecosystem Acoustics Research (IWC-SOWER) Cruise. Lyttelton, New Zealand\nGedamke J, Robinson SM (2010) Acoustic survey for marine mammal occurrence and distribution off East Antarctica (30-80�E) in January-February 2006. Deep Sea Res Part II Top Stud Oceanogr 57:968�981\nGreene CRJ, McLennan MW, Norman RG, McDonald TL, Jakubczak RS, Richardson WJ (2004) Directional frequency and recording ( DIFAR ) sensors in seafloor recorders to locate calling bowhead whales during their fall migration. J Acoust Soc Am 116:799�813\nMcDonald MA (2004) DIFAR hydrophone usage in whale research. Can Acoust 32:155�160\nMcDonald MA, Calambokidis J, Teranishi AM, Hildebrand JA (2001) The acoustic calls of blue whales off California with gender data. J Acoust Soc Am 109:1728\nMcDonald MA, Fox CG (1999) Passive acoustic methods applied to fin whale population density estimation. J Acoust Soc Am 105:2643�2651\nMcDonald MA, Hildebrand JA, Wiggins SM, Thiele D, Glasgow D, Moore SE (2005) Sei whale sounds recorded in the Antarctic. J Acoust Soc Am 118:3941�45\nMiller BS, Barlow J, Calderan S, Collins K, Leaper R, Kelly N, Olson P, Ensor P, Double MC (2013) Long-range acoustic tracking of Antarctic blue whales. Rep Submitt to Sci Comm Int Whal Comm SC/65a/SH1:1�17\nMiller BS, Collins K, Barlow J, Calderan S, Leaper R, McDonald M, Ensor P, Olson P a., Olavarria C, Double MC (2014) Blue whale vocalizations recorded around New Zealand: 1964�2013. J Acoust Soc Am 135:1616�1623\nOleson EM, Calambokidis J, Barlow J, Hildebrand JA (2007) Blue Whale Visual and Acoustic Encounter Rates in the Southern California Bight. Mar Mammal Sci 23:574�597\nOleson EM, Calambokidis J, Burgess WC, McDonald MA, LeDuc CA, Hildebrand JA (2007) Behavioral context of call production by eastern North Pacific blue whales. Mar Ecol Prog Ser 330:269�284\nPeel D, Miller BS, Kelly N, Dawson SM, Slooten E, Double MC (2014) A simulation study of acoustic-assisted tracking of whales for mark-recapture surveys. PLoS One in press\nRankin S, Barlow J (2007) Vocalizations of the sei whale Balaenoptera borealis off the Hawaiian Islands. Bioacoustics Int J Anim Sound its Rec 16:137�145\nRankin S, Ljungblad DK, Clark CW, Kato H (2005) Vocalisations of Antarctic blue whales , Balaenoptera musculus intermedia , recorded during the 2001 / 2002 and 2002 / 2003 IWC / SOWER circumpolar cruises , Area V , Antarctica. J Cetacean Res Manag 7:13�20\nRivers J (1997) Blue whale, Balaenoptera musculus, vocalizations from the waters off central California. Mar Mammal Sci 13:186�195\n�irovic A, Hildebrand JA (2011) Using passive acoustics to model blue whale habitat off the Western Antarctic Peninsula. Deep Sea Res Part II Top Stud Oceanogr 58:1719�1728\nSwartz S, Cole T, McDonald MA, Hildebrand JA, Oleson EM, Martinez A, Clapham PJ, Barlow J, Jones M Lou (2003) Acoustic and visual survey of humpback whale (Megaptera novaeangliae) distribution in the eastern and southeastern Caribbean Sea. Caribb J Sci 39:195�208\nThode AM, D’Spain GL, Kuperman WA (2000) Matched-field processing, geoacoustic inversion, and source signature recovery of blue whale vocalizations. J Acoust Soc Am 107:1286�1300\nWade P, Heide-j�rgensen MP, Shelden K, Barlow J, Carretta J, Durban J, Leduc R, Munger L, Rankin S, Sauter A, Stinchcomb C (2006) Acoustic detection and satellite-tracking leads to discovery of rare concentration of endangered North Pacific right whales Acoustic detection and satellite-tracking leads to discovery of rare concentration of endangered North Pacific right whales. Biol Lett 2:417�419\nWade P, Robertis a De, Hough K, Booth R, Kennedy a, LeDuc R, Munger L, Napp J, Shelden K, Rankin S, Vasquez O, Wilson C (2011) Rare detections of North Pacific right whales in the Gulf of Alaska, with observations of their potential prey. Endanger Species Res 13:99�109\n\nPrevious: Difar Module Overview"
  },
  {
    "objectID": "localisation/difar/difarLocalisation/docs/difar_UsingDifarGramDisplay.html",
    "href": "localisation/difar/difarLocalisation/docs/difar_UsingDifarGramDisplay.html",
    "title": "Using DIFARGram Display",
    "section": "",
    "text": "Picture of the DIFAR Localisation Displays\n\n\nWhen DIFAR clips are processed from the DIFAR queue, they are sent to the DIFAR Localisation display where they are first demultiplexed in order to separate out the signals from the three acoustic sensors. Depending on the bandwidth and frequency resolution, demultiplexing may takes several seconds to perform on a typical 10 � 30s long clip, longer on slow computers. Progress is shown in the top right of the DIFAR Localisation display.\nThe Greeneridge demultiplexer has an inherent mechanism for determining whether a signal contains a correctly multiplexed DIFAR signal. Correct demodulation can only be achieved when the Greeneridge demultiplexer correctly locks onto the 7.5 and 15kHz carrier signals. The lock status is also shown in the progress bar, which will be red if the signal is not locked. If the signal doesn’t lock, then the clip should be discarded. NB: The AMMC demultiplexer does not presently contain any mechanism for determining whether a clip contains a correctly multiplexed DIFAR signal, thus when using the AMMC demultiplexer user experience and investigation of the directional signals may be required to determine whether the results of demodulation are sensible.\nThe display shows the spectrogram of the processed clip on the left with the DIFARGram on the right. By default, the spectrogram is created from the decimated raw input data (i.e. the omnidirectional hydrophone). Right clicking on the spectrogram allows the operator to display the signals from any of the three demultiplexed signals (i.e. omnidirectional, north-south, and east-west directional signals).\nThe DIFARGram is a colourmap of energy verses frequency and angle. There should be intense colour at the frequency of the selected sound and also at the angle from which the sound has arrived. To guide the eye a summary line is also displayed which shows the DIFARGram summed between the frequency limits of the clip. The summary line may be turned on and off by right clicking on the DIFARGram. The angle and frequency corresponding to the maximum energy are selected by default, and their values are shown as the Selection in the Info panel next to the DIFARGram.\nAt this time, the bearing calculated for the clip will be displayed on the PAMGuard map.\n\nButtons and Actions\nIf the operator is happy with the selected maximum, they can simply press the Save button. If The Auto button is selected, the clip will save automatically after a short delay. Alternately the operator can click anywhere on the DIFARGram to select a different angle and frequency (in which case the bearing displayed on the map will immediately update).\nDelete will permanently delete the clip. The clip can also be returned to the DIFAR queue by right clicking anywhere on the DIFARGram and selecting the appropriate menu item.\nThe Zoom Freq button causes both the spectrogram display and the DIFARGram to zoom in in frequency to slightly more than the frequency limits of the selected sound.\nPrevious: Managing the Queue\nNext: Advanced Localisation (Crossed Bearings and Tracked Groups)",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "DIFAR ",
      "DIFAR Localisation ",
      "Running the System ",
      "Using DIFARGram Display"
    ]
  },
  {
    "objectID": "localisation/docs/localisation_algorithms.html",
    "href": "localisation/docs/localisation_algorithms.html",
    "title": "Localisation Techniques",
    "section": "",
    "text": "The Forward and Inverse Problem\nIn an ideal world the problem of localisation is barely a problem at all. Time delays can be calculated, bearings crossed and a location calculated. A rigorous and concise mathematical derivation of this is found in Magnus Wahlberg et al. However biological studies are not conducted in vacuum, seawater is not a still homogeneous medium and cetaceans are not perfectly spherical acoustic sources. As discussed in the localisation overview section error is inherent in every part of a hydrophone monitoring system, from the position of the hydrophone, to the digitisation and cross correlation of a detected porpoise click. Therefore instead of having cones, which perfectly intersect at the exact location of the cetacean, in reality there exists a set of cones, which roughly intersect each other in a certain area or perhaps do not intersect at all. This creates an obvious problem. If there is no exact intersection point, where is the cetacean?\nThe process of calculating and crossing bearings to find an intersection point is generally named the inverse problem. The inverse problem refers to a situation were for a given set of observations (time delays) the initial parameters (location of the cetacean) are directly calculated. The advantage of this system is that it is very computational efficient however, it is also particularly vulnerable to errors. Although cones may roughly intersect around a likely cetacean position, quantification of the error in location is difficult and therefore the inverse problem does not provide an intuitive or satisfactory solution to real world localisation. Instead for many localisation algorithms one must look at the forward problem: calculating the observables from a given set of parameters. In terms of localisation this refers to selecting a point in space, calculated the theoretical time delays, or bearing angles from hydrophone clusters, if the cetacean was vocalising at this point in space and then comparing the theoretical delays to the actual observed time delays or bearings. The more similar the theoretical and observed time delays the closer the point in space is to the actual position of the source position. By sampling many different locations the localisation algorithm can select that location which best fits the observed data. While this may sound highly inefficient, algorithms exist which can efficiently test multiple locations and converge on a solution sufficiently fast for real time operation on most modern computers.\n\n\nLeast Squares\nLeast squares methods are generally solving the inverse problem. Examples are found in hyperbolic localisation methods within the Group 3D localiser, where the least squares crossing point is calculated for multiple hyperbolae, each derived from a time difference of arrival on a pair of hydrophones. Another example is one of the target motion algorithms, which takes a set of bearings to an animal from multiple points along a track-line and finds the least squares solution to the crossing point of those bearings.\n\n\nSimplex, or Nelder-Mead\nSimplex, or Nelder-Mead methods are a commonly used way of solving the forward problem, i.e. guess an animal location and calculate theoretical values for the observed data (bearings, time delays, etc.), test the observed data against those values, move the animal a bit and see if updated theoretical values better fit the data, keep updating until the fit is as good as it can get. While this sounds computationally intensive, the Nelder-Mead method varies the step sizes as it tests different locations and is incredibly efficient at finding the optimal solution. Within PAMGuard these methods are used to cross bearings within the target motion algorithm, to cross bearings in the Group 3D localiser and also to estimate 2 and 3D locations direct from time delays using alternative algorithms within the Group 3D localiser\nMCMC\nMarkov Chain Monte Carlo (MCMC) is a Bayesian statistical technique that has been applied to a large variety of problems, from estimating the solutions of complex integrals, to searching for exo-planets. The basic premise is to calculate a series of estimates which gradually increase in accuracy until a satisfactory solution is reached. The estimates form a chain of results which then bounces around the likely solution creating a probability distribution of results.\nIn terms of acoustic localisation MCMC is particularly useful due to its ability to easily incorporate experimental unknowns and then provide dynamic visualisations of the resulting errors. Utilising both real and simulated data this allows rigorous analysis of the effectiveness of a hydrophone array and easy quantification of the error for each individual localisation.\nFor acoustic localisation, parameter space generally refers to the Cartesian (or other) co- ordinates (x,y,z) but could also include other variables which would alter the theoretical time delays. These can include sound speed, salinity, hydrophone positions, and/or the angle of a vertical array.\nThe process begins with a random point in parameter space. From this initial point in space a random jump is executed. A jump involves changing each parameter value by a limited but random value. For example if the only parameters changing were the x.y,z co-ordinates then each jump would simply be a random jump through 3D space. Once a jump is executed a measurement of whether the new parameters are closer to the solution is undertaken. This is a chi squared value. The chi squared value compares the theoretical time delays calculated from the new jump location to the observed time delays. The lower the chi squared value the greater the similarity is between the theoretical and observed values. After jumping and calculating the new chi squared value the Markov chain then follows a series of three sequential rules. These are based on the difference between the previous and new chi squared values;\n1. If the new chi squared value is less than the previous chi squared value then the jump is accepted.\n2. If the new chi squared value is greater than the previous chi squared value then the jump is only accepted with a probability of;\n\n\n\nProbEq\n\n\nwere delta chi squared is the difference in chi squared between the previous and new jump point.\n3. If neither of the two above criteria is achieved the jump is not accepted and another random jump is executed from the previous point.\nThe result is a sequence or chain of jumps, which converge to form a cloud of points around the likely position of the acoustic source. The density of this cloud then represents the probability distribution of the acoustic source location in space. Figure 1. shows three MCMC chains converging to form a circular probability distribution. Here the acoustic source could be anywhere on a circle of possible locations, a common result when using linear arrays.\nFigure 1.\nAlthough this process requires large amounts of computational power the rapid progress of multi-core computing means it is possible to have multiple chains without a large increase in computational time.\n_References\nMagnus Wahlberg, Bertel M?hl and Peter Teglberg. Estimating source position accuracy of a large-aperture hydrophone array for biacoustics. J. Acoust Soc. Am. 109. 397-405\nStacy Lynn Deruiter. Echolocation-based foraging by harbour porpoises and sperm whales including effects of noise and acoustic propagation. PhD thesis, (2008).\nLine A. Kyhn, J. Tougard, F. Jensen, M. Wahlberg, G. Stone, A. Yoshinaga, K. Beedholm and P.T Madsen. Feeding at a high pitch. Source parameters of narrow band, high frequency clicks from echolocating off-shore Hourglass dolphins and coastal Hector’s dolphins. J. Acoust. Soc. Am .125, 1783-1791 (2009)\nMathew J. Holman, Joshua N. Winn, David W. Latham, Francis T. O’Donovan, DavidCharbonneau, Gaspar A. Bakos, Gilbert A. Esquerdo, Carl Hergenrother, Mark E. Everett and Andras Pal. The Transit light curve project. I. four consecutive transits of exoplanet XO-1b. The Astrophysical Journal. 652: 1715-1723 (2006)_\nPrevious: Overview\nNext: Types of Array",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Localisation Techniques"
    ]
  },
  {
    "objectID": "localisation/docs/localisation_generic.html",
    "href": "localisation/docs/localisation_generic.html",
    "title": "Generic Localisers",
    "section": "",
    "text": "The Generic Localisers are intended to work with any type of data from any PAMGuard detector. Some detectors, such as the Click Detector and the Whistle and Moan detector have built in bearing localisers and you should continue to use these. Most other detectors should use these generic localisers, and the 3D localiser can be used to estimate 2D and 3D locations for click and whistle data.\nSome localisers will work on a single sound, detected on multiple hydrophones.\nIn general terms, there are three types of localisation that are possible for single sounds:\n\nBearings - a bearing in one or two dimensions (e.g. horizontal angle and elevation angle), possibly with ambiguity either side of the hydrophone array.\n2D Localisations - a Latitude and Longitude, or x,y position relative to the hydrophone array.\n3D Localisations - Latitude, Longitude, and depth or x,y,z, positions relative to the hydrophone array.\n\nAnother type of localisation, called Target Motion Analysis, uses the movement of the vessel and assumes that multiple sounds from the same source can be linked together, it then crosses multiple bearings to the sound source to generate a position. Target Motion Analysis can provide localisations using simpler arrays, but it’s success is very dependent on animals producing regular vocalisations which can be linked together either automatically or by a human observer.\nThe type of localisation will depend a lot on the type and layout of the array, its overall dimensions, the number of individual hydrophones, whether they are laid out in a line, a plane, or distributed in three dimensions. Success will also be heavily influenced by the types of sound being detected, their signal to noise ratio (it’s easer if SNR is high!), the rate at which sounds are arriving (is it easy to match the different sounds on the different hydrophones, or are there many possibilities?), etc.\nOften there are fundamental trade-offs of compromises to be made. For example, when localising harbour porpoise, you’ll want to get the hydrophones quite far apart to cover the area or volume you’re interested in, but at the same time you’ll want the hydrophones quite close together or the highly directional sounds won’t be detected on sufficient hydrophones for localisation. In most studies using wide aperture arrays, there will always be sounds detected on the periphery of the array which are only detected on one or two hydrophones and can’t therefore be localised.\n\nSingle Sound Localisers\n\nBearing Localiser\nThe Bearing Localiser is designed to work with compact arrays of two or more hydrophones. Implicit in it’s operation is the assumption that hydrophones are close enough together that a sound detected on one hydrophone will also be present on others. Time delay measurements will be based on the cross correlation of the signals on the different channels and localisation will provide one or two bearings, depending on the type of array (linear, planar or volumetric).\nBearing localiser results are added as an annotation to the group detection and will be stored in both the database and in binary storage.\n\n\nGroup 3D Localiser\nThe Group 3D Localiser has been developed for use with wide aperture arrays of four or more hydrophones. It links separate detections from multiple hydrophones and offers a choice of algorithms for 2 or 3 dimensional localisation\nThe automatic grouping of multiple detections to form a localisation generates a new data output stream in PAMGuard which is written to the database. Each database record contains information on which detections were used in the localisation and the localisation result.\n\n\n\nMultiple Sound Localisers\n\nTarget Motion Localiser\nThe Target Motion Localiser can be used for 2D and 3D localisation using target motion analysis. It’s input must be grouped detections, where the grouping has either been done automatically, e.g. using the Click Train Detector, or manually using the Detection grouper. Detections within each group must have bearing information, e.g. from the Bearing Localiser. For a linear array, the localisation will generally be ambiguous about the array axis, so two separate locations may be calculated, one for each side. For compact volumetrica arrays, which produce unambiguous bearings, the resulting localisation will also be unambiguous.\nTarget motion results are added as an annotation to the group detection and will be stored in both the database and in binary storage.\n\n\nDetection grouper\nThe Detection grouper is not a localiser in itself, but can be used to manually group detections together on the PAMGuard displays for use with the Target Motion Localiser.\nThe detection grouper generates a new data output stream in PAMGuard which contains information on which detections were included in each group.\n\n\nExample configurations\nA selection of PAMGuard configuration files that illustate the use of some of the PAMGuard localisers with different detectors and types of array can be downloaded here.\nPrevious: Types of Array\nNext: Time Difference of Arrival",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Generic Localisers"
    ]
  },
  {
    "objectID": "localisation/docs/localisation_tdoa.html",
    "href": "localisation/docs/localisation_tdoa.html",
    "title": "Time Difference of Arrival",
    "section": "",
    "text": "Many localisers use Time Difference of Arrival (TDOA) of signals on multiple hydrophones to estimate locations, whether it be just a bearing calculation, or a full 3D location. Even when using localisation algorithms such as the Group 3D Localiser Crossed Bearing algorithm it’s likely that the bearings being crossed will have been derived from TDOA measurements.\nTDOA measurements are most often made by finding the peak in the cross correlation function of the signal waveform recorded at each hydrophone.\nTDOA measurement are more accurate for louder signals and can be made more accurate through careful filtering of data, up-sampling, and interpolation (Gillespie and Macaulay, 2019).\nExactly how PAMGuard calculates a TDOA for a given detector depends slightly on the type of detection, what data are included with the detection and also on how far apart hydrophones are spaced.\n\nClicks\nTransient sounds from the click detector are stored with a short waveform clip which is used for TDOA measurement. There are a number of options available to control how the TDOA measurement is made, broadly following the examples in Gillespie and Macaulay (2019). It is also possible to select different settings (e.g. different frequency ranges for filtering) based on the classification of individual detected clicks.\n\nTiming configuration options for the click detector are available from within the main Settings dialog of the Click Detector, or through a settings button in the configuration of the Group 3D localiser when a TDOA based algorithm is selected.\n\n\nSpectrogram based detectors\nSeveral detectors, including the Whistle and Moan detector and the GPL detector search a spectrogram of audio data to detect sounds. These detectors tend not to store the waveform of the detected sound (as is the case for the click detector) but do often store the time-frequency contour of the detection. For these detectors, TDOA’s are calculated from the Complex FFT data used as input to the detection algorithm. Note that this is mathematically the same as a waveform cross correlation, so time resolution (with interpolation) is still better than a single sample, and is NOT the time resolution of the FFT data frames. For detectors providing detailed time-frequency contour information, the cross correlation is restricted to the frequency limits of the detection.\nGenerally, there are no options controlling how the cross correlation of the spectrogram data is conducted, but some localisers may need you to select the correct source of FFT data appropriate to the detector.\nLocalisers requiring a time delay will calculate the maximum possible time delay between two hydrophones. If this time delay is less than half the length of an FFT frame, then the cross correlation is simply the sum of the cross correlations of all FFT frames included in the detection, with a 1:1 match between the FFT frames from the different channels of data. Where the maximum time delay is greater than half a FFT frame, then data from each pair of channels will be ‘slid’ across one another, and the total cross correlation calculated for all possible time delays, the best correlation value being selected.\nSome localisers also offer the option of selecting raw sound data for input to the TDOA calculation. In this instance, it will recalculate the FFT data, which is probably a waste of time if the FFT is already calculated.\n\n\nReferences\nGillespie, D., and Macaulay, J. (2019). “Time of arrival difference estimation for narrow band high frequency echolocation clicks,” The Journal of the Acoustical Society of America, 146, EL387-EL392.\nPrevious: Generic Localisers",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Time Difference of Arrival"
    ]
  },
  {
    "objectID": "localisation/group3d/docs/3dconfig.html",
    "href": "localisation/group3d/docs/3dconfig.html",
    "title": "Configuration",
    "section": "",
    "text": "From the File &gt; Add Modules &gt; Localisers menu, select “Group 3D Localiser”. Enter a descriptive name for the new module and press OK.\n\nConfiguring the Group 3D localiser\nBefore configuring the Group 3D Localiser you should have configured the detector you plan to use it with and correctly set up the hydrophone array. Consider testing your configuration with simulated sound source before trying it with real data.\n\nDetection source and group matching options\nFrom the main PAMGuard settings menu, open the Group 3D Localiser dialog and select the source of detection data.\n\n\nDetection Matching\nAs the selected detector creates detections, the Group 3D Localiser will try to put them into groups ready for localisation. Select the minimum number of detections to include in a localisation attempt. This should be at least the minimum number required by the selected algorithm, but may be higher depending on the number of hydrophones you think detections should occur on. If sounds are far apart in time and the detector is working well then there will be one detection per channel and a group with that number of detections will form. However, detections may not occur on all hydrophones and some hydrophones may have more than one detection (if sounds were being produces at a high rate, or there are false detections). The initial grouping is based purely on what may be possible based on the time of arrival differences between the different hydrophones. In a worst-case-scenario a group might become infinitely long, so a maximum number of sounds allowed in a group can also be specified.\n\n\nData selection\nSome detectors have a built in data selector (for instance the Click Detector, when used with it’s click classifier allows you to select only clicks that meet certain classification criteria, the Whistle and Moan detector allows you to select whistles based on their duration and frequency range, etc.). If a data selector is available, set it to select only the detections of interest.\nPrevious: Overview\nNext: Algorithms",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Group 3D Localiser ",
      "Configuration"
    ]
  },
  {
    "objectID": "localisation/group3d/docs/3dhyperbolic.html",
    "href": "localisation/group3d/docs/3dhyperbolic.html",
    "title": "Hyperbolic",
    "section": "",
    "text": "The hyperbolic localisation algorithm is a direct implementation of the algorithm described in Gillette and Silverman (2008), although the algorithm was earlier described by Spiesberger and Fristrup (1990). It’s also worth reading Spiesberger (2001) which gives an explanation of the minimum number of hydrophones required for 2D and 3D localisation.\nPAMGuard contains both 2D and 3D implementations of the algorithm and will automatically select the appropriate version depending on the shape of the hydrophone array.\nA hyperbola is calculated for each pair of hydrophones from the time delay between that hydrophone pair. This requires that accurate time delays can be calculated for the sounds being detected, so accurate time synchronisation for all hydrophones is important. This is generally not a problem for hydrophones cabled to a single acquisition system, but can be highly problematic for\n\nConfiguration\nTo configure, select Hyperbolic from the list of available algorithms. Timing and channel configuration options will be shown.\n\nIt is possible to set a minimum correlation value for each time delay, any hydrophone pair with a cross correlation value smaller than this being excluded from the minimisation function.\nConsequently, it is also possible to set a minimum number of TOAD measurements to use in the localisation, the localisation attempt being aborted if not enough hydrophone pairs can return adequate correlations between signals.\nIf hydrophones are arranged in groups (e.g. a click detector operating on multiple small hydrophone clusters as in Gillespie et al, (2020) then you can also define a minimum number of groups to use in a localisation.\nIf the detection source has TDOA timing options available, then these can be accessed through the Timing Settings button.\n\nReferences\nGillette, M. D., and Silverman, H. F. (2008). “A linear closed-form algorithm for source localization from time-differences of arrival,” IEEE Signal Processing Letters, 15, 1-4.\nSpiesberger, J. L., and Fristrup, K. M. (1990). “Passive localization of calling animals and sensing of their acoustic environment using acoustic tomography,” The american naturalist, 135, 107-153\nSpiesberger, J. L. (2001). “Hyperbolic location errors due to insufficient numbers of receivers,” The Journal of the Acoustical Society of America, 109, 3076-3079\nPrevious: Crossed bearings algorithm\nNext: Simplex localisation algorithm",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Group 3D Localiser ",
      "Algorithms ",
      "Hyperbolic"
    ]
  },
  {
    "objectID": "localisation/group3d/docs/3doverview.html",
    "href": "localisation/group3d/docs/3doverview.html",
    "title": "Overview",
    "section": "",
    "text": "The Group 3D Localiser is designed for 2D (latitude and longitude or x and y) and 3D (latitude, longitude and depth or x, y and depth) localisation using wide aperture arrays.\nWith a wide aperture array, there is an implicit assumption that a detection on one hydrophone is no guarantee of detections on other hydrophones, either because the sound source was too far from some of the hydrophones, the sound source was too directional, or noise local to one or more hydrophones was too high for detection to be possible.\nFurthermore, by their nature, wide aperture arrays are large compared to the duration of a typical sound being detected (this is true whatever the species, for example with harbour porpoise a ‘wide’ aperture array may only be a few metres across, which equates to a few milliseconds travel time, but porpoise clicks are less than 100�s long; similarly baleen whale sounds may be a couple of seconds long, but arrays for baleen whales are likely to be spread over many km).\nThe Group 3D localiser is therefore used with detectors configured to detect independently on individual hydrophones or compact hydrophone clusters. It then looks for possible matches of detections between available hydrophones, based on time of arrival differences, and forms groups of detections which are then passed to the localisation algorithm. If an array is large, the possible time of arrival of a sound on multiple hydrophones may be great enough that there are multiple possible matches of detected sounds between the various hydrophones. This problem is known as spatial aliasing and may make localisation of some sounds impossible.\nCareful array design, considering animal vocalisation rate, overall call rate if many animals are likely to be present, detection range, sound directionality, the extent of the study area, and number of hydrophones to use is therefore required if this localiser is to be successfully employed.\n\nDevice Synchronisation\nMost of the algorithms rely on Time Difference of Arrival of signals at multiple hydrophones. If the hydrophones are autonomous recorders deployed some distance apart, then it is likely that their clocks will be running at slightly different rates and methods must be employed to accurately measure these clock offsets and to account for them when merging files from separate recorders into multi channel files for analysis. How accurately clocks need to be synchronised depends on the size of the array. As a rule of thumb, clock synchronisation should aim to be better than 1% of the time separation of the hydrophones. So if you’re hydrophones are several km apart, then a few milliseconds time offset may be acceptable. A smaller array will require more accurate synchronisation.\n\n\nSimulating Success\nWhen considering using the Group 3D Localiser a great way of testing a configuration is to set up a simulated sound source. This allows you to test out configurations with high signal to noise ratio sounds at known locations. While the simulation is somewhat idealised and a combination of detectors and localisers which work with simulated data is no guarantee that the configuration will work with real data, if a configuration doesn’t work with simulated data, the chances of it working with real data are going to be impossibly low.\nA series of demonstration configurations, all using simulated data, are being developed and made available through the PAMGuard website. You may want to take a look at these before developing your own configuration.\nNext: Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Overview"
    ]
  },
  {
    "objectID": "localisation/largeAperture3D/docs/meal_exercise1_detectPorpoises.html",
    "href": "localisation/largeAperture3D/docs/meal_exercise1_detectPorpoises.html",
    "title": "Detect Porpoises",
    "section": "",
    "text": "Process 10 channel .wav files using the click detector to detect porpoises and create binary files\n\n1.1 Create the Module Structure\nTo begin we need to analyse the raw .wav data in PAMGuard. Start PAMGuard in normal mode. Select File &gt; Add Modules &gt; Sound Processing &gt; Sound Acquisition to add the sound acquisition module. This will allow the raw .wav files to be analysed in PAMGuard. Next we need a click detector. Go to File &gt; Add Modules &gt; Detector &gt; Click Detector. The click detector module should now appear. Finally we need a database (File &gt; Add Modules &gt; Utilities &gt; Database) and binary storage (File &gt; Add Modules &gt; Utilities &gt; Binary Store).\nNow you have added the modules the next stage is to set up everything. Your data model should look like.\n\nFigure 1 The data model should look roughly like this to analyse clicks.\nIn PAMGuard you always move from modules on the left to modules on the right when inputting settings. So here we start with sound acquisition and then move to the click detector. Select Detection &gt; Sound Acquisition… In the dialog box set the audio source to Audio file or multiple file, select Select Folder or Files… and choose the folder containing the porpoise .wav files. Now that the sound acquisition knows you are dealing with ten channels of data you will need to create a ten channel hydrophone array in the array manager. Go to File &gt; Hydrophone Array… and use Import. to select the ten channel array file for this porpoise data. (In Exercise 1-2 folder) The hydrophone array manager dialog box should look like.\n\nFigure 2. Hydrophone array manager.\n\n\n1.2 Set up the Click Detector Params\nNow set up the click detector. Go to the Click Detection menu on the main screen and select Detection Parameters…. We want to detect clicks on all channels so select the check box for all ten channels. Make sure that no grouping is selected. This is usually sensible for wide aperture arrays (see note). Select the Trigger tab and ensure check boxes are selected for every channel. This ensures each channel individually runs the click detection algorithm. Click OK.\n \nFigure 3. Make sure the channels are not grouped and all selected in the trigger tab.\n\n\n1.3 Create filters to optimise for Porpoise Click Detection\nNow we want to set up filters to optimise our chances of finding porpoise clicks. There are two filters in the click detector, a pre filter and digital trigger filter. The pre filter filters the raw sound data used by the click detector module. We want to get rid of low frequency noise so a high pass filter at 20kHz is ideal. Select Click Detection &gt; Digital Pre Filter… In the dialog which pops up create a high pass Butterworth filter at 20000Hz.\n\nFigure 4. The digital pre filter should be set to 20kHz, high pass.\nNow we need to set the digital trigger filter. The digital trigger filter is only used by the algorithm which searches for clicks. The final saved click waveforms and spectra are taken from the raw sound data filtered only by the pre filter. Since porpoises have narrow band high frequency clicks it is sensible to search for clicks only in a narrow frequency band. Hence our digital trigger filter will be a band pass, from 100kHz to 150kHz. Select Click Detection &gt; Digital trigger filter… In the dialog which pops up create a band pass Chebyshev filter between 100000 and 150000Hz.\n\nFigure 5. The digital trigger filter should be a band pass between 100 and 150kHz.\n\n\n1.4 Create a porpoise click classifier\nThe click detector is now set up to detect clicks in the porpoise frequency range. However, although we have optimised the click detector for porpoise like vocalisations it will still detect many different types of sounds. In order to determine whether porpoise are present we need to classify clicks. For this we can use the PAMGuard click classifier. Go to Click Detection &gt; Click Classification. In the Click Classifier Selection drop down box select Classifier with frequency sweep. Select New to bring up a new click classifier settings dialog. In the bottom of the dialog box use the Set Defaults button to create default porpoise parameters. Click OK.\n\nFigure 6. The click classifier has default settings for porpoise clicks.\nYou’ve now created a porpoise click classifier. To ensure that classifier is applied to data make sure that the Run classification online and Enable check boxes are selected.\n\nFigure 7. Click classifier manager.\n\n\n1.5 Running\nWe have now set the detector click detector up to detect and classifiy porpoise vocalisations. To run select Detection &gt; Start\n\nFigure 8. The click detector running through the ten channel .wav files should look something like the above.\nA note on groups. In many detectors you have the option of “grouping channels”. Grouping tells PAMGuard to automatically calculate extra information for those channels which have been selected as belonging to a group. Grouped channels are saved as a single data unit containing information from each channel. For example, a towed array contains two closely spaced hydrophones. These two channels, when analysed in PAMGuard, are usually grouped. If a click is detected on one of the hydrophones then a waveform clip is also automatically recorded from the other channel; this is then saved as a data unit containing information on both channels. PAMGuard can calculate extra information for any data unit which contains more than channel of information. For our towed array, two clicks allow bearing information to be calculated for bearing time displays and target motion analysis. In general widely spaced hydrophones are not grouped.\nPrevious: Overview.html\nNext: Exercise2 - View Data"
  },
  {
    "objectID": "localisation/largeAperture3D/docs/meal_exercise3_localise.html",
    "href": "localisation/largeAperture3D/docs/meal_exercise3_localise.html",
    "title": "Localise",
    "section": "",
    "text": "Add the MEAL localiser and localise porpoise clicks. Batch process the entire dataset and view in a spread sheet. Create a graph of the dive profile.\n\n3.1 Set up the localiser\nNow we have detected and classified our porpoise clicks we can begin to localise. The MEAL localiser module is currently still under development and can only be accessed in PAMGuard viewer. This partly due to the fact that localisation is computationally intensive and so currently not suitable for real time use.\nFor this exercise we are going to use some data already prepared so that all participants are using the same classification settings etc. Start a new instance of PAMGuard viewer mode, open the database named PorpFineScalePAMTech in the Exercise 3 folder and select the corresponding binary files in the folder named 20120630.\nGo to File &gt; Add Modules &gt; Loclaisers &gt; MEAL localiser. This will add the MEAL localiser to viewer mode. As the module is still in development there are a few minor issues which need to be sorted out when adding the module. Your instructor will guide you through these.\nYou should end up with a new localiser tab which looks like.\n\nFigure 14. The MEAL localiser should initially look something like this.\nFor the rest of this exercise we will divide the localiser into panels and refer to each panel by the names given below.\n\n1) Data block selection menu\n\nClick bt display\n\nAlgorithm selection\n\nDetection match | 5) Localiser controls\n\nMap\n\nAlgorithm display\n\n\n\n\nResults\n\n\n\n\n\n\n\nThe top Click bt display panel contains a miniature bearing time display however since we did not group any of our clicks there is no bearing information to display. Right click on the display, select Bearing Amplitude Options and in the dialog box select Amplitude.\n\nFigure 15. Because we did not group clicks we will need to view them on an amplitude time rather than bearing time display.\nThe Click bt display panel should now look similar to your main Click Detector bearing time display. Select Porpoise in the Filter Species box. This tells the localiser to only use classified porpoise clicks in calculations.\nThe Map panel displays localisation results and shows the hydrophone array. Right click to drag the map, left click to rotate and use the mouse wheel to zoom in and out. Your display should now look something like.\n\nFigure 16. Use the mouse left click, right click and wheel to manipulate the 3D map.\nSelect a porpoise click. You should notice the Detection match panel changing. The Detection match panel contains information on the number of possible time delay combinations. The red circle represents the selected detection, in this case whichever click you have selected in the Click bt Display. This selected detection is your primary detection. We need to find this detection on other hydrophones; to do this we look in a time window before and after the time of the primary detection, represented in the panle by a grey line. Each hydrophone will have a different time window depending on how far it is away from the primary hydrophone. It is possible that a time window will contain more than one detection and for species such as a harbour porpoise, which has indistinguishable clicks, there is a an equal likelihood that any one click within the time window could be the primary click we are looking for. The blue dots represent the possible matches to the primary click within the time windows. Each blue line represents a possible combination of detections of which only one will contain only detections which correspond to the primary detection. The number of possibilities is shown at the top of the window.\n | Reasons for multiple time delay possibilities\n-echoes\n-multiple animals\n-rapid vocalisations\n-widely spaced elements | |—-|—-|\nFigure 17. The number of possible time delay combinations is displayed in the Detection match panel. Lines represent each combination and the red dot represents the currently selected detection.\nFor this exercise we are only going to use the vertical component of the array to determine depth and range. This will reduce the number of time delay possibilities and give us information on depth and range. In the localiser controls panel select Options and in the Channels tab deselect channels 6, 7, 8 and 9. In the Map tab make sure that Use high res. Plot symbols is selected. Click OK.\n\nFigure 18. For this exercise we only need channels 0-5 selected.\n\n\n3.2 Localise a click\nWe are now going to perform our first localisation. Select MCMC in the Algorithm selection panel. You should see the Localise, Localise All, and Stop buttons becoming enabled. Find a click which contains corresponding detections on most other channels and has more than one time delay possibility. In the detection match panel such a click should look something like…\n\nFigure 19. Select a click which has time delay possibilities roughly similar to this.\nFirst we are going to localise only one combination. Click the Localise Button.\n\nFigure 20. MCMC produces a circular probability distribution. This is exactly what would be expected from a linear array.\nYou should notice a circular ‘cloud’ appear on the map. This cloud corresponds to the probability distribution of the porpoises’ location calculated by the MCMC algorithm. The cloud is circular because a linear array only allows us to determine depth and range.\n\nFigure 21. Using the map you can view the circle side on. Note it has a well-defined depth.\nAlign the map horizontally and you will see the circle has well defined depth. The range corresponds to the radius of the circle. The ability of MCMC to automatically determine these distributions is one of its primary strengths.\nYou will notice that the results panel contains summary information on the position of the animal including its depth, range and corresponding errors.\n\n\n3.2.1 Localise all Combinations\nNow we are going to localise all possible combinations of time delays and by doing so we can check which combination is correct. Localise by pressing Localise All. The localiser will now localise all the possible combinations. Once the localiser has stopped your screen should look something like…\n\nFigure 22. You can localise all possible time delay combination for a given detection. The result which has the lowest chi squared value is also likely the correct combination of detections.\nWe now have multiple clouds, some which have the expected circular shape and others which do not. Instantly, just by eye, you can see some combinations produce better results than others. Click on one of the clouds. It will turn red along with its corresponding time delay combination in the _Detection matc_h panel. Clicking on a combination or map symbol will also highlight the corresponding localisation result in the Results panel. The algorithm display panel has an MCMC tab. If selected this will show you a graph of chi squared versus ‘jump iteration’.\n\n\n\nThe highlighted series here has the lowest average chi squared value and hence is the best fit result. By selecting it in this panel the corresponding cloud in the map and time delay combination in the detection match panel will be highlighted.\n\n\nThe quicker this graph reaches a low chi squared value the better the time delay information has fit the algorithm. You can also use this panel to highlight corresponding detection match lines and plot symbols; it is a handy way of picking the combination which has the lowest final chi squared value.\n\nFigure 23. You can select 3D shapes on the map and time delay possibilities in the detection match panel.\nIn the results panel the result with lowest chi squared value will be ticked. This result is the best fit to the algorithm which likely indicates it was calculated from the correct combination of time delays. You can save this result by pressing Save.\nYou have now learned the basics of the MEAL localiser. It is vital you familiarise yourself with this so take a while to localise other clicks.\n\n\n3.3 Simplex Localisation\nThe Simplex algorithm is similar to MCMC however does not show true probability distributions. It is, however much faster. Select Simplex in the Algorithm selection panel and compare it to the MCMC algorithm by localising a few more clicks. Pay attention to the millis column in the results table. This shows the computational time of each algorithm.\n\nFigure 24. Simplex is much faster than MCMC but doesn’t perform quite as well.\n\n\n3.4 Batch Process Data\nIn this section we will batch process the entire dataset. In doing so we will localise every porpoise click and save to a database. To save time we will be using the Simplex algorithm, however analysis with MCMC will produce better results. Make sure Simplex is the only algorithm selected in the Algorithm selection panel. Select Batch Process and tick the Batch Localise box and ensure All Data is selected in the Data Options drop down menu. Next select Settings…\n\nIn the Batch Process Tab select Use a primary hydrophone box and set the Primary Hydrophone as 4.Using a primary hydrophone means that only clicks on one channel are processed. This ensures that localisations are not repeated across different channels. Set the Min no. of time delays to 4. Min. number of delays specifies the minimum number of channels which must have a click detected. Note delays are related to channels by 0.5+sqrt(1+2*TD)/2 were TD is the number of time delays. There is no point in localising a click which was only detected on one other channel, as this simply gives you one time delay and hence a hyperbolic cone of infinite size on which a porpoise may be located i.e. not much localisation information.\nNext select the General tab and ensure that Display only lowest chi2 value is selected. This means that only the localisation result with the lowest chi squared value will be saved from clicks which have multiple possible combinations.\n\nIn the General tab you can export data to a spread sheet. This is not necessary as data is automatically saved to a database, however is convenient in many cases to quickly open data in excel. Tick Save to.csv and specify a path using Browse. Click OK.\nNow click Start and wait until the data processing is complete.\n\n\n3.5 View results\nOnce the batch processing has finished open the spread sheet you specified in section 3.4. Using Microsoft Excel or equivalent select the chi column and filter out any values above 3. Now selected the z column and plot a graph of results with time. You should end up with something which looks roughly like….\n\nFigure 25. Your results with the Simplex algorithm should look something like this graph.\nWell done. You have calculated a porpoise dive profile from raw .wav data. MCMC produces slightly better result. If you have time you can try and replicate these by batch processing with MCMC.\n\nFigure 26. MCMC captures more of the dive.\nPrevious: Exercise2 - View Data\nNext: Geo referencing 3D localisations"
  },
  {
    "objectID": "localisation/largeAperture3D/docs/meal_exercise5_extraExercises.html",
    "href": "localisation/largeAperture3D/docs/meal_exercise5_extraExercises.html",
    "title": "Extra Exercises",
    "section": "",
    "text": "There are several other examples of the MEAL localiser you can have a go with. Try the TEL database to localise using a well dispersed 12 hydrophone array.\n\nFigure 29. Well dispersed 3D array can produce highly accurate localisation results.\nNext have a play with towed array data. See what an MCMC localisation looks like.\n\nFigure 30. Can you think why MCMC might have this shape for a two element towed array?\nPrevious: Geo referencing 3D localisations"
  },
  {
    "objectID": "localisation/targetmotion/docs/targetmotion_LocalisationAlgorithms.html",
    "href": "localisation/targetmotion/docs/targetmotion_LocalisationAlgorithms.html",
    "title": "Localisation Algorithms",
    "section": "",
    "text": "PAMGuard allows the user to select a number of localisation algorithms for target motion analysis. The mathematical basis behind these algorithms can be found in the Localisation Techniques section.\nThe Localisation algorithms utilised in target motion analysis are either 2D or 3D in nature. A 2D algorithm does not consider depth as a variable and will attempt to find the most likely position of the source on the sea surface. A 3D algorithm attempts to localise in all three dimensions.\nReferring to the Target Motion Overview section, a single paired hydrophone array will often result in a circular probability distribution of the source location. In 2D this circle become two points and hence the 2D localisation algorithms will often have two results, one for each of the possible points. The straightness of the trackline and uncertainty in hydrophone positions dictates how similar in likelihood each of these results is. Often it will be ambiguous as to which is the more correct location of the animal.\nAlgorithm Description\nLeast Squares The least squares algorithm is the least computationally intense of the four. It will only work if the track is relatively straight. The first step of the computation is to fit a straight line to the GPS data and then to project all bearings from that straight line. By using a straight line approximation, it is then possible to use a simple linear regression of the 1/tan(bearing angle) to the animal against their position along the track-line to compute a perpendicular distance and a position along the track-line (Gillespie and Chappell 2002). The regression is carried out for an animal on each side of the trackline and the side with the lowest chi squared taken as the most likely position, where chi squared is the sum of the squares of the difference in measured angles to true angles to the location divided by the expected bearing errors.\n\n\n\n\n\n\n\n\n\nSimplex2D The 2D simplex method, as it’s name implies, uses the Nelder-Mead Simplex optimisation algorithm (available in the apache commons library ) to minimise the chi squared function, where the chi squared is again the sum of the squared differences between the expected and measured angles to any animal location. The difference between the Simplex and the Least Squares method is that the Simplex method can handle large changes in vessel heading. To achieve this however, the algorithm cannot calculate the animal position directly, but must use the Simplex search method which tests many possible positions until it finds the one with the lowest chi squared . While more flexible than the Least Squares method, this inevitably takes considerably longer to execute. The errors calculated by this algorithm are derived from the uncertainty in position of each hydrophone element. These can be set in the hydrophone array manager window .\n\n\n\n\n\n\n\n\n\nSimplex3D Simplex3D is the 3D version of the Simplex2D algorithm and a very fast 3D localiser. The errors calculated by this algorithm are also derived from the uncertainty in position of each hydrophone element.\n\n\n\n\n\n\n\n\n\nMCMC MCMC is a 3D localisation algorithm based on Markov chain Monte Carlo methods. It is a very computationally intensive algorithm, however, shows the most accurate probability distribution of the source location. The algorithm is extremely sensitive to errors and has several settings which need changed depending on the range distribution of localisations.\n\n\n\n\n\n\n\n\n\nThe MCMC localiser uses the errors in hydrophone element positions set in the hydrophone array manager window and the expected error in the time delay measurements to calculate the likely probability distribution of the source location. The error in time delay measurements will generally come from cross correlating two digitised waves and for most species will be around 1 sample. For species, such as harbour porpoises, with narrowband clicks this error should be increased.\nThe time delay error and other settings for the MCMC localiser can be accessed from the MCMC ‘Settings’ tab in the model control panel.\n\n\n\n\n\n\n\n\n\nTime Error\nSet the error in time delays. Generally this will be 1 sample although for narrowband species this should be set to around 5 samples.\nMax Jump Size\nThe length of each MCMC jump is a random number between 0 and Max Jump Size. If the jump size is set too low it will take the algorithm a long time to find the source location. If the jump size is set too high the probability distribution will not ‘flesh out’ properly. As a rule of thumb the maximum jump size should be 1/100 of the maximum expected detection range.\nNumber of Jumps\nThe number of attempted jumps. The more jumps the longer the computation time. If the number of jumps is set too low the algorithm will not ‘flesh out’ the probability distribution of the source location properly and may not reach the source location at all. For 3D localisation without any additional parameters 250000 jumps is usually sufficient.\nNumber of Chains\nThe number of Markov Chains used to localise. More chains means more accurate results and will also show whether there is a potential 3D ambiguity in the source location. Each chain runs on separate processor thread.\nChain Start Dispersion\nEach Markov chain begins in a random location. The maximum range of these random location is set by Chain Start Dispersion. Generally this should be the maximum detection range of the species in question.\nCylindrical Co-Ordinates\nSwitching from a Cartesian to a Cylindrical Co-Ordinate system allows MCMC to flesh out circular probability distributions more efficiently.\nPrevious: Localising an Event\nNext: Results",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Target Motion Analysis ",
      "Localisation Algorithms"
    ]
  },
  {
    "objectID": "localisation/targetmotion/docs/targetmotion_Localising.html",
    "href": "localisation/targetmotion/docs/targetmotion_Localising.html",
    "title": "Localising an Event",
    "section": "",
    "text": "PAMGuard is capable of localising target motion data utilising multiple algorithms. In order to do so click trains must be marked out as described in the Click Detector Viewer Functions section. Once a click train has been marked as an event it can be localised either by right clicking on a click and selecting ‘Localise Click Train idxxx’ or selecting ‘Target Motion Analysis..’ from the ‘Click Detection’ drop down menu. This will open the target motion dialog panel.\n\n\n\n\n\n\n\n\n\nThe Target Motion Analysis Panel consists of four sections.\nEvent Selection\nThe Event Selection panel is located at the top of the Target Motion Analysis window. The drop down menu allows different events to be selected.The ‘Run’ and ‘Run all’ button will attempt to localise each event using the selected localisation algorithms. Once the localisation algorithm(s) have run the results can be saved into the current database using the ‘Save’ button, disregarded using the ‘Keep Old’ button, or disregarded and if there are previous results, deleted, from the database using the ‘Set Null’ button.\nModel Control\nModel control allows the selection of different localisation algorithms described in the Target Motion Localisation Algorithms section. By default no algorithms are selected.\nMap\nThe Map shows the trackline, bearing vectors to the source for each detected vocalisation and anylocalisation results. The Map can be switched between 2D and 3D views by selecting the 2D Map and 3D Map buttons at the top of the panel.\n\n\n\n\n\n\n\n\n\nFigure 3\n\n\n\n3D Sperm Whale (14K)\n\n\nThe 2D map shows a birds eye view of the event with ability to zoom using the mouse wheel and drag using either the left or right mouse buttons. Localisation results are represented as 2D symbols with a black line representing the perpendicular distance to the trackline. Figure 2 shows a 2D Map example of a sperm whale encounter with all four algorithms used to localise.\nThe 3D map is similar but with the ability to manipulate and rotate the map through three dimensions using the left mouse button. The 3D map also allows an intuitive display of the localisation errors calculated by each algorithm. Least Squares and Simplex2D/3D algorithms display the localisation results as translucent three dimensional ellipses with dimensions corresponding to the calculated localisation errors. For the MCMC algorithm each Markov chain is represented by a blue track showing an accurate probability distribution of the source location. Figure 3 shows the same encounter and localisation results as in Figure 2 but represented using the 3D map. A large MCMC probability distribution and Simplex3D ellipse show the likely source location in 3D with the 2D Simplex and Least Squares algorithms represented by yellow and black 3D ellipses on the sea surface.\nRight clicking on either map will create a drop down menu with options to return the map to the original view, rotate by 90 degrees or change the length of the bearing vectors.\nResults\nThe results pane shows the localisation results for each attempted algorithm. The algorithm which best fits the data is automatically selected however this can be changed by selecting the checkbox of any other result. The data from the selected result is saved to the connected database when the ‘Save’ button is pressed in the Event Selection panel. See the Target Motion Results section for a detailed explanation of the results table.\nPrevious: Target motion Overview\nNext: Target motion algorithms",
    "crumbs": [
      "PAMGuard Website",
      "Localisation ",
      "Target Motion Analysis ",
      "Localising an Event"
    ]
  },
  {
    "objectID": "mapping/AirgunDisplay/docs/AirgunConfiguration.html",
    "href": "mapping/AirgunDisplay/docs/AirgunConfiguration.html",
    "title": "Airgun Display Configuration",
    "section": "",
    "text": "The airgun display configuration dialog is accessed from the Display&gt;AIS Ship Reporting&gt;Display Options… menu command.\n\n\n\nAirgun Options\n\n\nThe two pieces of information required to correctly position the guns are\n\nThe Source Vessel Identification\nThis is either the vessel PAMGuard is running on, in which case the gun position will be relative to the GPS receiver plugged into PAMGuard, or it can be another vessel in which case the guns’ positions will be calculated relative to the GPS receiver feeding the AIS transponder on that vessel. If the guns are on another vessel, you will need to know the vessel’s Maritime Mobile Service Identity (MMSI) number and input it to the AIS Display dialog. You can get this either from the AIS data listed within PAMGuard, or ask the vessel’s captain.\nThe location of the airgun array\nThis is in the form of two coordinates relative to the GPS receiver feeding PAMGuard or the GPS receiver feeding the AIS transponder on a different vessel.\n\n\nMitigation Zone\nYou may also enter a mitigation zone, which is a simple circle of fixed radius around the airgun location.\nYou may also enter a predicted mitigation zone which will display the area on the PAMGuard map which will fall within the mitigation zone within the specified time period.\nPrevious: Airgun Display Overview\nNext: Airgun Display",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Airgun Display ",
      "Airgun Display Configuration"
    ]
  },
  {
    "objectID": "mapping/AirgunDisplay/docs/AirgunOverview.html",
    "href": "mapping/AirgunDisplay/docs/AirgunOverview.html",
    "title": "Airgun Display Overview",
    "section": "",
    "text": "During mitigation exercises, it is often required to know the locations of detections relative to a seismic airgun array.\nPAMGuard can display the locations of airguns, and the extent of a specified mitigation zone around the guns.\nAirgun locations can be set relative to the GPS receiver of the vessel running PAMGuard or relative to the AIS data received from one or more different vessels.\nNext: Airgun Display Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Airgun Display ",
      "Airgun Display Overview"
    ]
  },
  {
    "objectID": "mapping/AIS/docs/AISDisplay.html",
    "href": "mapping/AIS/docs/AISDisplay.html",
    "title": "AIS Display",
    "section": "",
    "text": "AIS Data can be displayed on the PAMGuard map. Vessels are displayed along with an optional heading arrow. Hovering the mouse over a vessel will bring up a window displaying further information about the vessel.\n\n\n\nAIS Map Overlay\n\n\n\nOptions\nAIS Display heading arrows and the track of each vessel can be turned on and off from the AIS Display dialog which is accesed from the Display&gt;AIS Ship Reporting&gt;Display Options menu command.\n\n\n\nAIS Map Options\n\n\nA full list of recent AIS data can be viewed from the Display&gt;AIS Ship Reporting&gt;Show all Ship Data. Note that so called “static” data, such as the vessel name, type, cargo and destination are transmitted less often than position course and speed information. It is therefore not unusual to see AIS data items which only have basic position information. Cargo and Destination information accuracy is also highly dependent on each vessels master keeping that information up to date.\nPrevious: AIS Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "AIS ",
      "AIS Display"
    ]
  },
  {
    "objectID": "mapping/mapHelp/docs/mapControlPanel.html",
    "href": "mapping/mapHelp/docs/mapControlPanel.html",
    "title": "Map Controls",
    "section": "",
    "text": "Control Panel Items\nThe control panel on the upper right of the map allows the user to pan, zoom and rotate the map.\nThe table below provides a description of each button on the map control panel.\n\n\n\n\n\n\n\n\n rotate map clockwise\n zoom in\n orientate map to ship’s heading\n\n\n\n\n Pan up-Left\n zoom out\n orientate map North\n\n\n Pan with mouse\n Measure with mouse\n set map centre on ship\n\n\n\nThe controls can be displayed or hidden using the map pop-up menu.\nPrevious: Map Information Panel\nNext: Making Map Files",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Map Display ",
      "Map Controls"
    ]
  },
  {
    "objectID": "mapping/mapHelp/docs/mapInformationDisplayPanel.html",
    "href": "mapping/mapHelp/docs/mapInformationDisplayPanel.html",
    "title": "Map Information Display Panel",
    "section": "",
    "text": "Overview\nThe map information display panel provides the user with geographical position and range information. The figure below gives an example of the display.\n\n\n\nmap information display panel\n\n\n\n\nGPS data\nHere, the latitude, longitude, time, date, true course and speed as derived from the ship’s GPS are displayed.\nThe information area can be displayed or hidden using the map pop-up menu.\n\n\nCursor Position\nThe cursor position in latitude and longitude is displayed, by converting screen coordinates to real-world coordinates.\nThe range and bearing from the ship’s GPS to the cursor is also shown here. This will allow range estimates, for example, between the ship and areas where bearing lines cross.\n\n\nOther Measurements\nTo measure between two arbitrary points on the map, press the ‘Measure With Mouse’ button on the map control panel and drag the cursor across the screen. An additional display panel will appear above the controls showing the range and bearing from where the mouse was pressed down to where it has been dragged to.\n\n\n\nMaking a measurement with the mouse\n\n\nPrevious: Map Overlays\nNext: Map Controls",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Map Display ",
      "Map Information Display Panel"
    ]
  },
  {
    "objectID": "mapping/mapHelp/docs/MapOverlays.html",
    "href": "mapping/mapHelp/docs/MapOverlays.html",
    "title": "Map Overlays",
    "section": "",
    "text": "PAMGuard uses a system of overlays to display data from detectors and other PAMGuard modules on the map. Which overlay options are available will depend on which modules are currently loaded.\n\nTurning overlays on and off\nThe easiest and quickest way to turn overlays on and off is from the map pop up menu, accessed by clicking with the right mouse button anywhere on the map.\n\n\n\nMap Overlay Menu\n\n\nYou may select or de-select each overlay item. Selected items will appear on the map and be listed in the map key.\nMany types of data now have additional selection options which control exactly which data get displayed. If additional options are available, the tick mark adjacent to selected items is replaced with a small button .\nFor more advanced options, use the second item on the pop-up menu “Plot Overlay Options…” to access the overlay options dialog.\n\n\n\nMap Overlay Dialog\n\n\nThis allows the same selection of items as the pop-up menu, but also offers additional options to specify for how long each type of data should be displayed. Again, data which have additional display options will have a small button beside them . Click this button for options specific to that type of data.\nPrevious: Map Display\nNext: Map Information Panel",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "Map Display ",
      "Map Overlays"
    ]
  },
  {
    "objectID": "mapping/NMEA/docs/ClockOptions.html",
    "href": "mapping/NMEA/docs/ClockOptions.html",
    "title": "Setting the PC Clock",
    "section": "",
    "text": "Note that for this function to work on Windows platforms it is necessary to change some of the Windows security settings. See below for details.\nAccurate timing is critical to many survey and mitigation exercises.\nAll timing within PAMGuard uses the Universal Time Code (equivalent to GMT) which is read from the PC clock.\nThe PC Clock can be set from the GPS, which receives an accurate time stamp from satellites.\nSelect the menu Detection&gt;GPS&gt;Update PC Clock to open the dialog\n\nThe upper text area shows the current PC time. When GPS data are received, the correct time will be printed in the lower text area and you are given the option of setting the PC clock from the GPS data.\nCheck “Auto set on PAMGuard start-up” and the PC clock will automatically be set from the GPS each time PAMGuard starts. Time Zones\nNote that PAMGuard sets and reads the PC clock in such as way that the local time, (for instance, as shown in the Windows task bar) may show a time different to UTC as governed by the time zone and daylight savings settings of your computer. Don’t worry - this is perfectly normal. The correct UTC time as used by PAMGuard is clearly visible on the GUI display. Setting the PC clock by hand from the control panel is likely to set the incorrect UTC in the machine.\n\nWindows Security Settings\nSince Windows 10, it has not been possible to automatically update the PC clock from PAMGuard unless you make some small changes to the Windows security settings. This needs to be done by someone with Administrator privileges on the PC, but only needs to be done once.\nThese instructions are based on those at Fortect Windows Optimization tips.\n\nOpen the Local Security Policy configuration by typing ‘secpol’, or ‘local security policy’ in the Windows task bar.\n\nGo into Local Policies User Rights Assignment and double click on Change the system time.\n\nWhere is says Enter object names to select, type Users.\nClick on Check Names (optional) and OK.\nClick OK again to close the Local Security Policy manager.\nRestart your computer for the changes to take effect.\n\nPrevious: Configuring GPS",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "NMEA and GPS ",
      "Setting the PC Clock"
    ]
  },
  {
    "objectID": "mapping/NMEA/docs/configuringNMEADataSource.html",
    "href": "mapping/NMEA/docs/configuringNMEADataSource.html",
    "title": "Configuring the NMEA Data Source",
    "section": "",
    "text": "PAMGuard GPS & NMEA Overview\nGPS Data are output from GPS Receivers in National Marine Electronics Association (NMEA) format. NMEA format Data are also output by many other ships instruments, such as wind instruments and echo sounder and also by AIS (Automatic Ship Identification) systems.\nNMEA is a standard specification for interface and data exchange between marine instruments. It allows ship’s instruments to “talk to” each other and to computers. For more detailed information see https://en.wikipedia.org/wiki/NMEA_0183.\nNMEA Data form older devices are generally sent in RS-232 protocols and can be input to a computer via a serial port. If your computer does not have a serial port (nowadays few laptops do), then it’s generally possible to use a serial to USB to serial converter. Most GPS systems now connect to your PC through a USB connection rather than the older 9 pin serial connection. Note though that these USB connections are still using the serial port protocol, it’s just that the Serial to USB converter has been built into the GPS. An incredibly annoying feature of these Serial / USB connectors is that if you plug them into a different UDB port on your computer, it will change the number of the virtual serial port, so whenever possible, plug them into the same port each time ! If the serial port number has changed, then you’ll need to go into the configuration dialog (see below) and select the correct port.\nGPS data are fundamental to PAMGuard in addition, several other useful data sources which may be useful to PAMGuard may be available in an NMEA data string and several PAMGuard modules, for instance the AIS Module may need to access NMEA data. Thus, PAMGuard has a module for accessing NMEA data and an additional module for GPS Processing which is dependent on an NMEA Acquisition module. If needed, you can have more than one NMEA module in your configuration, each connected to a different NMEA device, or you can get an NMEA multiplexor to combine NMEA data from multiple devices into a single data stream.\n\n\nAdding an NMEA Data Collection Module\nTo add a new NMEA Data Collection module to PAMGuard, select the File-&gt;Maps and Mapping-&gt;NMEA Data Collection menu item.\n\n\nSetting the NMEA Parameters\nFrom the Detection Menu, select NMEA Data Collection&gt;NMEA Parameters\n\n\n\nNmeaParametersDialog (17K)\n\n\n\nSimulated NMEA and AIS Data\nPAMGuard can also simulate NMEA GPS and AIS data. This is useful during training and setting up exercises. GPS Data are simulated according to a user defined start position, course and speed. AIS data are sampled from data collected in the English channel.\n\n\n\nChecking the NMEA data source\nTo verify the NMEA data source, select Detection&gt;NMEA Data Collection&gt;NMEA Strings\nThis will show the NMEA Strings List Dialog, an example of which is below.\n\n\n\nnmeaStringsListDialog (17K)\n\n\nThis dialog shows the current NMEA strings being acquired by PAMGuard. The update time and string ID are also shown. In the example above, a GPRMC string has been acquired.\nThe “Last update” time should update according to the time and date on your GPS receiver, or the simulated date if in simulation mode. If this is not the case, please check all cables and connections and re-try. If using the NMEA Server utility, check that the NMEA output strings are updating.\n\n\nHints and Solutions\nSetting up NMEA isn’t always as straight forward as it might be.\nSome information on making connections to an NMEA signal can be found here.\nSome troubleshooting FAQ’s and solutions are here.\nNext: Configuring GPS",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "NMEA and GPS ",
      "Configuring the NMEA Data Source"
    ]
  },
  {
    "objectID": "mapping/NMEA/docs/Troubleshooting.html",
    "href": "mapping/NMEA/docs/Troubleshooting.html",
    "title": "NMEA / GPS Troubleshooting",
    "section": "",
    "text": "I’m not getting any GPS Data\nI can’t find the right serial port\nThe GPS makes my mouse go crazy !\nThe GPS isn’t outputting any data\nAll or some of the NMEA Strings are empty\n\n\nAnswers\nI’m not getting any GPS Data\nThere are several possible causes of this. Either the GPS has no output, the serial port is incorrectly configured, there is a problem with the antenna or there is a wiring problem between the GPS and computer.\n[Back to the top]\nI can’t find the correct serial port\nIf you have no serial ports or too many serial ports in the NMEA Configuration Dialog and are using a serial to USB converter check that the drivers are correctly installer. On Windows machines, look in the control panel for unknown USB devices. If you’re having trouble identifying the right port, then it may be worth restarting PAMGuard with and without the converter plugged in to see which ports appear and disappear from the list in the NMEA Configuration Dialog.\n[Back to the top]\nThe GPS makes my mouse/cursor go crazy !\nWhen a Windows PC starts up and a GPS or other NMEA device is connected, the Plug and Play system thinks that a serial mouse or trackball has been installed. The system then starts to interpret NMEA messages as mouse movements. Your cursor seems to jump all over the place and it becomes impossible to control your machine.\nTo solve this problem either temporarily or permanently, do one of the following:\n\nMake sure the GPS is either switched off or is not plugged in when you start your system.\nStart the system with the GPS plugged in and switched on - your system will recognise it as a mouse or trackball and go a bit crazy. Before it manages to click on anything too important unplug or switch off your GPS. This will enable you to control your system without the GPS creating random cursor movements. Go into the control panel, select the mouse icon, go to the hardware tab and you will see your normal mouse or mice listed as well as the annoying phantom mouse which is really the GPS. You can disable it in this dialog by selecting the phantom mouse, clicking on the properties button and disabling it at the bottom of the properties dialog. You only have to do this once in the lifetime of your computer. Your system will then start normally whether the GPS is plugged in or not as you start up (i.e. it will continue to recognise the GPS as a mouse, but will know that it’s disabled and not use it). If you start your computer without the GPS plugged in, then the GPS will not appear in the list of mice in the control panel, so you can’t disable it in the way outlined above. I’ve done this on dozens of machines and it always seems to work and does not interfere in any way with other mice on your system - just make sure you disable the right one !\n\n[Back to the top]\nThe GPS isn’t outputting any data\nIf you’re convinced that the GPS is correctly connected any you still aren’t getting any data, then it’s possible that the GPS has been configured to either not output data at all, to output data in a different format or at a different baud rate.\nThis is unlikely with marine GPS’s, but many hand held devices are set to different communications protocols. Refer to the manufacturers hand book (or jab about randomly at the GPS’s menu options) and set it to output data in NMEA 0183 format at 4800 baud.\n[Back to the top]\nAll or some of the NMEA Strings are empty\nIf data are getting into the computer and you can see strings in the NMEA Strings List which are mostly lot’s of ,,,,,,,, then the most likely explanation is that you’ve no satellite signal. Check your antenna has a clear view of the sky. If your GPS has only been switched on for a few minutes and has moved a long distance since it was last switched on it may take some minutes to find satellites. Refer to the manufacturers handbook for further information.\n[Back to the top]",
    "crumbs": [
      "PAMGuard Website",
      "Maps and Mapping ",
      "NMEA and GPS ",
      "NMEA / GPS Troubleshooting"
    ]
  },
  {
    "objectID": "overview/annotations/docs/loggerannotation.html",
    "href": "overview/annotations/docs/loggerannotation.html",
    "title": "Logger Forms Annotation",
    "section": "",
    "text": "Logger Form annotations can be used to design complex data entry forms with multiple input controls in which the user can enter additional data. For further details see the Help for Logger Forms.\nLogger forms can be very simple, for instance containing a single drop down list of species for the user to select, or may have many dozens of different data entry fields.\nIt is not necessary to add a Logger Forms module to PAMGuard in order to use Logger Forms as annotations.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Logger Forms Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/loggerannotation.html#usage",
    "href": "overview/annotations/docs/loggerannotation.html#usage",
    "title": "Logger Forms Annotation",
    "section": "Usage",
    "text": "Usage\n\nConfiguring\nAny module using Logger Forms annotations will offer a way of configuring those forms (see Detection Group Localiser for an example). When you enter the configuration for the forms you will first be presented with a dialog allowing to select and existing form or to create a new one.\n\nOne you have selected / created the form of your choice, you can edit the form by pressing the “Edit Form” button. This will display a dialog from the Logger Forms system which enables you to interactively add and remove controls from the form.\n\nAlternately you can directly edit the Logger UDF_ table in the database.\nSee Designing Logger Forms for further information\n\n\nData entry\nWhen required the form will appear on the screen. The user should enter data as required by the form and press Ok, or press Cancel if they do not wish to add any new data.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Logger Forms Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/loggerannotation.html#stored-data",
    "href": "overview/annotations/docs/loggerannotation.html#stored-data",
    "title": "Logger Forms Annotation",
    "section": "Stored Data",
    "text": "Stored Data\nLogger form annotations will be appended as additional columns to the output database table for the data you’re annotating, or will be written into the binary data.\nMultiple columns will be added to output database tables. One for each data entry field in the selected form.\nNote that an output table for the logger form will normally still be created, i.e. if you made a logger annotation UDF_ table UDF_MyAnnot, then the table MyAnnot will appear in the database, but no data will be written to that table.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Logger Forms Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/textannotation.html",
    "href": "overview/annotations/docs/textannotation.html",
    "title": "Text Annotation",
    "section": "",
    "text": "Text annotations store a single line of text entered by the user. The length of text that can be entered is currently set by the programmer.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Text Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/textannotation.html#usage",
    "href": "overview/annotations/docs/textannotation.html#usage",
    "title": "Text Annotation",
    "section": "Usage",
    "text": "Usage\nWhen required a small dialog box will appear on the screen. The user should enter text and press Ok, or press Cancel if they do not wish to add any text.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Text Annotation"
    ]
  },
  {
    "objectID": "overview/annotations/docs/textannotation.html#stored-data",
    "href": "overview/annotations/docs/textannotation.html#stored-data",
    "title": "Text Annotation",
    "section": "Stored Data",
    "text": "Stored Data\nA single data field using a name given to the annotation by the programmer (generally ‘text’ or ‘notes’) will be added to database tables.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Annotation ",
      "Text Annotation"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/addingRemovingPlugins.html",
    "href": "overview/PamMasterHelp/docs/addingRemovingPlugins.html",
    "title": "Adding and Removing Modules",
    "section": "",
    "text": "Adding a Module\nTo add a PAMGuard Module, select File&gt;Add Modules…\nThis provides a drop-down list of the modules available in your version of PAMGuard. These are arranged by functional group.\n\nAlternatively, modules can be added using the PAMGuard Data Model view. To access this view, select File&gt;Show data model.... The data model view opens in a new window.\nRight-click in an empty area of the this window. Select Add Modules… and the drop down module selection menu appears. Again, click on the desired module to load it.\nAfter choosing your module, a dialog box will appear prompting you to choose a name for the module. When you click OK, the module will be loaded into PAMGuard. Module names must be unique within a configuration. You can now view the module in the Data Model view.\n\n\nRemoving/Re-naming a Module\nModule removal and re-naming can be carried out using the File&gt;Remove Modules… menu option, or by using the Data Model view. In this view, right-clicking over the appropriate module’s selector button provides a drop-down menu with options to remove or re-name the module.\n\n\n\nRemoving and Renaming a Module\n\n\nPrevious: Multiple Displays\nNext: Importing Modules",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Adding and Removing Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/datastorage.html",
    "href": "overview/PamMasterHelp/docs/datastorage.html",
    "title": "Data Storage",
    "section": "",
    "text": "PAMGuard has two data storage options:\n\nThe Database\nThe Binary Store\n\nEach has advantages and disadvantaged.\nThe great advantage of the database is that stored data are generally in a form which is each to read either as a human, or via some other software.\nHowever, the database interface can be slow and the database is very inefficient at handling variable length records, such as the waveform of a click, or the contour of a whistle.\nThe Binary store is fast and is great at handling any type of data, but the files are impossible to read except with proprietary computer software\nPrevious: Model viewer\nNext: Performance Tests"
  },
  {
    "objectID": "overview/PamMasterHelp/docs/guiOverview.html",
    "href": "overview/PamMasterHelp/docs/guiOverview.html",
    "title": "Graphical User Interface",
    "section": "",
    "text": "Key Regions of the Graphical User Interface\nPAMGuard features a dynamic, multi-panel user interface. The key regions of the interface are:\n\nMain menu\nTabbed panel area\nSide panel\nStatus panel\n\n\n\nMain menu\n\nThe menus in PAMGuard are generally dynamic, i.e. items on the menus change depending on the current user-selected view and/or modules selected. Most of the settings are accessible through the main menu items, although some actions are carried out exclusively through mouse operations.\n\n\nTabbed panel area\n\nThe tabbed panel area gives access to the available plugin module views, by clicking on the appropriate tab. As you change from one tabbed panel to the next, the menu and side panel items update accordingly.\n\n\nSide panel\n\nThe side panel allows you to view information from plugin modules, even when their tabbed panel is not selected.\nThe content of the side panel will depend on which modules have been loaded. The side panel can be collapsed to make more room for the main tabbed panel by clicking on the small button in the top right hand corner of the side panel.\n\n\nStatus bar\nThe status bar is by default located at the bottom of the PAMGuard window. This view provides information on PAMGuard’s current status, for example, which sound card is running, which file is processing, available memory, etc.\n\nPrevious: PAMGuard Modules\nNext: Copying and Printing",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Graphical User Interface"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/internalstorage.html",
    "href": "overview/PamMasterHelp/docs/internalstorage.html",
    "title": "Internal Data Storage",
    "section": "",
    "text": "PAMGuard stores all types of data internally in memory while it’s running. Conceptually, we call each data object a “Data Unit”. A data unit might be a single click, a whistle, a short block of raw audio data, a slice of FFT data, a GPS position, a user comment, or anything else in PAMGuard.\nData units are stored in “Data Blocks”. These are effectively a list of data units, with each new unit being added to the end of the list. To avoid PAMGuard running out of memory, data must be regularly deleted from the start of each list. For high volume data, such as raw data from the acquisition module, of FFT data, this has to happen quickly, generally only storing seconds or at most minutes of data. For other types of data, such as detected clicks or whistles, data can be stored for a lot longer before memory issues occur, and for very low rate data, such as user comments, these can be stored indefinitely.\nUsers, or “Observers” of data are notified each time data is added to a data block so that they can process that data, update a display, etc. Many users will require that data are kept in memory for some time. For example, if you want to show an hour of GPS track on the map, the map will tell the GPS data block to store data for a minimum of one hour. Similarly, if the spectrogram display is 12 seconds long and displaying whistles, it will tell the whistle data block to store data for at least 12s. If a data block is used by more than one observer, e.g. whistles being required for 12s on the spectrogram and an hour on the map, the data will be stored for the greater of these times, i.e. one hour in this case.\nThere are no fixed limits as to how long PAMGuard can request data be held in memory for, however you will run into difficulties if you set it up to store data for too long. For example, if you set the map to show hours of clicks and clicks are coming in at a high rate, you’re going to run out of memory. In the Data Model Viewer you can see every data block and by clicking on it, can see which parts of PAMGuard are observing it, and how long they require data to be stored for.\n\nControl\nMostly, data storage times are managed fully automatically. However, just occasionally, PAMGuard gets it wrong and deletes data too early. Further, the default behaviour is to delete all data units from all data blocks every time PAMGuard starts or restarts.\nFrom the File/Internal Data Storage …“ menu you can alter the default behaviour by telling PAMGuard not to delete data every time it restarts, and set minimum storage times for each data block.\n\nPrevious: Multi-threading\nNext: External Data Storage",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Storage ",
      "Internal Data Storage"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/mixedMode.html",
    "href": "overview/PamMasterHelp/docs/mixedMode.html",
    "title": "Mixed Mode operation",
    "section": "",
    "text": "PAMGuard Mixed Mode is used to re-analyse data stored in audio files off-line.\nWhen running in mixed mode, the PAMGuard clock is set from the time in the name of the file and the current position within a file of audio data.\nGPS data is read back from the database in synch with the PAMGuard clock and sent into the PAMGuard system exactly as though it was being collected in real time.\nAny localisations calculated by PAMGuard will therefore be based on the correct GPS data for the time at which the event occurred.\nThe overall look of PAMGuard is also identical to that experienced during real time operation at sea.\nNew detections and localisations are written to the database. GPS data recycled through the system are not re-written to the database.\n\nStarting PAMGuard Mixed mode operation\nPAMGuard Mixed mode can be started from the shortcut to PAMGuard mixed mode placed on your system when you installed PAMGuard.\nIf you are using one of the platform independent jar files, then run the jar file with the program argument -m. For instance, under Windows, the command line for starting PAMGuard Beta version 1.3.02 in mixed mode with 1 Gigabyte of memory is:\njava -jar -mx4096m PAMGuardBeta_2_02_15.jar PAMGuard -m\n\n\nRunning PAMGuard Mixed Mode\nWhen PAMGuard starts in Mixed mode, it will not ask for a psfx file, but will instead ask for a database file to open.\nYou must select a database which was previously filled with data from PAMGuard.\nAs with Viewer mode, PAMGuard will read it’s configuration settings from the database and not from a psfx file.\nConfigure the sound acquisition module to take data either from a file or a file folder.\nWhen you start PAMGuard, there may be a pause of a few seconds as GPS and other data are extracted from the database.\nIncluding a sound output module in your model will enable you to hear the sounds and will also control the speed of analysis so that data are analysed in real time.\nIf you do not include a sound output module, data will be processed as fast as the machine is able. GPS data will however remain fully synchronised with the audio data.\nPrevious: Viewer Mode\nNext: Clocks and Time",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "Mixed Mode operation"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html",
    "href": "overview/PamMasterHelp/docs/modules.html",
    "title": "PAMGuard Modules",
    "section": "",
    "text": "PAMGuard contains of an ever growing number of modules, each of which performs some sort of data handling task. Individual modules may do anything from acquiring sound data, to managing a database, or searching for a particular sound type. Generally, every module will acquire data either from another module, or through some external interface (such as a sound card, GPS or depth sensor readout). The output of a module may be a display, more data or both. Data might be stored in the PAMGuard database or binary store, or might just be there for other modules to subscribe to. A single module may have multiple output data streams. For instance, the sound acquisition module primarily outputs raw audio data to other PAMGuard modules, but also outputs data providing a record of when sound acquisition was started and stopped which can be stored in the database.\nPAMGuard currently contains 70 modules which can be selected and configured by the user (See the table below). It is generally possible to create multiple instances of a given module type. For instance, the operator may wish to incorporate two click detectors, each optimised for a different species, or have two sound acquisition modules, one acquiring low frequency data and one high frequency data. For certain module types (e.g. GPS acquisition), the user may be restricted to having a single instance.\nWe are constantly developing new modules for PAMGuard. The table also includes some information on modules which we’re working on at the moment. Due to PAMGuard being open source, there may of course be other modules under development we don’t yet know about.\nLast updated 27 November 2024\nMaps and Mapping, Utilities, Sensors, Displays, Sound Processing, Detectors, Classifiers, Localisers, Visual Methods",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#maps-and-mapping-6-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#maps-and-mapping-6-modules",
    "title": "PAMGuard Modules",
    "section": "Maps and Mapping (6 modules)",
    "text": "Maps and Mapping (6 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nNMEA Data Collection\nAny\nCollects NMEA data from a serial port\n\n\nGPS Processing\nAny\nInterprets NMEA data to extract GPS data\n\n\nMap\nAny\nDisplays a map of vessel position and detections\n\n\nAIS Processing\nUp to 1\nInterprets NMEA data to extract AIS data\n\n\nAirgun Display\nAny\nShows the position of airguns (or any other source) on the map\n\n\nFixed Landmarks\nAny\nPlace object symbols on the PAMGuard map",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#utilities-11-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#utilities-11-modules",
    "title": "PAMGuard Modules",
    "section": "Utilities (11 modules)",
    "text": "Utilities (11 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nDatabase\nExactly 1\nStores PAMGuard data in a database\n\n\nBinary Storage\nUp to 1\nStores PAMGuard data in files on the hard drive\n\n\nData Map\nExactly 1\nShows a summary of data density over time for large datasets\n\n\nUser input\nUp to 1\nCreates a form for the user to type comments into\n\n\nAural Listening Form\nAny\nCreates a form for the user to manually log things they hear\n\n\nSignal Injection and Detector Evaluation (SIDE)\nUp to 1\nSignal injection and real time performance tests\n\n\nAlarm\nAny\nAlerts the operator when certain detections are made\n\n\nSpectrogram Annotation\nAny\nOffline marking on the spectrogram display\n\n\nPrint Screen\nUp to 1\nCapture PAMGuard screens to time-stamped image files and the clipboard. Use as a shortcut\n\n\nScroll Effort\nUp to 1\nEnables an observer to enter their name and infomation about which displays are being monitored\n\n\nBackup Manager\nUp to 1\nManage automated data backups",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#sensors-6-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#sensors-6-modules",
    "title": "PAMGuard Modules",
    "section": "Sensors (6 modules)",
    "text": "Sensors (6 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nAnalog Array Sensors\nUp to 1\nReads Depth, Heading, Pitch and Roll) using analog sensors\n\n\nHydrophone Depth Readout\nAny\nReads and displays hydrophone depth information\n\n\nArray Accelerometer\nUp to 1\nReads and accelerometer to orientate a hydrophone array\n\n\nAngle Measurement\nAny\nReads angles from a Fluxgate World shaft angle encoder. (Can be used to read angle of binocular stands)\n\n\nSoundTrap Detector Import\nUp to 1\nTools for import of SoundTrap detector data\n\n\nCPOD Detector Import\nAny\nImports CPOD data",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#displays-4-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#displays-4-modules",
    "title": "PAMGuard Modules",
    "section": "Displays (4 modules)",
    "text": "Displays (4 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nUser Display\nAny\nCreates an empty display panel which the user can add spectrograms and other displays to\n\n\nLocal Time\nAny\nShows local time on the display\n\n\nLevel Meter\nAny\nShows signal level meters\n\n\nArray Orientation\nUp to 1\nDisplays array depth and orientation data",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#sound-processing-18-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#sound-processing-18-modules",
    "title": "PAMGuard Modules",
    "section": "Sound Processing (18 modules)",
    "text": "Sound Processing (18 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nSound Acquisition\nAny\nControls input of sound data from sound cards, NI cards, etc.\n\n\nSound Output\nExactly 1\nControls output of sound data for listening to on headphones\n\n\nFFT (Spectrogram) Engine\nAny\nComputes spectrograms of audio data\n\n\nFilters (IIR and FIR)\nAny\nFilters audio data\n\n\nDecimator\nAny\nDecimates (reduces the frequency of) audio data\n\n\nCepstrum\nAny\nCalculates a continuous Cepstrum from FFT Data\n\n\nSound recorder\nAny\nRecords audio data to wav of AIF files\n\n\nClip generator\nAny\nGenerates and stores short clips of sound data in response to detections\n\n\nSignal Amplifier\nAny\nAmplifies (or attenuates) audio data\n\n\nPatch Panel\nAny\nReorganises and mixes audio data between channels\n\n\nSpectrogram smoothing kernel\nAny\nSmooths a spectrogram of audio data\n\n\nSeismic Veto\nAny\nCuts out loud sounds from audio data\n\n\nNoise Monitor\nAny\nMeasures noise in predefined frequency bands (e.g. thrid octave)\n\n\nNoise Band Monitor\nAny\nMeasure noise in octave or third octave bands\n\n\nFiltered Noise Measurement\nAny\nMeasure noise in a single arbitrary filter band (replaces dBHt module)\n\n\nLong Term Spectral Average\nAny\nMake Long Term Spectral Average Measurements\n\n\nEnvelope Tracing\nAny\n\n\n\nBeamformer\nAny\nContinuous Frequency Domain Beamforming",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#detectors-11-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#detectors-11-modules",
    "title": "PAMGuard Modules",
    "section": "Detectors (11 modules)",
    "text": "Detectors (11 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nClick Detector\nAny\nSearches for transient sounds, attempts to assign species, measure bearings to source, group into click trains, etc.\n\n\nClick Train Detector\nAny\nSearches for click trains in detected clicks.\n\n\nWhistle and Moan Detector\nAny\nSearches for tonal noises. Measures bearings and locations of source. Replaces older Whistle Detector\n\n\nWhistle Detector\nAny\nSearches for tonal noises. Measures bearings and locations of source\n\n\nIshmael energy sum\nAny\nDetects sounds with energy in a specific frequency band\n\n\nIshmael spectrogram correlation\nAny\nDetects sounds matching a user defined ‘shape’ on a spectrogram\n\n\nIshmael matched filtering\nAny\nDetects sounds using a user defined matched filter\n\n\nLikelihood Detector\nAny\nAn implementation of a likelihood ratio test\n\n\nRight Whale Edge Detector\nAny\nDetects right whale upsweep calls\n\n\nGeneralised Power Law Detector\nAny\nGeneralised Power Law Detector for tonal sounds\n\n\nSoundTrap Click Detector\nAny\nClick Detector module for Soundtrap detector data only",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#classifiers-4-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#classifiers-4-modules",
    "title": "PAMGuard Modules",
    "section": "Classifiers (4 modules)",
    "text": "Classifiers (4 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nWhistle Classifier\nAny\nAnalyses multiple whistle contours to assign to species\n\n\nRocca\nAny\nReal-time acoustic species identification of delphinid whistles and clicks\n\n\nMatched Template Click Classifer\nAny\nClassifies clicks based on an ideal template to match and a template to reject. An example of this is to classify beaked whale clicks in an environment with dolphin clicks\n\n\nDeep Learning Classifier\nAny\nClassifies sections of raw acoustic data based on an imported deep learning classifier",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#localisers-8-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#localisers-8-modules",
    "title": "PAMGuard Modules",
    "section": "Localisers (8 modules)",
    "text": "Localisers (8 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nBearing Localiser\nAny\nEstimate bearing to detections or spectrogram marks from small aperture arrays\n\n\nGroup 3D Localiser\nAny\n2D and 3D Localisation for large aperture arrays\n\n\nDetection Grouper\nAny\nGroups detections and other data using manual annotations on PAMGuard displays\n\n\nIshmael Locator\nAny\nLocates sounds extracted either from areas marked out on a spectrogram display or using output from a detector\n\n\nMultipath 3D Localiser\nAny\nLocates sounds detected by the click detector using surface echo’s to obtain slant angles and generate a 3-D location\n\n\nDIFAR Azigram Engine\nAny\n(BETA) Azigram engine for multiplexed DIFAR data (BETA)\n\n\nDIFAR Directional Audio\nAny\nAudio from a DIFAR sonobuoy that has been beamformed at a user-specified single steering angle. This module can be used to reduce directional masking noise.\n\n\nDIFAR Localisation\nUp to 1\nDIFAR Sonobuoy localisation module - takes raw data source with multiplexed directional audio data",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/modules.html#visual-methods-2-modules",
    "href": "overview/PamMasterHelp/docs/modules.html#visual-methods-2-modules",
    "title": "PAMGuard Modules",
    "section": "Visual Methods (2 modules)",
    "text": "Visual Methods (2 modules)\n\n\n\nModule\nNumber\nFunction\n\n\n\n\nVideo Range\nAny\nCalculates ranges based on angles measured from video, observer height and earth radius\n\n\nLogger Forms\nUp to 1\nReplicates the functionality of User Defined Forms in the IFAW Logger software\n\n\n\nPrevious: PAMGuard Architecture\nNext: Graphical User Interface Overview",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Modules"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/multithreading.html",
    "href": "overview/PamMasterHelp/docs/multithreading.html",
    "title": "Multithreading",
    "section": "",
    "text": "PAMGuard can operate in either a single thread mode, or a multi-thread mode.\nIn multi-thread mode, each process within each PAMGuard module operates in a different processing thread, which allows several processes to take place at once in a multiprocessor computer.\nIn single thread mode, actions take place one at a time as data propagates through PAMGuard.\nThe advantage of multi-thread operation is that the different tasks will spread between multiple processing cores on the computer, thereby gaining access to more processing power.\nIn single thread operation, only a single processing core will be used, so less processing power is available.\nMulti-threading may introduce instability in some modules, where certain processes have to happen in a certain sequence. It can also mean that the last second or so of a file, when re-processing offline, may still be in a buffer when processing stops, so never get analysed. So although multi-threading is usually preferable, single thread operation is maintained as an option.\nAs an example, when using PAMGuard to decimate wav files using three modules: Sound acquisition to read the files, a Decimator to drop the frequency, and a Sound Recorder to make lower frequency wav files, it’s better to turn multi-threading off, which will ensure no samples are lost, and in any case there would be no advantages in having multiple threads since you’re only doing one thing.\n\nTurning multi-threading on and off\nMulti-threading can be turned on and off from the Detection&gt;Multi-threading menu command.\n\n\n\nMain Menu\n\n\nYou can also set the amount of “jitter” between threads. This is the maximum amount of data that can be queued between two threads. If the data queue exceeds this time, then the earlier thread will wait until the second thread has processed some of the data in the queue.\nMore jitter allows more flexibility between threads which can allow PAMGuard to use multiple processor cores more efficiently. However, increased jitter can cause a loss of synchronisation between the processing, graphics output and sound play back. Generally, the default setting of 1000ms is about right for most operations.\n\nGarbage Collection\nThe Java language handles garbage collection (clean up of unused objects in memory) very efficiently. Sometimes though it’s helpful to give it a ‘nudge’ and tell it to clean up more often in which case the ‘Run additional garbage collection’ option can be used.\nPrevious: Project Information\nNext: Data Storage",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Multithreading"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/PamdogHelp.html",
    "href": "overview/PamMasterHelp/docs/PamdogHelp.html",
    "title": "PAMGuard WatchDog",
    "section": "",
    "text": "PamDog, the PAMGuard watchdog program, can be used when you want to start PAMGuard automatically and want to ensure that it never, ever stops, or if it does stop accidentally due to a fault, it will restart itself.\nPamDog is particularly useful when a PAM system needs to be left running unattended.\nPamDog has only been tested under Windows. Some functions may not be available under other operating systems but the main ones should be OK.",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard WatchDog"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/PamdogHelp.html#installing-and-running",
    "href": "overview/PamMasterHelp/docs/PamdogHelp.html#installing-and-running",
    "title": "PAMGuard WatchDog",
    "section": "Installing and Running",
    "text": "Installing and Running\n\nSince PAMGuard release 2.02.03, PamDog has been included in the PAMGuard build, but is not set up to run automatically when Windows starts. To start PamDog, you no longer need to install Java yourself. Simply double click on the file PamguardBeta_WatchDog.exe which you’ll find in the PAMGuard installation folder (probably C:\\Program Files\\Pamguard). See below for instructions on making PamDog start with Windows.\nBy default, no user interface will be displayed. PamDog will run in the background and can be configured via an icon which will appear in the Tray Icon area, that’s the little icons down in the bottom right corner of the Windows task bar\n\nConfiguring and Starting PAMGuard\nIf you are using the watchdog DO NOT start PAMGuard in the normal way from the Windows Start menu. PamDog has to start PAMGuard with some specific options enabled so that PamDog and PAMGuard can communicate. These options will not be available if you’ve started PAMGuard from the Start menu.\nA typical sequence of operations required to use PamDog successfully is as follows:\n\nWith PamDog deactivated, launch PAMGuard from the Start menu in the normal way, configure it how you want, check it’s all running OK and save your psfx file.\nClose PAMGuard.\nOpen the PamDog configuration dialog and configure PamDog with the correct paths and options to Java, the Pamguard executable and your psfx file.\nActivate PamDog, sit back and allow PamDog to launch and start PAMGuard.\nIf you need to modify your configuration in anyway, deactivate PamDog and repeat the above steps.\n\n\n\nStarting PamDog Automatically\nYou should not run more than one instance of PamDog at a time. Most users will want PamDog to launch automatically when Windows starts. To make PamDog launch automatically, the easiest way is simply to create a shortcut to the PamguardBeta_WatchDog.exe program in your Start folder.\nTo locate the Start folder click on the Windows Start button, then RIGHT click on ‘All Programs’. A small menu should apear. Select ‘Open’ and a Windows explorer window should open in a folder with a name something like ‘C:\\Users\\*yourusername*\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu’ Go into ‘Programs’ then into ‘Startup’ so that you’re in a folder with a name like ‘C:\\Users\\*yourusername*\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup’. Right click on PamguardBeta_WatchDog.exe and drag across to the Startup folder. Release the mouse and select “Create Shortcuts here” from the menu. Don’t drag the actual .exe file across !\nRestart your computer and check that PamDog has started automatically by searching for it in the Tray Icon area.",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard WatchDog"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/PamdogHelp.html#configuring",
    "href": "overview/PamMasterHelp/docs/PamdogHelp.html#configuring",
    "title": "PAMGuard WatchDog",
    "section": "Configuring",
    "text": "Configuring\nTo configure PamDog, go to the System tray and find the PAMGuard watchdog icon. Click on it to open the configuration dialog or right click on it for other options.\nConfiguration and control options are spread over three tabs, Control, Pamguard and Java. All controls in the dialog have tool tips - hover the mouse over them and they will provide some information on what they do.\n\nControl\n\nThe Control panel controls whether or not the Watchdog is active. If the watchdog is correctly configured and the “Activate Watchdog” button is checked, then PAMGuard will be launched automatically and if PAMGuard is stopped, will immediately restart\nActivate Watchdog: Activates or deactivates the watchdog.\nUDP Port: UDP (network protocol) port for communication between PamDog and PAMGuard.\nAllow system restarts: Will restart Windows if the watchdog fails to start PAMGuard several times in succession. Note that if this option is selected and PAMGuard cannot start for some fundamental reason, such as an acquisition device becoming disconnected, then the computer will continually reboot. The reboot cycle is relatively slow so there should always be sufficient time one the computer has restarted to deactivate the watchdog.\nopen log file folder: Opens a folder containing PAMGuard and PamDog log files. Note that information displayed in the terminal window when PAMGuard is running normally is written to a log file when PAMGuard is launched by PamDog.\n\n\nPamguard\n\nThe Pamguard panel controls the location of important PAMGuard files and folders and tells PamDog which PAMGuard configuration file should be used.\nWorking Directory: The folder containing the PAMGuard executable jar file. Normally this will be something like C:\\Program Files\\Pamguard64.\nPamguard Executable jar: The main PAMGuard jar file which must be in the Working Directory.\nPamguard Configuration file: The PAMguard configuration (.psf) file.\nLibrary path: The name of a folder containing library files which must be in the Working Directory which will be either lib or lib64 for 32 or 64 bit versions of PAMGuard and the Java virtual machine.\nOther PAMGuard command line options: Leave blank. This is for the use of the PAMGuard development team.\n\n\nJava\n\nThe Java panel controls the Java virtual machine which is required to run PAMGuard.\nJava Executable: The Java runtime executable program. This is always called java.exe and will normally be found in a folder with a name like ‘C:\\Program Files (x86)\\Java\\jre1.*.*_**\\bin’ for 32 bit Java versions or ‘C:\\Program Files\\Java\\jre1.*.*_**\\bin’ for 64 bit Java versions. For advanced functionality (including better task killing capabilities), use the java.exe found in a jdk**** folder instead of a jre**** folder.\nMin VM Memory: The minimum amount of memory to allocate to the Java virtual machine.\nMax VM Memory: The maximum amount of memory to allocate to the Java virtual machine. 32 bit versions of Java can have a maximum of 1024 Mega bytes of memory, 64 bit versions can use up to 8192 Mega bytes\nOther VM command line options: Leave blank. This is for the use of the PAMGuard development team.\nPrevious: Clocks and Time",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard WatchDog"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/pamguardBackground.html",
    "href": "overview/PamMasterHelp/docs/pamguardBackground.html",
    "title": "PAMGuard Background",
    "section": "",
    "text": "Background\nThe PAMGuard project was established to provide a world standard software infrastructure for acoustic detection, localisation, and classification for use in mitigating against the risk of harm to marine mammals, and for research into their abundance, distribution and behaviour.\nMany marine activities involve underwater sound emissions. To mitigate against harm to marine mammals, observers are often employed to visually scan the sea surface for the presence of animals. In the event of a sighting, procedures such as suspension/delay of activities may be implemented to avoid harm. Visual observations play a vital role, but marine mammals are difficult to spot on the sea surface, especially when weather and light conditions are poor. However, many marine mammals produce loud and distinctive vocalisations, which can often be detected more reliably than visual cues. For these species, passive acoustic monitoring (PAM) offers an effective means of detection.\n\n\nThe PAMGuard Approach\nPAMGuard provides open-source PAM software based on a platform-independent (e.g. Windows, Linux, Macintosh OS), flexible, modular architecture. The open-source aspect of software development is facilitated through the project’s presence on GitHub, where a community of altruistic developers can provide extra resources. PAMGuard is currently maintained by a team of Research Scientists at the University of St Andrews in Scotland. Open development means that the software is free and that access to the code is easy and assured. It also allows the code’s copyright to be protected in perpetuity so that it cannot readily be closed and commercialised to the detriment of its users. It ultimately ensures that more people have easy access for development. This generally speeds up innovations and improves the performance and maintainability of the code.\nIt is anticipated that the PAM community will support this initiative and donate their intellect and facilities to assist PAMGuard in achieving its goal. Involvement in the PAMGuard community allows researchers and industry to develop and contribute to a technology which will provide an important tool for the understanding and protection of the marine environment.\nNext: PAMGuard Architecture",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "PAMGuard Background"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/pcclock.html",
    "href": "overview/PamMasterHelp/docs/pcclock.html",
    "title": "Clocks and Time",
    "section": "",
    "text": "These notes apply to running PAMGuard in real time, acquiring data from a sound card or other acquisition device, entering data manually, etc. When re-processing data from files, dates and times are always taken from the file names and the number of samples processed from the files.\nWhen running PAMGuard in real time, time can be taken from several different sources:\n\nThe PC Clock\nThe GPS\nThe number of acquired samples from the acquisition system.\n\nThe only one of these that can be guaranteed to be accurate is the GPS since GPS times are continually updates from globally accurate atomic clocks. (GPS works by measuring time differences between signals from different satellites to nanosecond accuracy, so GPS time HAS to be accurate).\nIf your computer is connected to the Internet, then it’s also likely that the PC Clock will have set itself accurately to Internet Time.\nEarlier versions of PAMGuard were able to automatically set the PC Clock from the GPS. Sadly, that’s quite tricky to do now on Windows computers since PAMGuard would have to be started with admin privileges.\nOther clocks ‘drift’, that is they gain or lose a bit of time every day. This includes the PC internal clock, which will gradually become wrong by several seconds unless it’s been connected to the Internet and is able to update itself regularly. It also applies to the ‘clocks’ that control the sampling of your acoustic data in a sound card, or other input device. The exact number of samples you get will not be exactly what you set it to, so times calculated based off counts of samples will gradually become inaccurate.\n\nUTC\nPAMGuard records all data using UTC Time (Coordinated Universal Time) also known as Zulu Time in some countries.\nThis is a standard international time zone, that is also used as Internet Time. It does not change with daylight saving and is the same at every point in the world. Knowing that data are in UTC keeps things simple, and you can always convert to your local time, with or without daylight saving, when needed.\nBe Careful!, particularly with daylight saving. For instance, I’m in the UK, so my computer is set to the time zone UTC+00.0 (Dublin, Edinburgh, Lisbon, London). This is NOT the same as UTC (Coordinated Universal Time) since on top of that UTC+00.0, it’s summer, so my PC has added an additional hour for daylight saving, i.e. the current time is 08:08 UTC, but 09:08 local.\n\n\nPAMGuard Time\n\nAcoustic Data\nPAMGuard assigns times to each detection, or other recorded data, by reading the PC Clock when PAMGuard starts, then for each acoustic detection, it simply adds on a number of seconds calculated as the total number of processed samples divided by the sample rate.\n\n\nNon-Acoustic Data\nFor non-acoustic data, for instance User Comments, PAMGuard simply uses the current PC Clock time.\n\n\n\nPC Clocks and Time Zones\nIt is likely that the clock in the corner of your PC will be showing local time. That is OK. So long as the time zone in the PC is set correctly, then the true underlying clock within the PC will be set to UTC.\nOne of the most common errors people make is to set their PC Clock to UTC, knowing that that’s what PAMGuard likes, but since there is a time zone set in their PC, this pushes the PC’s internal clock to UTC minus whatever the PC time zone was along with any daylight saving.\nThe best thing to do therefore, is to leave it well alone !\n\nSetting the PC Clock Manually\nSometimes, you have no choice but to set the PC Clock manually. For instance, if you’re not connected to the Internet and you can’t get the GPS to set the PC Clock because you don’t have admin rights.\nIf you do have to do this, then you have to worry about your time zone. It’s most likely that you’ll need to set the correct LOCAL Time on the computer, and this will then automatically set the correct UTC time in the internal computer clock. i.e. I can see from my GPS that it’s now 08:58 UTC, but I know my PC clock has an hour of daylight saving, so I should set my PC clock in the system control panel to 09:58.\nAlternatively, you could set the PC time zone to UTC, then set the time as UTC.\n\n\n\nChecking it’s Right\nThis can all get quite confusing, so it’s important to check things are right.\nThe PC time in UTC is always shown in the top left corner of the display. Check that this is showing the correct time in UTC.\n\nIf you’ve a GPS, then this can be checked against the GPS time, shown either on the Map Display or the NMEA strings list.\n\n\nGlobal Time settings\nAdditional checks on time can be set up from the File &gt; Global time settings … menu.\n\nThis will log times derived from the PC Clock and another reliable data source, namely the GPS or an Internet time server to a database table “Global_Time” which can be used both to check your data and to sort out any disasters.\nIf you select the option to ‘correct UTC in all modules’, then PAMGuard will attempt to correct times as data are created. Note however that this option is not currently sufficiently tested for reliability.\n\n\nPoor Sound Acquisition\nJust because you’ve set the sample rate in your Sound Acquisition module to a particular value, doesn’t mean that the device you’re using will sample at that rate.\nCheap sound cards can just have cheap clocks in them, which sample at the wrong rate. Further, Windows USB sound cards can drop packets of data if the USB bus, or the computer, is too busy thereby messing up any calculations of time based on counts of samples.\nIn your database, you can check the Sound_Acquisition table, which will show any offsets between times calculated from the sample count, and the actual time from the PC clock, though if these differ, you’ll have to use GPS data to determine which is correct.\nPrevious: Mixed Mode Operation\nNext: PAMGuard Watchdog",
    "crumbs": [
      "PAMGuard Website",
      "Overview ",
      "Clocks and Time"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/projectmetadata.html",
    "href": "overview/PamMasterHelp/docs/projectmetadata.html",
    "title": "Project Information / Metadata",
    "section": "",
    "text": "This module has been incorporated as part of developments in 2024 to integrate the Tethys Database into PAMGuard. The module is so useful, that we’ve made this part available in all PAMGuard configurations whether you use Tethys or not.\nThe module, accessible from the Settings menu offers two panels for entering information about your project. Its worth filling these in, since the information will be saved with your configuration and your data and could prove invaluable when you come back to these data in a few years time.\n \nPrevious: Model viewer\nNext: Multi-threading",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Project Information / Metadata"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/xmloutput.html",
    "href": "overview/PamMasterHelp/docs/xmloutput.html",
    "title": "XML Configuration Output",
    "section": "",
    "text": "The XML settings output functions allow the user to save PAMGuard settings to XML files. For technical reasons, these do not contain every last setting that controls PAMGuard, so cannot (currently) replace the psfx settings system. The XML files can only be written by PAMGuard and cannot be read back into PAMGuard. They can however be used to provide a more human readable record of changing configurations during a PAMGuard operation.\nFuture developments may extend this system to write settings to the front of binary files. The XML configurations are also written to the Tethys database. The XML files can be created manually, or automatically every time that PAMGuard starts.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "XML Configuration Output"
    ]
  },
  {
    "objectID": "overview/PamMasterHelp/docs/xmloutput.html#control",
    "href": "overview/PamMasterHelp/docs/xmloutput.html#control",
    "title": "XML Configuration Output",
    "section": "Control",
    "text": "Control\nXML output is controlled from the File/XML Configuration Output menu command\n\n\nModule Selection\nSelect to output all PAMGuard modules, a single module, or ‘up to a selected module’ (for example if you selected the click detector, in this case it would write out settings for the acquisition module as well as the click detector)\n\nOutput non-module data\nNot all settings are associated with a PAMGuard module, for instance display settings, or the settings controlling the XML writer itself. Select if you want these settings written as well as module settings\n\n\nInclude class constants\nThese are internal parameters used by PAMGuard that cannot be changed by the user. Generally, you’ll probably no want to output these\n\n\nWrite parameter names\nParameters in the XML output are identified by the variable name used in the JAVA source code. Often it’s easy for the user to work out how these relate to the controls they see in the PAMGuard control dialog. Select this option to also write out a more user friendly name of the type that would appear in the dialogs. (Note that this feature has not yet been implemented for most parameters)\n\n\nWrite parameter tips\nWrite longer tool tips for each parameter (Note that this feature has not yet been implemented for most parameters).\n\n\n\nOutput Options\n\nFile Name\nBy default, a manually output XML file will be written to the folder or directory holding the psfx file and will have a datestamp added to it’s name. If you want to write to a different location, press the Browse’ button\n\n\nAutomatic XML file generation\nThe option to ’Write settings file whenever PAMGuard starts. will write all module settings to an XML file every time that PAMGuard starts. If Binary Storage is being used, then XML file will be written to the folder containing the binary data. If binary Storage is not used, then the file will be written to the folder containing the psfx file.\n\n\n\nPreview\nPress the preview button to see the XML output before it is written to file. This is a good way to see the effect of the various options described above\n\n\n\nModel Viewer",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "XML Configuration Output"
    ]
  },
  {
    "objectID": "sensors/analogarray/docs/analogarray.html",
    "href": "sensors/analogarray/docs/analogarray.html",
    "title": "Overview",
    "section": "",
    "text": "The Analog Array Sensors module can be used to measure the depth, pitch, roll and heading of a hydrophone array.\nWith simple line arrays, knowing the precise orientation of the array is probably not necessary. However as more users move towards using multi-channel, multi-dimensional hydrophone arrays in order to determine animal locations in three dimensions, knowing the orientation of array sections becomes increasingly important.\nThree axis accelerometers are readily available at low cost. This module can be used with any sensors that have an analog voltage or current output. Analog devices have the advantage over digitital devices in that they don’t introduce electrical noise into the hydrophone signals. If you are interested in digital accelerometers (e.g. in a fully digital array) then please contact the PAMGuard development team.\nThe system will allow for one set of sensors per hydrophone streamer. Depth and orientation data will be applied to all hydrophones within that streamer.\nTwo different types of data acquisition devices are currently supported:\n\nMeasurementComputing data acquisition cards (www.mccdaq.com) which can connect to a PC or laptop via USB;\nBrain Boxes ED-549 devices , which connect via Ethernet.\n\nDepth, Heading, Picth and Roll information is passed to the hydrophone array manager which makes it available to other PAMGuard modules as required.\n\nLogging\nIf you are using the PAMGuard Database, changes to the streamer configuration will automatically be logged in the hydrophonestreamers database table.\nNext: Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Analog Array Sensors ",
      "Overview"
    ]
  },
  {
    "objectID": "sensors/analogarray/docs/analogarrayconfig.html",
    "href": "sensors/analogarray/docs/analogarrayconfig.html",
    "title": "Configuration",
    "section": "",
    "text": "From the File&gt;Add modules&gt;Sensors menu, or from the pop-up menu on the data model display select ‘Analog Array Sensors’. Enter a name for the new module and press Ok.\nThe module is not dependent on any other modules and will automatically find and exchange information with the Hydrophone Array Manager.\n\nConfiguring the Module\nGo to Settings&gt;Analog Array Sensor Settings… and the following dialog will appear.\n\n\n\nAccelerometer side panel\n\n\nThe top section of the dialog shows the number of array streamers. The number of different inputs shown in the bottom section of the dialog will depend on how many streams are present in your array configuration.\nEnter the readout time in seconds.\n\n\nInput Device Settings\nSelect either Measurement Computing Devices or Brain Boxes ED-549 devices . Other device types may be added in future releases.\n\nChannels\nSelect which input channel you wish to use for each parameter. If you do not wish to read a particular parameter, then select “-” for that channel (in the example, Pitch and Roll are not being read out for the second streamer).\nFor Measurement Computing Devices you will be asked to select a device from a drop down list. This will have had to be correctly configured using the Measurement Computing InstaCal software.\nFor the Brainboxes device, enter it’s IP address. you may also have to adjust your network adapter settings (or use a separate USB-Ethernet Adapter).\nSelect the input range for each channel. This should match the output of the sensors you are using.\nPrevious: Overview\nNext: Calibration",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Analog Array Sensors ",
      "Configuration"
    ]
  },
  {
    "objectID": "sensors/arrayAccelerometer/docs/accelerometer_configuration.html",
    "href": "sensors/arrayAccelerometer/docs/accelerometer_configuration.html",
    "title": "Configuration",
    "section": "",
    "text": "From the File&gt;Add modules&gt;Sensors menu, or from the pop-up menu on the data model display select ‘Array Accelerometer’. Enter a name for the new module and press Ok.\nThe accelerometer module is not dependent on any other modules and will automatically find and exchange information with the Hydrophone Array Manager.\n\nConfiguring an Array Accelerometer Module\nGo to Settings&gt;Array Accelerometer… and the following dialog will appear.\n\n\n\nAccelerometer side panel\n\n\nThe dialog is divided into three sections\n\nMCC Device\nIn this section you will find a drop down list of installed MeasurementComputing devices. If you can’t see your device here, refer to the MCC documentation on how to install it\nSelect the smallest voltage range that can cover the range out output values expected from the sensor (generally +/- 2V)\n\n\nReadout\nEnter the readout interval in seconds. The accelerometer should not be read at a rate &gt; once per second.\nSelect the channels of the MCC device which you wish to read for each of the x,y and z accelerometers.\nRoll is measured from the x and z accelerometers, Pitch is measured from all three. If you only wish to read roll, there is no need to read out the y axis, in which case you can enter -1 for this channel number.\n\n\nCalibration\nEnter the calibration values for each channel. Generally the Zero offset voltage is half the power supply voltage and the scales (Volts per g) should be the values from the accelerometer data sheet.\nWith the accelerometer on the horizontal, it is possible to automatically set the zero offsets by pressing the ‘Set Zeros’ button.\nIf the module has not been mounted square within the hydrophone frame, you may also enter offset values which will be added to the measured pitch and roll\nPrevious: Accelerometer Overview",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Array Accelerometer ",
      "Configuration"
    ]
  },
  {
    "objectID": "sensors/cpod/docs/cpod.html",
    "href": "sensors/cpod/docs/cpod.html",
    "title": "CPOD Module",
    "section": "",
    "text": "CPODs and FPODs are click data loggers widely used in research and industry developed by Chelonia Ltd. PAMGuard’s CPOD module allows users to import CPOD and FPOD data into PAMGuard so it can be viewed using PAMGuard’s visualisation tools. A common use case for this module is to display both CPOD/FPOD data and a lower frequency recording device together - for example a typical PAM setup is to use a CPOD to record high frequency echolocation clicks then a lower frequency recorder (e.g. 96 kHz sample rate) to record dolphin whistles, noise, fish sounds etc.",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "CPOD ",
      "CPOD Module"
    ]
  },
  {
    "objectID": "sensors/cpod/docs/cpod.html#quick-overview-of-cpodfpod-data",
    "href": "sensors/cpod/docs/cpod.html#quick-overview-of-cpodfpod-data",
    "title": "CPOD Module",
    "section": "Quick overview of CPOD/FPOD data",
    "text": "Quick overview of CPOD/FPOD data\nCPODs and FPODs do not record raw audio - they run a simple on board click detector and then save some basic metrics on each detected click e.g. peak frequency, bandwidth, end frequency etc. FPODs, the successor of CPODs, also record a little extra waveform data on a small subset of detected clicks. Once a CPOD or FPOD has been recovered, it is processed using CPOD.exe or FPOD.exe software respectively which runs a click train classifier. The click train classifier extracts sequences of successive clicks that are likely from the same source, e.g a dolphin, porpoise or echo sounder. It then assigns a likely species to a click train or classes it as unknown. The outputs from the click train detector are saved to a CP3 file which is essentially a file that contains only clicks that have been assigned to click trains.",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "CPOD ",
      "CPOD Module"
    ]
  },
  {
    "objectID": "sensors/cpod/docs/cpod.html#adding-the-cpod-module",
    "href": "sensors/cpod/docs/cpod.html#adding-the-cpod-module",
    "title": "CPOD Module",
    "section": "Adding the CPOD module",
    "text": "Adding the CPOD module\nTo add the CPOD module go to File-&gt;Add Modules-&gt;Sensors-&gt;CPOD. The module requires the binary storage module in PAMGuard File-&gt; Add modules-&gt;Utilities-&gt;Binary File. Once both the CPOD and Binary file storage modules have been added open the CPOD settings using Settings-&gt;CPOD importer.",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "CPOD ",
      "CPOD Module"
    ]
  },
  {
    "objectID": "sensors/cpod/docs/cpod.html#importing-cpodfpod-data",
    "href": "sensors/cpod/docs/cpod.html#importing-cpodfpod-data",
    "title": "CPOD Module",
    "section": "Importing CPOD/FPOD data",
    "text": "Importing CPOD/FPOD data\nThe module has three possible modes of importing data\n\nImport raw detection data i.e. CP1 or FP1 data. PAMGuard will display the CPOD detection but no click train ID data is available.\nImport just the click trains data i.e. CP3 or FP3 files - PAMGuard will only import clicks which are part of click trains\nImport both both raw and click train data (recommended). PAMGuard imports the raw detections then uses the click train data to assign detections to click trains.\n\nUsers can use the file button to select a single file (e.g. an FP3 file) or the folder button to select a folder of CPOD/FPOD files. If the folder button is used and there are both CP1/FP1 (detections) and CP3/FP3 (click trains) files then PAMGuard will automatically load all files and assign detections to click trains. Once files have imported select Import and the data will be imported into PAMGuard - note this can take some time, especially if importing CP1/FP1 files.\n\nThe CPOD module allow users to import CPOD/FPOD data by selecting either individual files or a folder of files",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "CPOD ",
      "CPOD Module"
    ]
  },
  {
    "objectID": "sensors/cpod/docs/cpod.html#visualising-cpodfpod-data",
    "href": "sensors/cpod/docs/cpod.html#visualising-cpodfpod-data",
    "title": "CPOD Module",
    "section": "Visualising CPOD/FPOD data",
    "text": "Visualising CPOD/FPOD data\nA broad overview of CPOD data is shown in PAMGuard’s data map which shows a datagram similar to the click detector. The datagram shows the frequency density of CPOD/FPOD clicks constructed from the peak frequency parameter for each click The datagram can be useful for quickly navigating to sections of data that may contain porpoises and/or dolphins.\nIndividual CPOD detections can be viewed in the Time base display in PAMGuard. Add the CPOD module to a plot and then data can be viewed with time using a selection y-axis options such as Amplitude, Amplitude (stem), Frequency, bandwidth etc.\n\n\nFPOD data visualised in the time base display as a stem plots like FPOD.exe (top) and as a scatter plot of click amplitudes (bottom)",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "CPOD ",
      "CPOD Module"
    ]
  },
  {
    "objectID": "sensors/cpod/docs/cpod.html#data-selector",
    "href": "sensors/cpod/docs/cpod.html#data-selector",
    "title": "CPOD Module",
    "section": "Data selector",
    "text": "Data selector\nThe CPOD module has a custom data selector which provides a unified interface for users to select subsets of CPOD/FPOD data. The data selector has sliders which set the range of various parameters, such as peak frequency and also allows the selection of CPOD/FPOD which belong to a click and those gave been classified to a particular species. Users can use the data selector to, for example, only export clicks classified as dolphin or perhaps plot only clicks with a peak frequency between 100 and 150 kHz on the time display.\n\n\n\n\n\n\n\nCPOD data selector\nCPOD data selector in time display\n\n\n\n\n\n\n\n\n\nScreenshots of the data selector user interface used throughout PAMGuard. Although the style can change, the data selector is the same throughout PAMGuard",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "CPOD ",
      "CPOD Module"
    ]
  },
  {
    "objectID": "sensors/cpod/docs/cpod.html#exporting-cpodfpod-data",
    "href": "sensors/cpod/docs/cpod.html#exporting-cpodfpod-data",
    "title": "CPOD Module",
    "section": "Exporting CPOD/FPOD data",
    "text": "Exporting CPOD/FPOD data\nCPOD and FPOD data can be exported to .RData and .mat using PAMGuard’s exporter.\n\nPAMGuard’s exporter can export CPOD/FPOD clicks to .mat or .RData files. These can be opened in MATLAB, Python, and R respectively\nThe fields saved by the exporter are the same as a standard PAMGuard detection (see exporter help). The additional fields for CPODs and FPODs are\n\nbandwidth: the bandwidth of the click in Hz\nnumcycles: the number of cycles fo the click in Hz\npeakfreq: the peak frequency of the click in Hz\nendfreq: the end frequency of the click in Hz\nSPL: the CPOD measure of sound pressure level which is an integer between 0 and 255.\nslope: the slope which is a parameter measured by the CPOD and FPOD.\nwave: this will be empty for most clicks but some clicks from FPODs will have a waveform. Note that this is reconstructed from zero crossings and is NOT a clip from the raw sound data.\nspecies: if the CPOD is part of a click train then species will be 0 for UNKNOWN, 1 for NBHF, 2 for DOLPHIN and 3 for SONAR. -1 indicates a click is not part of a click train.\nclicktrainID: indicates the click train that the click belongs to. This can be cross referenced with UID column in the PAMGuard database which stores click trains and/or used to as an identifier to associate different clicks together into trains.",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "CPOD ",
      "CPOD Module"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionAsioSoundCard.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionAsioSoundCard.html",
    "title": "Asio Sound Cards",
    "section": "",
    "text": "Many sound cards are provided with two sets of drivers, the ‘normal ones’ which make the card operate using the normal system sound card drivers (see Sound Cards) and ASIO drivers which were developed by Steinberg for professional studio applications.\nThe advantages of using ASIO drivers are",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Asio Sound Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionAsioSoundCard.html#setting-up-an-asio-sound-card",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionAsioSoundCard.html#setting-up-an-asio-sound-card",
    "title": "Asio Sound Cards",
    "section": "Setting up an Asio sound card",
    "text": "Setting up an Asio sound card\nIn the data acquisition dialog select “Asio Sound Card” as the Data Source Type and a list of available Asio sound cards will appear in the drop down list under the title “Select Audio Line”. Select the card you with to use.\n\nChannel Configuration\nAsio sound cards often support data acquisition from more than two channels.\nThe number of available channels (and the quality of the data) will of course still vary from card to card.\nAnother very important feature is that you can define which channels you want to read out by mapping the hardware channels on the device to software channels in PAMGuard\nWhen you select an Asio sound card, the ‘Sampling’ section of the acquisition dialog will expand to show a set of drop down boxes, the bumber of boxes corresponding to the number of channels you are reading out:\n\n\n\nSound Asio Configuration\n\n\nFor each software channel, select the hardware channel you wish to use.\nNote that PAMGuard channel numbering starts at 0. Your hardware channel numbering may start at 1. So be aware. If you’ve put a plug into socket 1, you probably want to select channel 0, etc.\nPrevious: Sound Cards\nNext: Audio Files",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Asio Sound Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionFile.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionFile.html",
    "title": "Audio Files",
    "section": "",
    "text": "As well as analysing data from sound cards in real time, PAMGuard can be used to analyse archived data from audio filed in WAV, AIF, FLAC, or SUD file format.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Audio Files"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionFile.html#setting-up-an-audio-file",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionFile.html#setting-up-an-audio-file",
    "title": "Audio Files",
    "section": "Setting up an Audio File",
    "text": "Setting up an Audio File\nIn the data acquisition dialog select “Audio File” as the Data Source Type\nThe dialog will then show a panel where you can select a file\nthe sample rate and the number of channels in the ‘Sampling’ section of the dialog will be disabled since these values will be read from the header of the sound file.\n\n\n\nSound File Configuration\n\n\n\nProcessing Speed and listening while you analyse\nIf no Sound Playback module is included in the PAMGuard configuration, or if no channels are selected in the Sound Playback module, then file data will be analysed as fast as possible, which could be considerably faster than real time.\nIf a Sound playback module is present and is in use, then analysis will run in real time and you will be able to hear the sounds being played back from the computers sound card\n.\nIf the repeat button is selected, as soon as processing of the file is somplete, processing will start again at the beginning of the file. This feature can be useful when using PAMGuard to display sounds during public events, training, etc.\n\n\nDates and Times\nIf possible, the data and time will be read from the file name.\nPAMGuard will strip text from the beginning and end of the file name and then attempt to match the remaining characters to a number of different date templates.\nDuring analysis, all times displayed on the screen and all times written to the database and binary storage will be based on the time extracted from the file name and the sample number within the file.\nIf a valid date cannot be extracted from the file name, then times will be based on the time at which analysis starts and the sample number within the file.\nIdeally the file times should be in UTC. If they are not, then the time zone of the file data can be set from the button to the right of the displayed file time.\nSupported date templates are:\n“yyyy.MM.dd_HH.mm.ss”\n“yyyy.MM.dd-HH.mm.ss”\n“yyyyMMdd_HHmmss”\n“yyyyMMdd-HHmmss”\n“yy.MM.dd_HH.mm.ss”\n“yy.MM.dd-HH.mm.ss”\n“yyMMdd_HHmmss”\n“yyMMdd-HHmmss”\n“yyyy.MM.dd_HH.mm”\n“yyyy.MM.dd-HH.mm”\n“yyyyMMdd_HHmm”\n“yyyyMMdd-HHmm”\n“yy.MM.dd_HH.mm”\n“yy.MM.dd-HH.mm”\n“yyMMdd_HHmm”\n“yyMMdd-HHmm”\n“yy.DDD_HH.mm.ss”\n“yy.DDD-HH.mm.ss”\n“yyDDD_HHmmss”\n“yyDDD-HHmmss”\n“yy.DDD_HH.mm”\n“yy.DDD-HH.mm”\n“yyDDD_HHmm”\n“yyDDD-HHmm”\nPAMGuard can automatically understand a wide variety of common date formats used in file names. However, it’s not possible to handle every way that people have thought up of representing dates and the system is confused by additional numbers in file names. Look here to see how you can define your own file name formats.\nPrevious: ASIO Sound Cards\nNext: Audio File Folders",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Audio Files"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder.html",
    "title": "Audio File Folders",
    "section": "",
    "text": "If you’ve a whole folder (or many folders) full or archived data than you wish to re-analyse, then you can set PAMGuard up to work it’s way through the whole lot in one go\nProcessing speed and dates and times operate in the same way as for single audio file analysis",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Audio File Folders"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder.html#setting-up-audio-file-folders",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionFileFolder.html#setting-up-audio-file-folders",
    "title": "Audio File Folders",
    "section": "Setting up Audio File Folders",
    "text": "Setting up Audio File Folders\n\n\n\nFile Folder Configuration\n\n\n\nSelect an entire folder\nYou can select an entire folder by pressing the “Select Folder or Files” button and browsing for the folder containing the files you want to analyse.\n\nSub folders\nIf you want to analyse multiple sub folders of data, then check the ‘Include sub folders’ box\n\n\nRepeating the List\nIn order to have PAMGuard automatically restart processing from the beginning of the first audio file when the end of the last audio file is reached, check the ‘repeat’ box.\n\n\n\nSelect multiple files\nIf you don’t want to select all files in a folder, then navigate into the folder and highlight just the files you want to analyse.\n\n\nMerging files\nFiles will be analysed in alphabetical order. It is not uncommon that a single recording session will have been broken into many short files. You can have PAMGuard merge files which are part of continuous recording together by checking the ‘Merge contiguous files’ box. If this box is not checked, then PAMGuard will stop at the end of each file and then restart on the next file.\n\n\nTime and Date\nDuring analysis, all times displayed on the screen and all times written to the database or binary storage will be based on the time extracted from the file name and the sample number within the file.\nIf a valid date cannot be extracted from the file name, then times will be based on the time at which analysis starts and the sample number within the files.\nPAMGuard can automatically understand a wide variety of common date formats used in file names. However, it’s not possible to handle every way that people have thought up of representing dates and the system is confused by additional numbers in file names. Look here to see how you can define your own file name formats.\nIdeally the file times should be in UTC. If they are not, then the time zone of the file data can be set from the button to the right of the displayed file time.\n\n\nStarting/Stopping/Restarting Analysis\nDuring batch processing, when PAMGuard reaches the end of one audio file it will automatically begin processing the next file. In the event that an audio file cannot be properly loaded, PAMGuard will move on to the next audio filerather than halt processing . Similarly if the user stops processing by manually pressing the Stop button, upon restart PAMGuard will begin processing the next audio file in the list.\nIf the user wishes to restart batch processing at the beginning of the list, either after manually halting processing or upon reaching the end of the last audio file, the Sound Acquisition settings dialog must be opened. When the OK button is pressed, the list is reinitialized and processing will proceed from the beginning.\nPrevious: Audio Files\nNext: National Instruments DAQ Cards",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Audio File Folders"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionOverview.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionOverview.html",
    "title": "Overview",
    "section": "",
    "text": "PAMGuard is designed to analyse data in real time using a sound card or other data acquisition device or from previously recorded data stored as a hard disk recording.\n\nAdding a Sound Acquisition Module\nAdd a Sound Acquisition module using File&gt;Add Modules&gt;Sound Processing&gt;Sound Acquisition and enter a name of your choice.\n\n\nUsing Multiple Sound Acquisition Modules\nIt is possible to have multiple sound acquisition modules, which is particularly useful if you want to run detectors at different sample rates.\nNext: Acquisition Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionSoundCard.html",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionSoundCard.html",
    "title": "Sound Cards",
    "section": "",
    "text": "Sound Cards are by far the cheapest and most commonly used data acquisition device since nearly all modern computers are equipped with one.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Sound Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionSoundCard.html#setting-up-a-sound-card",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionSoundCard.html#setting-up-a-sound-card",
    "title": "Sound Cards",
    "section": "Setting up a sound card",
    "text": "Setting up a sound card\nSetting up a sound card is easy. In the data acquisition dialog select “Sound Card” as the Data Source Type and a list of available sound cards will appear in the drop down list under the title “Select Audio Line”. Select the card you with to use and the number of channels (which can only be either 1 or 2).\nNote that sound cards which have more than two input channels are likely to appear as multiple two channel devices and you will not be able to read out more than two channels at a time.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Sound Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/AcquisitionSoundCard.html#notes-and-warnings",
    "href": "sound_processing/AcquisitionHelp/docs/AcquisitionSoundCard.html#notes-and-warnings",
    "title": "Sound Cards",
    "section": "Notes and Warnings",
    "text": "Notes and Warnings\n\nLaptops\nThe audio quality of many sound cards is very poor and some, particularly those built into laptops which are prone to picking up electrical noise from the motherboard.\n\n\nUSB\nMany external sound cards connect using USB. While convenient, we have often experienced problems with USB sound cards ‘dropping’ data. This happens more when the computer is busy (which it will be when you’re running PAMGuard). These drop outs can result in the lost of several percent of your audio input data.\nIf you are using a laptop and need an external sound card, try to get one that connects using Firewire (IEEE 1394).\n\n\nSample Rate Conversions\nThe Windows drivers are clever. That’s not a good thing ! They are designed such that multiple applications on your computer can all use the same sound card, and all think they are using it at different sample rates, all at the same time. This is of course impossible.\nWhat’s really happening is that the sound card is sampling at one sample rate, and Windows is converting the data to whatever sample rate you’ve requested. This means that your beautiful high frequency data that you sampled at 192 kHz may actually be sampling the data at 48kHz and then up-sampling to 192kHz again without you knowing it. This will of course destroy all data at higher frequencies.\nIn windows 11, it’s reasonably easy to get around this, by going to the “Sound Settings” part of the control panel.\n\nIn this case, I want to configure the E1DA Cosmos ADC PCM32/384 card, so click on the little arrow to the right of that card to open the advanced properties controls for that card.\nYou can also see that the card I want to use with PAMGuard is not the default device for my laptop. That is a good thing ! It means that any beeps or boings that Windows want’s to make are going to go to a different device to the one I’m using for data collection.\n\nYou can see that the card is currently set to sample 2 channels, 16 bit, at 48kHz which is what it’s going to do, even though I want to sample at a higher frequency.\n\nFrom the drop down list of formats select the sample rate and data quality that you want, close the dialogs and test.\nAlways check that the card is really doing what you want it to do by running a spectrogram display on the raw data to ensure that you genuinely do have data at high frequencies.\nSome manufacturers provide alternative Windows drivers which you should use wherever possible.\nIf possible, test your sound card with a signal generator while viewing a spectrogram of the data to check that the high frequency data are OK\n\n\nUnwanted, unexpected and unnecessary filters\nMost sound cards are designed for human audio. Since we can’t hear much above about 15kHz (our children and pets may be able to do a bit better) some sound card manufacturers include a filter at around 20kHz and even if the software is allowing you to sample at high sample rates, you may not be getting any data through at high frequencies\nIdeally use a sound card where the manufacturer has published a technical specification showing a flat frequency response over the range you’re interested in. As with sample rate conversions, test your sound card with a signal generator while viewing a spectrogram of the data to check that the high frequency data are OK\n\n\nCalibration\nMost sound cards do not come with calibration information.\nIf calibration is important, you’ll have to do this yourself. Note though that settings may change depending on any adjustments made to the computers audio settings (e.g. from the windows mixer).\nPrevious: Acquisition Configuration\nNext: Asio Sound Cards",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "Sound Cards"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/FileTimeZone.html",
    "href": "sound_processing/AcquisitionHelp/docs/FileTimeZone.html",
    "title": "File Dates",
    "section": "",
    "text": "PAMGuard will attempt to automatically derive a date and time from audio file names. While we have programmed in a large number of different time and date formats, we cannot capture them all so it’s sometimes necessary to tell PAMGuard exactly how to extract date and time information from a file name. Characters (a-z) and be stripped automatically, but problems arise if other numbers are present.\nAn example of names that can’t be unpacked automatically might be\n1677738025.180912073628.d24.d8.wav\nThe actual date is 12 September 2018 at 07:36:28. however it is impossible for PAMGuard to work out that the date information is between the second and third ‘.’ characters and that the rest of the name should be ignored.\nTo define your own file format, select ‘User defined date format’ then in the format field, enter a set of characters that will tell PAMGuard how to unpack the information.\nFor every character in the file name that is NOT part of the date, enter the # character. The number of # must exactly match the number of characters preceding the date part of the name. Leading and trailing non numeric characters will also be stripped automatically after characters corresponding to a # have been removed.\nFor the date section, Java lays down strict rules for how each character should be represented details of which are here and below. Note that most of these are case sensitive.\nWhen entering a data format, be very careful. For instance ‘hh’ will be interpreted as a 12 hour time format, which will lead to errors. ‘HH’ is the correct character sequence for 24 hour time. Also be very careful of the difference between ‘MM’ for month and ‘mm’ for minutes, and between lower case ‘ss’ for seconds and upper case ‘SSS’ for milliseconds.\nThe table below shows all available format specifiers. The ones you’re most likely to use are highlighted in bold type\nThe example below shows an appropriate date format string used to correctly unpack the above example file name",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "File Dates"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/FileTimeZone.html#time-zone",
    "href": "sound_processing/AcquisitionHelp/docs/FileTimeZone.html#time-zone",
    "title": "File Dates",
    "section": "Time Zone",
    "text": "Time Zone\nIdeally, all PAMGuard data should be referenced to UTC, this makes it easy to align with GPS data and data from other sources.\nSometimes, it is necessary to process audio files which do not have a UTC based time encoded in their file name, but are referenced to some other time zone.\nThe File Date Settings dialog allows you to set the time zone and any additional time offsets for an audio file or set of audio files.\nThe time zone offset and optional daylight saving will be SUBTRACTED from the time value extracted from the file name.\nThe additional time offset will be ADDED to the time value extracted from the file name.\nCheck and double check that the time extracted from the file and corrected for time zone and offset is correct before processing sound file data.\nSee additional notes on SUD file times if you’re processing Soundtrap data.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Acquisition ",
      "File Dates"
    ]
  },
  {
    "objectID": "sound_processing/AcquisitionHelp/docs/soundcardConfig.html",
    "href": "sound_processing/AcquisitionHelp/docs/soundcardConfig.html",
    "title": "Sound Acquisition",
    "section": "",
    "text": "Adding a Sound Acquisition Module\nAdd a Sound Acquisition module using File&gt;Add modules?&gt;Sound Acquisition and enter a name of your choice. To access the module’s settings, select Detection from the main menu and click on the name of your module. This will bring up an Audio Data Acquisition dialog, as shown below.\n\n\n\nAudio Data Acquisition Dialog\n\n\n\n\nSelecting a Device and Audio Line\nChoose Sound Card from the Data Source Type drop down menu. The Select Audio Line drop down list will then display the available mixer lines. Choose the line associated with your sound card input(s).\n\n\nSampling Settings\n\nSample Rate: Enter a sample rate that is supported by your sound card (you may need to consult your sound card documentation).\nNumber of channels: Enter the number of input channels from which you want to acquire data. For non-ASIO audio lines, this will be a maximum of 2.\nPeak-Peak voltage range: This value represents the maximum input voltage range capable for your card, without overdriving the input (clipping) and is used to scale the sound data in PAMGuard. You may find this value from your device’s specifications.\nPreamplifier gain: If you have any hardware which provides gain in your system, this value should equal the total gain (in dB).\nDC Background subtraction: If your sound acquisition system has a DC offset in it (many do), tick the ‘Subtract DC …’ button and enter a time constant. A single pole high pass filter will then be applied to all incoming data.\n\n(Note that the ‘Bandwidth’ field has been removed since it was not used in any way)\nNext: Configuring ASIO Sound Cards"
  },
  {
    "objectID": "sound_processing/amplifier/docs/amplifier.html",
    "href": "sound_processing/amplifier/docs/amplifier.html",
    "title": "Overview",
    "section": "",
    "text": "The Signal Amplifier module can be used to increase or reduce the level of an audio signal and can also be used to invert signals.\n\nCreating a Signal Amplifier\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Signal Amplifier”. Enter a name for the new amplifier module and press Ok.\n\n\nConfiguring the Signal Amplifier\nTo access the module’s settings, select Detection&gt;Signal Amplifier… from the detection menu. This will bring up a dialog similar to the one shown below.\n\n\n\nSignal Amplifier\n\n\nSelect the sound source from the drop down list\nSet the gain for each channel in dB\nCheck the box if you wish to invert the signal on a channel (multiply all valued by -1).\n\n\nUsing the Signal Amplifier\nOther PAMGuard modules that use raw audio data can then subscribe to the output of the Signal Amplifier module instead of the sound acquisition module.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Signal Amplifier ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/beamformer/docs/Beamformer_Output.html",
    "href": "sound_processing/beamformer/docs/Beamformer_Output.html",
    "title": "Beamformer Output",
    "section": "",
    "text": "Individual Beam Output\nThe output of individually-configured beamformer beams is FFT data, and as such any module that can accept FFT data will be able to use the beamformer as input. For visualisation purposes, this typically means a Spectrogram.\n\n\nIn the Spectrogram Parameters window, select Beamformer data as the FFT Source\nThe channel numbers here are actually the beam numbers, as defined in the Beam Algorithm Configuration dialog.\n\n\n\nBeamogram Output\nThe beamogram outputs a time-series dataset, and can be displayed on an FX Spectrogram. When a User Display tab is active, select User Display from the main menu, and then select New Time base Data display FX\n\nSee the help file for more information about FX displays.\nAdd the beamogram data to the display, and adjust the angle range to view. Although a beamformer can calculate up to 3 different dimensions of data for each time slice (primary angle, secondary angle and frequency), only primary angle versus time is displayed in the spectrogram. To do this, the beamformer data is averaged over the frequency and secondary angle for each primary angle bin.\n\n\nStandard Spectrogram, showing the FFT Engine output.\nBeamogram Display, showing primary angle versus time with the amplitude represented by the colour.\n\nThe image above shows a simulated right whale call generated 90 degrees from the ship’s heading, and captured with a 16 channel array. The gain is proportional to the number of channels being combined, so with fewer channels the spread in amplitude will decrease. This means that, with smaller arrays, it may be difficult to visually see the angle with the highest amplitude as the display will look more like vertical bars of the same (or similar) colour.\nPrevious: Beamformer Algorithm Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Beamformer ",
      "Beamformer Output"
    ]
  },
  {
    "objectID": "sound_processing/beamformer/docs/Beamformer_Settings.html",
    "href": "sound_processing/beamformer/docs/Beamformer_Settings.html",
    "title": "Beamformer Configuration",
    "section": "",
    "text": "Creating a Beamformer module\nFrom the File &gt; Add Modules &gt; Sound Processing menu, select “Beamformer”. Enter a descriptive name for the new module and press OK.\n\n\nConfiguring a Beamformer module\nNote: A suitable Source module should be configured before configuring the Beamformer. See below for details of acceptable sources.\nFrom the Settings menu, select “Beamformer settings”. This will open up a new dialog containing 2 tabs: Source and Algorithms.\n\n\n\nSource tab\n\n\nData Source: where the Beamformer should get it’s input data from. The Beamformer will accept any module that can output FFT information, such as from an FFT Engine module or Decimator module.\nChannel Group Type: Select how the channels should be grouped, either No Grouping, a Single Group, or multiple (User) Groups.\nChannel Grouping: When a data source is selected, the dialog will show a series of check boxes - one for each channel available from that Source. Select the channels you want to use for beamformer calculation, then to the right of each channel check box, assign the channel to a group. The group numbers themselves are not important - they just need to be different for each group.\nThe beamformer algorithm will combine the information from all channels in a group and output the resulting signal. If there are multiple groups defined, there will be multiple output signals. In such a case, each signal will be identified by the group number (also termed the Sequence number).\n\n\n\nAlgorithms tab\n\nThe user is able to select a beamformer algorithm for each group defined on the Channel Groups tab. The window displays the group number, and the number of channels associated with that group.\n\nAlgorithm: specify which algorithm to use for this group. There are 2 types of algorithms available: Basic Frequency Domain (Conventional/Bartlett) and Minimum Variance Distortionless Response (MVDR). The Basic Frequency Domain beamformer algorithm combines the signals from multiple channels into a single output using a static set of weights. The MVDR also combines the signals from multiple channels into a single output, but uses an adaptive weighting scheme which continuously seeks to minimize the variance of the recorded signal. The MVDR is more processor-intensive, but may result in better noise reduction and signal amplification.\nSettings: press the settings button to open up the settings for the algorithm in a new dialog.\n\nPrevious: Beamformer Overview\nNext: Configuring the Algorithms",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Beamformer ",
      "Beamformer Configuration"
    ]
  },
  {
    "objectID": "sound_processing/ClipGenerator/docs/ClipGeneratorBearings.html",
    "href": "sound_processing/ClipGenerator/docs/ClipGeneratorBearings.html",
    "title": "Bearings",
    "section": "",
    "text": "Bearings will be automatically calculated to the sounds in clips if more than one channel of data is included.\nManual clip selection and many detectors may only have triggered on one channel. Therefore if you want multiple channels to be included in the clip it’s essential that you select the appropriate Channel Selection in the settings for each data trigger.\nBearings are calculated using a cross correlation method which can only estimate time delays between channels of up to about 200 samples. At a sample rate of 48kHz, this is equates to a hydrophone separation of around 8 m. If the hydrophones are more widely separated time delays and bearings will not be correctly calculated. We hope to rectify this in future releases.\nBearings to clips will be shown as lines on the PAMGuard map. The length of the lines can be adjusted from the Display Menu: Display/Clips Display Settings … .\n\n\n\ndisplay\n\n\nPrevious: Clip Displays",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Clip Generator ",
      "Bearings"
    ]
  },
  {
    "objectID": "sound_processing/decimatorHelp/docs/decimator_decimator.html",
    "href": "sound_processing/decimatorHelp/docs/decimator_decimator.html",
    "title": "Decimator",
    "section": "",
    "text": "Decimators can be used to drop the frequency of raw audio data.\nFor example, you may have a raw audio data stream sampled at 96kHz (you might have sampled at this search for odontocete clicks); you also want to search for baleen whale sounds at around 100Hz. It would be inefficient to run the baleen whale detector on the 96kHz data. However, by using the Decimator to produce a new raw data stream at a few 100Hz and running the baleen whale detector on this, the total amount of processing will be reduced, spectrogram displays will also be more clearer.\nA decimator can be inserted anywhere in the PAMGuard data model where there are raw audio data.\n\nCreating a Decimator\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Decimator”. Enter a name for the new decimator module (e.g. “2kHz”, etc) and press Ok.\n\n\nConfigure the Decimator\nThe Decimator module requires a source of raw data before it can operate. This may come directly from a Sound Acquisition module (e.g. a sound card or a National Instruments board) or from processed data such as the output from a filter, another decimator, etc.\nTo configure the decimator, go to the Detection&gt;“your decimator name …”&gt; menu\n\n\n\nDecimator Dialog\n\n\nSelect the input data source and specify the sample rate of the output data.\n\n\nFilter Settings\nIt is important that data are filtered correctly prior to decimation, otherwise aliasing will occur: that’s when higher frequencies in the data ‘fold’ down onto lower frequencies. You therefore need to filter the data at half the sample rate of the output data. Pressing the default button will generate a 6 pole Butterworth filter at the right frequency. If you want to do something different, you can press the filter settings dialog and the filter dialog will appear (see the Filters Design help page).\n\n\nInterpolation\nPAMGuard can handle decimation to frequencies which are not an exact submultiple of the original frequency, e.g. from a 500kHz input sample rate, to 48kHz output sample rate.\nIf you are decimating to a frequency that is not a submultiple, then you should consider using interpolation to improve the quality of the output data. Linear interpolation will use data points either side of the required sample point, quadratic will use the three closest samples. Both these methods use a small additional amount of CPU.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Decimator ",
      "Decimator"
    ]
  },
  {
    "objectID": "sound_processing/fftManagerHelp/docs/FFTEngine_Configuring.html",
    "href": "sound_processing/fftManagerHelp/docs/FFTEngine_Configuring.html",
    "title": "Configuring",
    "section": "",
    "text": "The FFT Parameters dialog is shown automatically when a new FFT Engine is created. It can also be accessed in the two following ways\n1. From the Detection&gt;FFT Parameters… menu\n2. From the pop-up menu on the FFT Engine window in the PAMGuard Data Model display.\n\nSelect a data source\nFrom the drop down list select a source of audio data. When you select a new data source, the channel list will be updated to show the number of channels in the selected data source. Tick the check boxes for the channels you wish FFT data to be computed for.\nTo save processor power, do not calculate FFT data for channels that are not needed in subsequent PAMGuard processes.\n\n\nSet the FFT Length and Hop\nThe FFT algorithm is most efficient when the FFT length in samples is an exact power of 2, e.g. 256, 512, 1024, 2048, etc. However modern FFT algorithms can handle other FFT lengths if you really want them. For instance, if you have data sampled at 1000Hz and really want your FFT’s to be exactly 1/4 second long, you could chose a FFT length of 250 samples instead of 256. Non power of 2 FFT lengths will be fine with low frequency data, but if you’re processing high frequency data, we’d recommend that you maximise efficiency by sticking to powers of 2!\nThe little arrows to the right of the FFT Length field can be used to increment / decrement the length by powers of 2. For other values, simply type in what you want.\nThe FFT Hop is the number of samples between the start of successive FFT blocks - often this is set to half the FFT length to provide overlap. Some people like more overlap, since it can give a smoother display, however this is generally only introducing redundancy into the data and is not efficient.\nGenerally, you wouldn’t set the FFT Hop to be greater than the FFT Length, since that would mean that some data are never used. However, for simple diagnostics, such as an LTSA, it can be useful to have a bigger hop size since the FFT Engine would use less CPU and the LTSA would still be a good diagnostic tool to show background noise levels and demonstrate that channels are working.\nWhen configuring the FFT engine, it is important to think about the time and frequency resolution of the data you’re generating. The frequency resolution of the data is the sample rate divided by the FFT length, and the time resolution is the exact opposite, namely the FFT length divided by the sample rate. So if you pick a big FFT length, you’ll get really find frequency resolution, but poor time resolution and if you pick a small FFT length, you’ll get poor frequency resolution, but excellent time resolution. Think about the types of sounds you’ll be detecting, or viewing on displays using the FFT data. Generally, it’s helpful if the sounds are spread in both time AND frequency. For example, in the figures below the same right whale upsweep sounds are shown with three different FFT lengths.\n\nIn the top image, the FFT length is too short, so the calls are well spread out in time, but there is little frequency information. In the bottom display, the FFT length is too long, so there is excellent frequency resolution, but in time the calls are compressed into a single pixel of the display. The central panel has got it about right, the 256 point FFT giving a frequency resolution of 7.8 Hz, and a time resolution of 128ms - perfect for a call that lasts nearly a second and sweeps from 100 to 200Hz.\n\n\nSet the Window type\nSelect a windowing function from the following options:\nRectangular\nHamming\nHann (default)\nBartlett (Triangular)\nBlackman\nBlackman-Harris\nThe Hann window will be fine for most purposes. If you want to learn more, see Wikipedia.\nPrevious: Creating an FFT Engine\nNext: Noise removal",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "FFT (Spectrogram) Engine ",
      "Configuring"
    ]
  },
  {
    "objectID": "sound_processing/fftManagerHelp/docs/FFTEngine_Overview.html",
    "href": "sound_processing/fftManagerHelp/docs/FFTEngine_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "Spectrograms of sound data are used throughout the PAMGuard system. They provide the basic data for many detectors and also play an essential role in the PAMGuard display. The FFT (spectrogram) Engine in PAMGuard provides a powerful tool for generating spectrogram data from a raw data source.\nData from a single FFT engine may be shared between multiple displays and detectors in order that processor intensive calculations are not repeated.\nNote that this module does not create a spectrogram display, it just generates the data for the display, so you’ll need to add the FFT Engine AND a spectrogram display to your configuration.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "FFT (Spectrogram) Engine ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/fftManagerHelp/docs/FFTEngine_Overview.html#output",
    "href": "sound_processing/fftManagerHelp/docs/FFTEngine_Overview.html#output",
    "title": "Overview",
    "section": "Output",
    "text": "Output\nVersions Beta 1.5.00 and later include a number of noise reduction options as part of the FFT Engine. The FFT Engine therefore now has two output data streams which other PAMGuard modules can subscribe to.\nThe first is the raw FFT data\nThe second is the FFT data after it’s passed through the noise reduction processes\nBoth of these data streams should appear automatically in drop down lists of data sources when you configure other modules.\n(If no noise reduction is enabled, then the output of the two streams will be identical)\nNext: Creating an FFT Engine",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "FFT (Spectrogram) Engine ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/FiltersHelp/Docs/Filters_filters.html",
    "href": "sound_processing/FiltersHelp/Docs/Filters_filters.html",
    "title": "Overview",
    "section": "",
    "text": "Filters can be used to filter audio data within PAMGuard using a number of different methods. They can be inserted anywhere in the PAMGuard data model where there are raw audio data. Some other modules, such as the click detector and the Decimator, use the same filter system built into that module’s functionality.\n\nCreating a filter module\nThe filters module will take raw audio data, filter it, and output the filtered raw audio data at the same sample rate as the input data.\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Filters (IIR and FIR)”. Enter a name for the new filter module (e.g. “Low Pass”, “2kHz”, etc) and press Ok.\n\n\nConfiguration\nTo set-up the filter, go to the Detection&gt;“your filter name” settings …“ menu.\nThe filters module requires a source of raw audio data. This may come directly from a Sound Acquisition module (e.g. a sound card or a National Instruments board) or from processed data such as the output from a decimator or other filter.\nSelect the data source from the drop down list and the channels that you want filtered.\n\n\n\nFilters Data Source\n\n\nNext: Filter Design",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Filters (IIR and FIR) ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/LTSA/Docs/LTSADisplays.html",
    "href": "sound_processing/LTSA/Docs/LTSADisplays.html",
    "title": "LTSA Displays",
    "section": "",
    "text": "LTSA Data can be displayed using the same spectrogram display modules that are used for ‘normal’ FFT data\n\nWhen using the PAMGuard Viewer, data will be loaded from the Binary Store and displayed enabling you to scroll through large quantities of data.\n\n\n\nMeasurements are written to the Binary Store if this module is present in the PAMGuard configuration.\nPrevious: LTSA Overview",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "LTSA (Long Term Spectral Averaging) ",
      "LTSA Displays"
    ]
  },
  {
    "objectID": "sound_processing/LTSA/Docs/LTSADisplays.html#displays",
    "href": "sound_processing/LTSA/Docs/LTSADisplays.html#displays",
    "title": "LTSA Displays",
    "section": "",
    "text": "LTSA Data can be displayed using the same spectrogram display modules that are used for ‘normal’ FFT data\n\nWhen using the PAMGuard Viewer, data will be loaded from the Binary Store and displayed enabling you to scroll through large quantities of data.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "LTSA (Long Term Spectral Averaging) ",
      "LTSA Displays"
    ]
  },
  {
    "objectID": "sound_processing/LTSA/Docs/LTSADisplays.html#output",
    "href": "sound_processing/LTSA/Docs/LTSADisplays.html#output",
    "title": "LTSA Displays",
    "section": "",
    "text": "Measurements are written to the Binary Store if this module is present in the PAMGuard configuration.\nPrevious: LTSA Overview",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "LTSA (Long Term Spectral Averaging) ",
      "LTSA Displays"
    ]
  },
  {
    "objectID": "sound_processing/mel/docs/mel_display.html",
    "href": "sound_processing/mel/docs/mel_display.html",
    "title": "Displays",
    "section": "",
    "text": "The Mel Spectrogram data can display on a normal Spectrogram Display.\nThe example below shows dolphin whistles on both a normal Spectrogram Display using the FFT data and also the display of the Mel Spectrogram data.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Mel Spectrogram ",
      "Displays"
    ]
  },
  {
    "objectID": "sound_processing/mel/docs/mel_display.html#detectors-and-other-modules",
    "href": "sound_processing/mel/docs/mel_display.html#detectors-and-other-modules",
    "title": "Displays",
    "section": "Detectors and other modules",
    "text": "Detectors and other modules\nOur long term goal is that the Mel spectrogram data could be fed into any detector that would normally take FFT data. However, many detectors will need code updates to support this. Currently only the Whistle and Moan detector has been tested with Mel Spectrogram input.\nAlso note that phase information is lost when calculating the Mel Spectrogram, so Mel Spectrogram data are not suitable for localisation tasks based on Time Difference of Arrival measurements.\nPrevious: Mel Spectrogram Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Mel Spectrogram ",
      "Displays"
    ]
  },
  {
    "objectID": "sound_processing/NoiseBands/Docs/NoiseBandDisplays.html",
    "href": "sound_processing/NoiseBands/Docs/NoiseBandDisplays.html",
    "title": "Displays and Output",
    "section": "",
    "text": "The displays are very similar for the Noise Monitor and the Noise Band Monitor\nThe user can select which bands to show on the scrolling display of sound pressure vs. time.\nIn real time operation, the levels in individual bands are shown in the upper display.\nYou can select to show either SPL across each band or spectrum level estimates.\nRight click on the lower display for display options.\n\n\n\n\nMeasurements are written to both the Database and the Binary Store if those modules are present in the PAMGuard configuration.\nPrevious: Noise Band Measurements",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Noise Band Measurement ",
      "Displays and Output"
    ]
  },
  {
    "objectID": "sound_processing/NoiseBands/Docs/NoiseBandDisplays.html#displays",
    "href": "sound_processing/NoiseBands/Docs/NoiseBandDisplays.html#displays",
    "title": "Displays and Output",
    "section": "",
    "text": "The displays are very similar for the Noise Monitor and the Noise Band Monitor\nThe user can select which bands to show on the scrolling display of sound pressure vs. time.\nIn real time operation, the levels in individual bands are shown in the upper display.\nYou can select to show either SPL across each band or spectrum level estimates.\nRight click on the lower display for display options.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Noise Band Measurement ",
      "Displays and Output"
    ]
  },
  {
    "objectID": "sound_processing/NoiseBands/Docs/NoiseBandDisplays.html#output",
    "href": "sound_processing/NoiseBands/Docs/NoiseBandDisplays.html#output",
    "title": "Displays and Output",
    "section": "",
    "text": "Measurements are written to both the Database and the Binary Store if those modules are present in the PAMGuard configuration.\nPrevious: Noise Band Measurements",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Noise Band Measurement ",
      "Displays and Output"
    ]
  },
  {
    "objectID": "sound_processing/NoiseBands/Docs/NoiseBandsFFT.html",
    "href": "sound_processing/NoiseBands/Docs/NoiseBandsFFT.html",
    "title": "FFT Method",
    "section": "",
    "text": "This module allows you to measure noise in frequency bands of Third Octave, Deci-Decade, Octave, Decade, or bands you type in yourself. These measurements are compatible with the ANSI Standard ANSI S1.11-2004 American National Standard Specification for Octave-Band and Fractional-Octave-Band Analog and Digital Filters.\nThe module requires FFT data as input. It works out which FFT data belong to which of the defined frequency bands, and as data arrive, sums the FFT data for each band. This means that at low frequencies, where the frequency bands your measuring are probably smaller, you start to lose resolution in frequency. If you want to measure noise at very low frequencies, you’ll either have to use a very long FFT length, or switch to using the Noise Band Monitor.\n\nCreating the module\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select ” Noise Monitor”. Enter a name for the new module and press Ok.\n\n\nConfiguring the module\nTo configure the module, open the settings dialog from the Detection&gt;“your module name” menu:\n\nFor standard bands: Third Octave, Deci Decade, Octave, and Decade, just click the appropriate check box to the right of the dialog. These buttons will automatically generate as many bands as possible depending on the frequency resolution of the FFT data and the Nyquist frequency. The minimum frequency is calculated such that the lowest frequency band spans a minimum of two frequency bins in the FFF data. Bands will be centred at multiples of 1000Hz.\nIf you require other bands, for example, decade bands with edges at 100, 1000, 10000Hz, etc., you can enter these manually by pressing the Add Other Bands button. Remember that it’s not going to give accurate results if you enter band frequencies that are a fraction of the FFT data’s frequency resolution. If you require measurements at lower frequencies you’ll have to use a long FFT length, or decimate the audio data to a lower frequency.\n\nOutput Interval\nEnter the interval between measurements in seconds. Note that you may not get measurements at exactly these intervals because the start times of the FFT data may not like exactly on second boundaries.\n\n\nNumber of measures in interval\nGenerally, it’s best to select the ‘Use all FFT data’ button, so that all data in all FFT’s in the selected time interval will be included in noise measurement. However, if you’re intervals are very long and you want to reduce processing load by only using a random sample of the data, you can set a lower number of measurement to take from that interval.\n\n\nInput FFT Length\nIf you want your output times aligned nicely on second boundaries, you can use a FFT Hop, in the FFT module that is an exact factor of the sample rate. With the modern FFT algorithm used by PAMGuard, it’s also generally OK to pick an FFT length that is not a power of 2. e.g. if you have data sampled at 384kHz, and want noise measurements right down to 10Hz, you could set up an FFT with a length of 384000 samples, and a hop of 192000. This would use more processing power than an FFT length of 262144 samples (the nearest exact power of 2), but will probably be OK.\nPrevious: Overview\nNext: Filter Bank Method",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Noise Band Measurement ",
      "FFT Method"
    ]
  },
  {
    "objectID": "sound_processing/NoiseOneBand/Docs/NoiseOneBand.html",
    "href": "sound_processing/NoiseOneBand/Docs/NoiseOneBand.html",
    "title": "Overview",
    "section": "",
    "text": "This module allows you to measure noise is a single band defined by a selection of filter types. As well as outputting several measurements at fixed time intervals it calculates cumulative sound exposure and also single pulse sound exposure for loud transients.\n\nCreating the module\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Filtered Noise Measurement”. Enter a name for the new module and press Ok.\n\n\nConfiguring the module\nTo configure the module, open the settings dialog from the Detection&gt;“your module name” menu:\n\n\n\nFilters Settings\n\n\n\nRaw Data Source\nSelect a source of raw data. This will generally be a Sound Acquisition Module or the output of a Decimator if a lower frequency noise measurement is required. Check the channels you want to measure noise on.\n\n\nMeasurement Interval\nEnter the interval between measurements in seconds and the interval for integrated sound exposure measurements.\n\n\nPulse Measurement\nIf your want to measure parameters from a single pulse, you should check the “Detect Pulses” box. Enter a pulse detection threshold and the maximum duration of a single pulse.\nIf you are using pulse detection, the measurement interval should be relatively short compared to the pulse interval (e.g. 1s for piling or seismic). The pulse detection algorithm is very simple and just requires a jump in received amplitude from one measurement to the next that is greater than the Detection Threshold. The pulse will end when the measured levels drop to lower then the maximum measurement within the pulse minus the threshold. If a pulse continues for too long, it will be truncated when it reaches the Max Length. This should generally be set to be between the expected pulse length and the expected pulse interval.\n\n\nFilter Design\nA number of filter options are available. These are described in the Filter Design section\nNext: Displays and Output",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Filtered Noise Measurement ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/patchPanelHelp/docs/patchpanel.html",
    "href": "sound_processing/patchPanelHelp/docs/patchpanel.html",
    "title": "Patch Panel",
    "section": "",
    "text": "Patch Panels can be used to re-order channels, duplicate channels and mix data from multiple channels\nA patch panel can be inserted anywhere in the PAMGuard data model where there are raw audio data.\n\nCreating a Patch Panel\nFrom the File&gt;Add modules&gt;Sound Processing menu, or from the pop-up menu on the data model display select “Patch Panel”. Enter a name for the new Patch Panel module (or keep the default “Patch Panel”) and press Ok.\n\n\nConfigure the Patch Panel\nThe Patch Panel module requires a source of raw data before it can operate. This may come directly from a Sound Acquisition module (e.g. a sound card or a National Instruments board) or from processed data such as the output from a filter, a decimator, etc.\nTo configure the Patch Panel, go to the Detection&gt;“your patch panel name …”&gt; menu\n\n\n\nPatch Panel Dialog\n\n\nSelect the data source at the top of the dialog.\n\n\nPatch Panel Settings\nInputs to the patch panel are shown down the left hand side of the matrix. The number of inputs will be equal to the number of channels in the data source.\nOutputs are shown along the top. There will always be 32 output channels available.\nCheck the boxes to link input channels to output channels.\nIn the example, the patch panel has been used to reverse the order of channels 2 and 3.\n\n\nApply Immediately\nIf the “Apply Immediately” box is checked, then changes to the patch panel matrix become effective immediately.",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Patch Panel ",
      "Patch Panel"
    ]
  },
  {
    "objectID": "sound_processing/seismicveto/docs/veto_overview.html",
    "href": "sound_processing/seismicveto/docs/veto_overview.html",
    "title": "Overview",
    "section": "",
    "text": "Many of the PAMGuard detectors set detection thresholds automatically as a function of background noise. Loud sounds from airguns can upset this automatic threshold setting. It is of course extremely unpleasant listening on headphones when airguns are firing nearby and airgun sounds may even pose a risk to the operators hearing.\nDuring automatic threshold setting, a period of zero signal can upset threshold levels almost as much as a period of too much signal for some detector types\nThe seismic veto module detects the airgun pulse automatically using a simple in-band energy detector operating on spectrogram data. When the signal level exceeds some threshold, that period of sound is either taken out and set to zero, or replaced with randomly generated noise with the same spectral properties as measured in the signal prior to the airgun pulse. The time window of vetoed data can be set to continue after the signal has fallen below threshold to ensure the end of the pulse is discarded. It can also be configured to start the veto before the onset of the pulse (this is achieved by delaying the signal slightly in an internal buffer).\nThe seismic veto module has two output streams, the first containing vetoed FFT data and the second containing vetoed raw audio data. Other PAMGuard modules can subscribe to the appropriate output of the seismic veto module and operate as normal, but without the loud airgun sounds.\n\n\n\nSeismic Veto Data Model\n\n\nThe figure above shows a simple PAMGuard configuration with the output of the seismic veto connected to a sound playback module, a click detector and a whistle detector. The figure below shows spectrograms and waveforms of data before and after the seismic veto module.\n\n\n\nSeismic Veto Spectrograms\n\n\nA veto can be inserted anywhere in the PAMGuard data model where there is FFT / Spectrogram data.\nNext: Seismic Veto Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Seismic Veto ",
      "Overview"
    ]
  },
  {
    "objectID": "sound_processing/soundPlaybackHelp/docs/soundPlayback_Control.html",
    "href": "sound_processing/soundPlaybackHelp/docs/soundPlayback_Control.html",
    "title": "Sound Output Control",
    "section": "",
    "text": "Many of the sound output’s features can be controlled from the PAMGuard side bar which contains controls to\n\nHigh pass filter the data\nRun and envelope tracer and mix it’s output with the raw audio\nChange the playback speed (only when using PAMGuard viewer, or processing data from files or simulated sources);\nAmplify or attenuate the data\n\n\n\n\nSound Output Dialog\n\n\n\nHigh Pass Filter\nThe filter type is currently fixed as a second order high pass Butterworth filter which is suitable for the removal of unwanted low frequency sound when listening to audio data. Drag the slider to the required cut off frequency and the filter will automatically adjust.\n\n\nEnvelope Tracing\nMany cetacean echolocation clicks are too high frequency to be audible to humans. However, it is possible to hear these sounds by listening to their outline, or “envelope” which is at a much lower frequency then the main waveform and is generally audible.\nThe envelope tracer works by first high pass or band pass filtering the data, then all negative values in the waveform are set positive before the “rectified” waveform is low pass filtered to smooth it out. The two filters can be adjusted from the drop down menu accessible from the small arrow by the slider.\nThe operator can select how much of the raw audio and how much of the envelope traced signal are mixed together using the slider. This makes it possible to simultaneously listen to sounds, such as dolphin whistles, which are in the human audio band and high frequency click trains from species such as harbour porpoise.\n\n\nSpeed\n**\nNote that this feature will be hidden and disabled when processing data in real time.\n**\nWhen processing data from file, simulated data, or when using the PAMGuard Viewer, it is possible to adjust the playback speed. Drag the slider to the desired speed. When adjusting the playback speed, the frequency of the sounds will change. e.g. when playing at half the true speed, the frequency of sounds will halve.\nWhen speed adjustments are made, the selected sample rate of the output device remains the same. The speed change is affected by decimating or upsampling the audio data.\n\n\nGain\nAttenuate or amplify the data.\nNote that you should also check the sound settings on your computer. Increasing the gain in PAMGuard to a high level when the system’s sound card volume is turned right down may lead to signal distortion, so make sure the sound on the computer is turned up first.\nPrevious: Sound Output Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Output ",
      "Sound Output Control"
    ]
  },
  {
    "objectID": "sound_processing/soundRecorderHelp/docs/RecorderConfiguration.html",
    "href": "sound_processing/soundRecorderHelp/docs/RecorderConfiguration.html",
    "title": "Sound Recorder Configuration",
    "section": "",
    "text": "The Sound Recorder display configuration dialog is accessed from the Settings button on the recorder display panel or from the Detection&gt;Sound Recorder&gt;Recorder Settings menu command.\n\n\n\nSound Recorder Settings\n\n\n\nRaw Data Source\nSelect the data source for the sound recorder. All sources of raw audio data within PAMGuard will be listed.\n\nEnable Buffer\nEnter the length of the history buffer that will be added to the start of recordings started by pressing the Continuous + Buffer button.\nNote that buffering audio data can take a lot of memory and that writing large data buffers at the start of a file can take considerable time, which may make PAMGuard unstable. Buffers of up to a minute in length at sample rates of 100 kHz are generally Ok.\n\n\n\nPAMGuard Startup Options\nThese options control how the Sound Recorder will behave when PAMGuard starts:\n\nRemain Idle\nThe sound recorder will remain idle when PAMGuard starts.\n\n\nStart recording\nThe sound recorder will start continuous recording as soon as PAMGuard starts acquiring audio data.\n\n\nStart recording cycle\nThe sound recorder will start it’s recording cycle (see below) as soon as PAMGuard starts acquiring audio data.\n\n\nAutomatically return to last state at PAMGuard Stop\nThe sound recorder will go back into whatever state (stopped, recording, cycled recording) it was in when PAMGuard last stopped.\n\n\n\nAutomatic Recordings\nSet the length of automatic recordings in seconds, as well as the time from the start of one recording to the start of the next (i.e. the duty cycle, including both recording and non-recording times). In the image above, PAMGuard would record for 10 seconds and then stop recording for 20 seconds before starting to record again.\n\n\nFiles and Folders\n\n\n\nSound Recorder Settings\n\n\n\n\nSelect Output Folder\nSelect the folder that recorded files will be stored in. Note that recordings can take a considerable amount of space, so it may be worth having a dedicated drive for this purpose.\n\n\nOutput file location, name and format\nFile names are always based on the current PC clock date (which should have been set from the GPS). You may also enter a character string to the start of the file. In the example shown, a recording started at 22:51:40 on 12 January 2007 would have the name PAM20070112_225140_456.wav, where the last three digits are milliseconds. There is an option to have files written to separate sub folders of the root directory, a new folder being created each day.\nWAVE (WAV), AU and AIFF (AIF) formats are currently supported with bit depths of either 16 or 24. The bit depth should ideally match the bit depth of the sound acquisition system. Most acquisition systems are 16 bit. Exceptions are some audio files and some ASIO sound cards. Note that while the bit depth is correctly read from sound files, it is not possible to read the bit depth from ASIO devices so they will report a bit depth of 24 bits even if they are only reading 16. you should consult the devices manual to check for yourself.\n\n\nMaximum File Lengths\nSet the maximum length of single files either as a length in seconds and / or a size in Megabytes. Although you are likely to store files on hard drives, it is generally sensible to limit the size of single files such that a single file will fit on a writable CD or DVD. Never let files become larger than 2 Gigabytes since some systems will be unable to read them. (In principle the maximum size of a WAV file is 4 Gigabytes, however we have found that some software will be unable to read files larger 2 Gigabytes).\n\nRound file start times\nWherever possible file start times will be controlled to start on hour / 10 minute boundaries, etc.\nPrevious: Sound Recorder Overview\nNext: Sound Recorder Operation",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Recorder ",
      "Sound Recorder Configuration"
    ]
  },
  {
    "objectID": "sound_processing/soundRecorderHelp/docs/RecorderOverview.html",
    "href": "sound_processing/soundRecorderHelp/docs/RecorderOverview.html",
    "title": "Sound Recorder Overview",
    "section": "",
    "text": "The sound recorder may be used to make WAV or AIF file recordings to the computer’s hard drive.\n\n\n\nSound Recorder\n\n\nRecording can be continuous, or the recorder can be scheduled to make fixed length recordings at set time intervals. The recorder can also be set up to be triggered by any PAMGuard detectors so that recordings are made only when detections occur.\nThe recorder also contains a memory buffer so that sounds heard by the operator, or sounds which trigger detectors can be captured without having to record continuously.\nThe most obvious source of data for the sound recorder is a sound acquisition module, but it is also possible to connect a sound recorder to many other PAMGuard processes that produce raw data, including Decimators and Filters. More than one Recorder can be configured if necessary.\nNext: Sound Recorder Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Sound Recorder ",
      "Sound Recorder Overview"
    ]
  },
  {
    "objectID": "sound_processing/SpectrogramSmoothing/docs/SpectrogramSmoothing.html",
    "href": "sound_processing/SpectrogramSmoothing/docs/SpectrogramSmoothing.html",
    "title": "Spectrogram Smoothing",
    "section": "",
    "text": "The spectrogram smoothing kernel filters a spectrogram image in two dimensions by convolving an existing spectrogram with a 3 x 3 Guassian smoothing kernel\n\n\n\nUser Input\n\n\nImage smoothing in this way is a standard process in many image processing edge detection applications, causing edges to become less broken.\nIn signal processing terms, it is analogous to low pass filtering of audio data.\nThe spectrogram images below show a smoothed spectrogram on the left and an un-smoothed spectrogram of the same data on the right.\n\n\n\nUser Input\n\n\nThe resulting smoothed spectrogram may be used by any PAMGuard module that uses spectrogram data. Within PAMGuard it is useful to include a spectrogram smoothing kernel before the Whistle detector.\n\nAdding a new smoothing kernel to PAMGuard\nTo add a new Spectrogram Smoothing Kernel module to PAMGuard, select the File&gt;Add Modules&gt;Sound Processing&gt;Spectrogram smoothing kernel menu command.\nNext: Spectrogram Smoothing Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sound Processing ",
      "Spectrogram Smoothing ",
      "Spectrogram Smoothing"
    ]
  },
  {
    "objectID": "utilities/Alarms/docs/Alarms_Configuration.html",
    "href": "utilities/Alarms/docs/Alarms_Configuration.html",
    "title": "Configuration",
    "section": "",
    "text": "To configure an alarm, go to the _Detection&gt;Alarm Settings …_menu command and the alarm dialog will appear.\n\n\n\nAlarm Configuration\n\n\n\nTrigger Source\nSelect the data you want to trigger the alarm. This can be absolutely any data from anywhere within PAMGuard. Some may make more sense than others, for example, if you were to trigger off data from the acquisition module, alarms would fire several times a second whenever PAMGuard is running. The choice of alarm trigger is however your’s, so chose wisely !\nDepending on the data source, it may have additional options. For example, if you select the click detector it will allow you to select the types of click which will trigger an alarm. This uses the same system of Data Selectors that has been developed for the PAMGuard displays and will automatically include options for detection groups and data annotations.\n\n\nAlarm Count\nThe type of alarm count you select will depend on the type of trigger you are using. Three types are available:\n\nSimple Counts\nScored Values\nSingle Measurements\n\nNote that not all count types can be used with all types of data. In future releases we hope to automatically restrict the count types available for particular data sources, but for now, you’ll have to use your intelligence and pick a rational combination.\n\nSimple Counts\nSelecting this option causes the alarm module to simply count up the number of data which arrive from a data source. For example, it could be used to trigger an alarm if a certain number of whistles were to arrive in a given time interval.\n\n\nScored Values\nThis is slightly more sophisticated than the simple counts and would generally be used with a data source such as a noise measurement where you’re more interested in the value of the noise measurement rather than the fact that there has been a measurement.\nHow scored values are added may depend on the data source.\n\n\nSingle Measurements\nAs the name suggests, this is suitable for assessing single measurements, such as noise levels where the value of a single measurement is of interest, not the fact that a measurement has been made.\n\n\n\nCount Time\nThis is the number of seconds to count for. This option is not used with Single Measurements.\n\n\nAmber and Red Counts\nThese are the thresholds at which amber and red alarms are triggered.\nFor noise alarms, they are likely to be the noise level in Decibels. For detections, you should enter the number of detections required to trigger the alarm.\n\n\nMinimum Gap\nAlarm status messages are sent every time the alarm status changes. However if the alarm remains in the same state and more data are arriving which continually trigger that state, alarm messages might start firing thick and fast. Entering a value of a few seconds here will limit the number of alarm triggers. For example, you would want to use this on a click based alarm so that if hundreds of clicks were being detected every minute, you would get occasional reminders of the alarm status, but not one for every click.\nPrevious: Alarms Overview\nNext: Alarms Actions",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Alarms ",
      "Configuration"
    ]
  },
  {
    "objectID": "utilities/Alarms/docs/Alarms_Overview.html",
    "href": "utilities/Alarms/docs/Alarms_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "Alarms can be used to alert the operator to specific events\nAlarms can be triggered by absolutely any type of data within PAMGuard, whether it be detections, such as whistles or clicks, or a rise in noise levels.\nTo add a new Alarm module to PAMGuard, select the File&gt;Add Modules&gt;Utilities&gt;Alarm menu command.\nGive the alarm a name, e.g. “Whistle Alarm” and click OK.\nEach alarm can only trigger on one type of data. It is however possible to add multiple alarms to a single PAMGuard configuration.\nNext: Alarms Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Alarms ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/BinaryStore/docs/binarystore_overview.html",
    "href": "utilities/BinaryStore/docs/binarystore_overview.html",
    "title": "Binary Storage",
    "section": "",
    "text": "The database is not well suited for all types of data, particularly those such as clicks or whistle contours which have a varying length. The binary storage system stores PAMGuard output in a proprietary data format which is simple and efficient and can handle any type of data.\nData stored using the binary store can be reviewed with the PAMGuard viewer. It is also possible to open the binary files using your own software written in other programming languages such as Matlab or R.\n\nAdding a Binary Storage module\nFrom the File&gt;Add Modules&gt;Utilities menu select ‘Binary Storage’ to add binary storage to your configuration.\n\n\nConfiguring the Binary Store\nTo configure the binary store, go to the File&gt;Binary Storage… menu to open the Binary Storage dialog.\n\nSelect the folder where you want to store the data and optionally set the other three options.\nStoring data in folders arranged by date can help with data backup and archiving.\nSome PAMGuard detectors make additional measures of background noise. These can be stored either with the binary data in the pgdf files or in separate pgnf files (see below). The former has the advantage of creating fewer files, the latter may make it easier to load and process noise data (e.g. to assess detector performance) in R or Matlab.\nAutomatically starting new files is important in order that individual files do not get excessively large.\nThe binary store can start new files at fixed time intervals, when files reach a certain size or both (i.e. which ever condition occurs first).\n\n\nOutput Files\nOutput files are identified by a long name which contains the module type, the module name, the datablock name, the date and the time. e.g. Clicks from a Click Detector called “Porpoise Detector” will have a name like “Click_Detector_Porpoise_Detector_Clicks_20100331_142400.pgdf”\n\npgdf Files\npgdf files are the main files which contain the binary data. All pgdf files have a common header and footer structure (i.e. the data at the start and at the end of each file). Individual units of data are however different for each module.\npgdf files can contain more than one type of data. In particular, some detectors also include regular measurements of background noise in their binary output.\n\n\npgnf Files\nSome detectors (currently the Click detector the Whistle and Moan detector and the GPL detector) make and store measures of background noise. These can be important in assessing detector performance. The background data can either be stored with the detection data in the pgdf files or written to separate pgnf files. In either case, the stored data are the same, it’s a choice of fewer files or whether you want to be able to access noise data relatively quickly without having to load all binary data as well.\n\n\npgdx Files\npgdx files are indexing files. They contain headers and footers which are identical to those in the pgdf files, but no data. pgdx files speed up indexing processes at the start of a PAMGuard viewer session.\n\n\npsfx Files\npsfx files contain PAMGuard configuration data. These are basically the same data are as stored in the standard PAMGuard configuration files, but wrapped with a date and other information.\nOne of these is written each time PAMGuard is started, providing a permanent record of PAMGuard settings. psfx files can be loaded into the PAMGuard Viewer from the viewer data map or reloaded as with any other configuration file.\nNext: Matlab, R, and Python interfaces",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Binary Storage ",
      "Binary Storage"
    ]
  },
  {
    "objectID": "utilities/BinaryStore/docs/CreateBinariesOffline.html",
    "href": "utilities/BinaryStore/docs/CreateBinariesOffline.html",
    "title": "Create Binary Files Offline",
    "section": "",
    "text": "The Viewer funtion is new so you probably did not include binary storage module when you collected your data. Also what about older data sets you would like to analyse now with viewer. This brief description shows you the necessary steps to process your data so you can create binary files offline so you can use PAMGuard Viewer.\nFirst you have collected Rainbow Click Files. These can be imported and converted directly.\nSecondly, you have collected continous recordings (.wav files) but no binaries. You need to process your .wav files offline to create binaries. Open up PAMGuard (online) and add the following modules:Sound Acquisition, Click detector, Database and Binary Stoarage. If you are not interested in clicks but whistles the same principle applies. You just have to add the whistle & moan detector. Noise measurments can also be processed this way.\n\nSound Acquisition\nGo to Detection&gt;Sound Aquistion. Choose either ‘Audio file’ or ‘Audio file folder or multiple files’ in the Data Dource Type dropdown list. Choose the appropiate folder where your file/files are stored. Make sure the box ‘include subfolders is ticked’ so all files get processed. Check that the box_‘Repeat: Ant end of file list, start again’_ is NOT ticked. Press ok.\n\n\n\nAudioDataAcquisition\n\n\n\n\nDatabase selection\nBefore you select your database, you have to create a blank database you can use. If you collected GPS data during the data collection you can import that table in your blank database. Make sure it is called gpsData and is in the right GPS format. You can also add your GPS table after you processed the data.\nGo to File&gt;database selection and select the appropiate data base.\n\n\nBinary Storage\nYou have to select a folder where the binaries are going to be stored. Go to Go to File&gt;Binary Storage options for your selection.\n\n\nClick Detector\nSet up the Click detector for your purposes. You can change some paramters again in Viewer mode with the option Reanalyse click types but as it it time intensive you should set it up correctly.\nAfter you set up everything you might as well save the .psfx file so you have a template for the future. The data model should look like this. You can also add some notch filters beforehand if the data is really noisy.\n\n\n\nData_model\n\n\nThe next step is to start processing the data. Go to Detection&gt;Start. Now the .wav files are processed and binary files are created. This can be quite time consuming depending on how much data you process and how fast your computer is. It could take a couple of hours to a couple of days. PAMGuard will tell you approximatley when it is finishing, which file it is processing and how fast real time it is processing (RT). After it is finished you can open up PAMGuard Viewer.\n\n\n\nRunning",
    "crumbs": [
      "PAMGuard Website",
      "Detectors ",
      "Click Detector ",
      "Viewer Functions ",
      "Create Binary Files Offline"
    ]
  },
  {
    "objectID": "utilities/datamap/docs/datamap.html",
    "href": "utilities/datamap/docs/datamap.html",
    "title": "Data Map",
    "section": "",
    "text": "Key to PAMGuard viewer operation is the data map which provides an overview of all data available to the viewer.\nThere is never a need to create a data map since it is created automatically whenever PAMGuard is operating in Viewer mode. The data map is not available in other operation modes.\n\n\n\nImage of the PAMGuard datamap\n\n\nThe data map shows a general overview of all data available to viewer mode, which may be over a time scale of minutes to years.\nThe data map allows you to easily navigate through the data\n\nData density graphs\nMost of the data map is taken up by a series of data density graphs. These show the number of available data units per hour (in the case of data in the database) or per binary file for data stored in binary files.\nYou can double click on the title bar of each data density graph to minimise unwanted graphs (thereby making more room for others). Graphs with no data are minimised by default.\n\n\nLoading Settings\nEach time PAMGuard is started, settings are stored in the database and in the binary storage system. The times at which settings were stored are shown by small triangles in the “Settings” strip near the top of the data map. Hover the mouse over any of these triangles to see a list of modules in use at that time. To load a particular set of PAMGAURD settings, right click on the triangle and execute the pop up menu command.\n\n\nData Navigation\nSmall pink arrows on the data density graphs show the times of data currently loaded into memory. You can right mouse click at any point on any of the graphs to navigate to that point in the data. Follow link for more Navigation tips.\n\n\nData Map Scales\nUse the “scales” slider in the top right corner of the data map to control the horizontal scrolling\nUse the drop down list to select the vertical scaling of the plots.",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Data Map"
    ]
  },
  {
    "objectID": "utilities/depthreadout/docs/depth_overview.html",
    "href": "utilities/depthreadout/docs/depth_overview.html",
    "title": "Overview",
    "section": "",
    "text": "The Hydrophone depth readout module can be used to read hydrophone depth information from one or more analogue depth sensors which output a voltage that changes as hydrophone depth changes.\nFor current loop depth sensors (which output a current proportional to depth), the current output can be passed through a small resistor create a voltage.\nThe system currently only works with MeasurementComputing data acquisition cards (www.mccdaq.com) but may be extended to support other devices in the future.\nTime-stamped depth information is passed to the hydrophone array manager which makes it available to other PAMGuard modules as required, the information from the sensors effectively overriding the default depth information in the hydrophone array configuration dialog.\nA small side panel shows a graph of recent depth history.\n\n\n\nDepth side panel\n\n\n\nDatabase output\nBoth the raw voltage data and the calculated depth for each sensor are written to the database. It is therefore possible to recalculate depths off-line if depth sensors are re-calibrated at any point. (PAMGuard will not currently do this for you - you’ll have to work it out for yourself using your own software).\nNext: Depth Readout Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Sensors ",
      "Hydrophone Depth Readout ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/generalDatabaseHelp/docs/database_msAccess.html",
    "href": "utilities/generalDatabaseHelp/docs/database_msAccess.html",
    "title": "Microsoft Access Databases",
    "section": "",
    "text": "_**Please note that PAMGuard is not currently able to connect to Microsoft Access databases.\nThis is caused by the removal of the JDBC-ODBC bridge in Java 8.\nWe recommend that you use SQLite databases\nLimited connectivity to MS Access for the import and export of data is provided using the open source UCanAccess library.\nIf you are still using Java 7, then the following still apply …**_\nTo use a MS Access database you will need a licensed copy of MS Access on your computer or the 32-bit MS Access database engine available here supported on XP sp3, Vista sp1 and Windows 7\nPAMGuard works with Microsoft 2000, 2003, 2007 and 2010 databases (.mdb and .accdb).\nOne advantage of using a MS Access databases is that all your data end up in a single file which is easy to copy and move and send to other users.\n\nConfiguring an MS Access database\n\n\n\nMicrosoft Access Configuration\n\n\nPAMGuard is able to create an MS access 2007 database(.accdb) at time of selection provided with a location.\nYou do not need to add tables to the database, PAMGuard will automatically create the tables it needs.\nBack to database main page",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Database ",
      "Microsoft Access Databases"
    ]
  },
  {
    "objectID": "utilities/generalDatabaseHelp/docs/database_OOo.html",
    "href": "utilities/generalDatabaseHelp/docs/database_OOo.html",
    "title": "OpenOffice.org (OOo) databases",
    "section": "",
    "text": "The OO Database is not currently working and should not be used\nTo use a Open Document Format databases no external database software or engine is required however if you would like to view the database LibreOffice and OpenOffice are good choices.\nPAMGuard works with OpenOffice databases (.odb).\nLike MS Access, using these Open Databases, all your data ends up in a single file which is easy to copy and move and send to other users, however while PAMGuard is open the files are extracted then rebuilt at the end.\n\nConfiguring an OpenOffice database\n\n\n\nOOo Database Configuration\n\n\nPAMGuard is able to create an OpenOffice database(.odb) at time of selection provided with a location.\nYou do not need to add tables to the database, PAMGuard will automatically create the tables it needs.\nBack to database main page"
  },
  {
    "objectID": "utilities/generalDatabaseHelp/docs/import_export.html",
    "href": "utilities/generalDatabaseHelp/docs/import_export.html",
    "title": "Importing and Exporting",
    "section": "",
    "text": "In Viewer Mode, database tables can be imported or exported from the current PAMGuard database to and from external databases. This feature can be used to copy an entire database (for example, you may need to import and old Microsoft Access database into the newer SQLite database format) or you could copy data for an subset of tables (for example, import the UDF_ logger forms definitions from another database).\nCurrently, in order to avoid duplicating data, it is only possible to copy entire database tables into entirely empty database tables. If you wish to transfer data into a table which already contains data, you will be prompted to delete and recreate that table prior to importing / exporting data.\nTo export or import data, select one of the File&gt;Database&gt;External&gt;Export to database or Import from database menu items.\nYou will then be presented with the database selection dialog where you chose the database you want to exchange data with.\nOnce you select a database, you will see the Import / Export dialog where you can chose which tables to copy between the two databases. (There may be a short delay while PAMGuard analyses the external database).\n\n\n\nSQLite Configuration\n\n\nIf you are transferring data to a new blank database, then it’s likely that most of the destination tables will show an Error. Hover the mouse over the buttons to see the error. Most likely it’s simply that the tables need creating. Press the “Create” button near the top of the screen and the errors will disappear. If tables already contain data, they will be flagged as “Warning”. Again, hover the mouse over each button to see what’s wrong. Click the button for a menu of possible actions to fix any problems (generally dropping and recreating tables).\nSelect the tables you wish to export / import and press “Start”.\nIf you are importing data, at the end of the import process, by default, PAMGuard will load the latest configuration from the imported configuration tables. Un-check the box if you do not want this to happen.\n\nIndexing and Cross Referencing\nEvery PAMGuard database table has an indexed column named “Id”. This number is automatically generated as data are written to the table and may therefore change when data are copied between databases.\nFor simple data, where the original data were written by PAMGuard and nothing was deleted, then it’s likely that the Id’s will be the same. However, for data which have been manipulated either by someone messing with the database or by data being added / deleted in the Viewer, then it’s likely that the copied data will have different Id’s\nTo keep track of data, each copied database table will contain an additional column with the name “CopyId”. This will contain the Id of the data in the table it was copied from.\nFor most data this is not a problem. However, Click Detector events marked in the PAMGuard Viewer populate two database tables one of which cross references to the other. With the possible change of Id’s, these cross references may no longer be correct. PAMGuard will automatically correct these altered cross references.\nOtherwise, you will only ever be aware of these Id changes should you have referred to an event by it’s Id - e.g. if you emailed a colleague and event number to check over.\nBack to database main page",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Database ",
      "Importing and Exporting"
    ]
  },
  {
    "objectID": "utilities/hydrophoneArrayManagerHelp/docs/Array_NewHydrophone.html",
    "href": "utilities/hydrophoneArrayManagerHelp/docs/Array_NewHydrophone.html",
    "title": "Hydrophones",
    "section": "",
    "text": "The hydrophone Id will be assigned automatically.\nAssign the hydrophone to a streamer from the drop down list.\nThe hydrophone type is for information only.\n\nHydrophone Coordinates\nEnter the x,y, and depth coordinates and estimates of the errors on those coordinates.\n\n\nSensitivity\nThe sensitivity, preamplifier gain and combined bandwidth (the bandwidth of the hydrophone element and any associated preamplifier combination) are taken by default from the previously selected hydrophone (to save you having to repeatedly type them in for multi-element arrays.\n\n\nInterpolation\nThings sometimes move ! As we start to incorporate sensors into our arrays, it will be necessary to chose how to pick a position from a list of evolving positions over time.\nThese options tell the system to take the latest value entered by the user, to interpolate between values bracketing the time of an event or to use the values immediately preceding an event.\nOnce you have completed the information, press the Ok button and the new hydrophone will appear in the list.\nPrevious: Streamer Dialog",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Hydrophone Array Manager ",
      "Hydrophones"
    ]
  },
  {
    "objectID": "utilities/hydrophoneArrayManagerHelp/docs/Array_Overview.html",
    "href": "utilities/hydrophoneArrayManagerHelp/docs/Array_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "PAMGuard users are deploying more and more complicated arrays and may now be working with some hydrophones deployed from a vessel while others are on free floating buoys. Other users are adding heading, pitch and roll sensors to their systems.\nTo cater for these developments the array management and localisation system has been substantially updated so that arrays containing multiple types of streamer / buoys, etc. can be effectively managed.\nWithin the PAMGuard framework, an “Array” refers to all of the hydrophones currently in use and only a single “Array” is loaded into memory and used at any one time.\nAn array may contain multiple “Streamers” or clusters of hydrophones. Hydrophones within each streamer (or cluster) are assumed to be connected rigidly to one another and have a common origin. Within this context a moored or drifting buoy should be considered as a streamer. The streamer origin will generally be referenced to the vessels GPS position, or a fixed Latitude and Longitude.\nEach streamer has a Hydrophone Locator system. This tells PAMGuard how to calculate the actual positions of the individual hydrophones from the streamer origin. Moored hydrophones generally use a rigid locator, whereas towed hydrophones are usually better off using a threading hydrophone locator which will give more accurate hydrophone positions as the vessel turns a corner.\nA single array can mix streamers of different types.\nSeveral different arrays may be managed and stored, although only one is loaded at any one time.\nEach array may contain up to 32 individual hydrophone elements (transducers).\nA one-to-many relationship exists between hydrophones and software channels.\nEach hydrophone element must be assigned to a streamer. The actual coordinates for each hydrophone used by PAMGuard are the sum of the streamer coordinates and the individual hydrophone element coordinates. Although this appears to introduce some redundancy regarding the coordinates of each hydrophone, streamer assignment is important for two reasons. Firstly, it allows the errors on the relative locations of pairs of hydrophones to be more accurately defined (the errors between hydrophones in different streamers will generally be greater than the errors on a hydrophone in the same streamer). Secondly, should a streamer be moved or shortened, it is easier to adjust the coordinates of a single streamer than to adjust the coordinates of all hydrophones individually.\n\nThe Default Array\nThe first time you run PAMGuard, a default array consisting of two hydrophone elements spaced 3m apart at 5m depth, 100m and 103m astern of the vessel. Channels in the array are mapped 1:1 to ADC channels 0 and 1.\nNext: Array Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Core Features ",
      "Hydrophone Array Manager ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/listening/docs/Listening_Overview.html",
    "href": "utilities/listening/docs/Listening_Overview.html",
    "title": "Overview",
    "section": "",
    "text": "The Aural listening module can be used to keep a record of when you are listening and what you are hearing on headphones.\nTo add a new Aural Listening module to PAMGuard, select the File&gt;Add Modules&gt;Utilities&gt;Aural Listening menu command.\nAn Aural Listening tab will be added to the PAMGuard GUI\n\n\n\nAural Listening\n\n\n\nEffort\nEffort data are recorded in the Effort panel\nSelect when you are on and off listening effort. The times you go on and off listening effort will be written to the database\nYou can also select the numbers of the hydrophones you are monitoring at any moment.\n\n\nThings Heard\nWhen you hear things, click on the appropriate button for that species or type of noise and a subjective indication of how loud it is\n0 - can no longer hear it\n…\n5 - very loud\nYou can also enter text comments with any additional information\n\n\nHistory\nThe lower part of the display shows the history of what you’ve recently heard\n\n\nDatabase Output\nBoth the effort data and the things heard data are written to the PAMGuard database.\n\n\nMap Display\nThings heard are displayed on the PAMGuard map at the location of the monitored hydrophones at the time a button was pressed or a comment entered\nNext: Listening Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Aural Listening Form ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/quickAnnotations/docs/import.html",
    "href": "utilities/quickAnnotations/docs/import.html",
    "title": "Importing",
    "section": "",
    "text": "In Viewer Mode annotations can be imported into the QuickAnnotation module by selecting Import annotations from the file menu.\nAs of 2018-08-02 only CSV files of the following specific format can be imported, however this may change in the future.\n\nCSV format for importing QuickAnnotations\nThe file format for importing QuickAnnotations is headerless CSV with a comma for the field-delimiter and no quote character for strings.\nOne annotation should be listed per row, and each row should have seven columns (six commas). Fields marked with an asterisk (*) are required and cannot be blank/null. The fields for each row should be:\nUTC, Channel, Duration, LowFreq, HighFreq, Label, Note\n*UTC should be a number in the same format as java.lang.System.currentTimeMillis(), i.e. the difference, measured in milliseconds, between the current time and midnight, January 1, 1970 UTC(coordinated universal time).\n*Channel is the channel number for the annotation, and is one-indexed.\n*Duration is the duration, in seconds.\n*LowFreq and HighFreq are the lower and upper frequency bounds in Hz.\nLabel is a string (without commas) containing the user-designated label for the annotation.\nNote is a string (without commas) containing the user-designated notes for the annotation.\nPrevious: Annotations Configuration\nNext: Importing Annotations",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Quick Annotations ",
      "Importing"
    ]
  },
  {
    "objectID": "utilities/quickAnnotations/docs/using.html",
    "href": "utilities/quickAnnotations/docs/using.html",
    "title": "Using Editing and Deleting",
    "section": "",
    "text": "Once configured, simply select the Label from the side panel and drag the mouse across the relevant spectrogram display panel.\n\nIf the ‘Popup annotation dialog’ is enabled, a small dialog will appear where you can enter a short note describing the sound. The Quick Annotation module will also measure signal-to-noise ratio (SNR), and a variety of sound-pressure levels (SPL).\nNB: Accurate measurement of SPL requires a calibrated hydrophone and acquisition board that have been correctly configured in the Array Manager and Sound Acquisition modules.\n\nEditing and Deleting\nOnce a mark is created, you can right click with the mouse close it it’s center and a pop-up menu will appear enabling you to edit or delete the mark (this is easier in viewer mode than during real time processing).\nYou can also drag the edges of the marks with the mouse to alter the time and frequency limits.\nPrevious: Annotations Configuration\nNext: Importing Annotations",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Quick Annotations ",
      "Using Editing and Deleting"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_InfoTables.html",
    "href": "utilities/SIDEModule/docs/SIDE_InfoTables.html",
    "title": "Information Tables",
    "section": "",
    "text": "Two tables are shown in the middle of the SIDE Module display: the Test History and the Operations State.\n\nTest History\n\nThe Test History table documents the tests that have run or are currently running. The UTC column shows when the test was started, and the Ops column indicates the Operations State when the test was started. Version specifies the Sound Type Generator version being used. Sequences is the number of sequences that have already been completed.\nA summary report can be generated any time after a test is complete by right-clicking on one or more tests listed in the table and selecting Process Test ## from the drop down menu.\n\n\nOperations State\n\nThe Operations State table shows the changing operations statuses throughout the day. The current Operations State can be selected in the Operations Status panel along the left side of the SIDE Module display, and also in the Sidebar.\nItems in the table can be edited by right-clicking on the Operational Status and selecting Edit.\nPrevious: Operations Status\nNext: Reporting Matrix",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Information Tables"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_Output.html",
    "href": "utilities/SIDEModule/docs/SIDE_Output.html",
    "title": "Output",
    "section": "",
    "text": "The SIDE Module saves information to the database, and can also generate summary reports for later review.\n\nDatabase\nThree linked tables are generated in the PAMGuard database:\n\nSIDE_Sounds lists every sound injected\nSIDE_Sequences lists every sequence\nSIDE_Tests lists every test\n\nEach record in the sounds table cross references back to a record in the sequences table and each record in the sequences table cross references back to the tests table.\n\n\nSummary Report\nDetection Efficiency Reports (DER) can be generated at any time after a test by right-clicking on one or more tests listed in the PAMGuard Test History Information Table and selecting Process Test from the drop down menu. The operator can choose whether to show results for both sounds and sequences, or sequences only. Detection efficiency of separate detectors can be displayed on a single plot (if there are not too many detectors) or on separate plots (for multiple detectors).\nA logistic regression will be conducted for each Species Cluster / detector (or human) combination and a report automatically generated as a Microsoft Word document. The report provides several key outputs:\n\nThe report date and time and the version of PAMGuard used for monitoring\nSystem information including the hydrophone array configuration with details on hydrophone specifications, spacing, and tow position\nPAMGuard modules in operation during the monitoring\nA detection efficiency table for injected cluster signals showing range, the number of signals injected, the percentage of signals detected by the detectors, and where applicable, the number of signals detected by the operator\nA logistic regression plot for individual signal detection probability versus range\nA detection efficiency table and logistic regression plot for injected cluster sequences\n\nThe report provides information on detection range probabilities for each selected species cluster at both the signal and the sequence level. The logistic regression plots show the number of hits and misses for the automated detectors or the operator as well as the detection probability versus range. Additional information regarding the monitoring period and signal parameters are included in the efficiency report for each cluster.\nPrevious: SIDE Workflow",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Output"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_Process.html",
    "href": "utilities/SIDEModule/docs/SIDE_Process.html",
    "title": "Workflow",
    "section": "",
    "text": "There are two different workflows, depending on whether a Quick Test or a Random Drill is being run. Descriptions of each test can be found in the Overview.\n\nQuick Test\nThe goal of a Quick Test is to determine the detection functionality of the PAM system in the current environmental conditions. The test is not intended to evaluate operator performance, but primarily to evaluate the efficacy of the automated detectors. Therefore, once started, the operator simply needs to wait until the Quick Test is complete. No further interaction is required.\nDetection matching takes place in real time, with the SIDE module monitoring data coming from each detector and matching the simulated sounds with the detections. A match between an injected signal and detection is counted if there is overlap in time and frequency of the simulated sounds and the detection.\nA summary report can be immediately generated for operator review once the Quick Test has completed.\n\n\nRandom Drill\nRandom Drills are intended to test both operator alertness and automated detector efficiency over much longer periods of time and different noise conditions. Sequences are injected into the audio stream like the Quick Test, but at an infrequent rate (every few hours) over a period of days or even weeks.\nThe operator has three different methods to indicate that they have detected a sound.\n\nThey can draw an annotation box around the signal in the spectrgoram\nThey can hit the Print Screen button in the top-left corner of the PAMGuard window\nThey can click a Things Heard button if they have an Aural Listening Form module loaded\n\nIn the case of an annotation box, a match between an injected signal and an operator detection is counted if there is an overlap in time and frequency of the simulated sound and the annotation box. For the Print Screen and Things Heard buttons, it is likely that the operator will have pressed the button at some time after the sound first becomes visible on the display. For these annotation types therefore, a match is considered good if the button was pressed within 30s of the sound reaching the hydrophones.\nAutomated detectors are evaluated the same as in the Quick Tests.\nOver an extended period of time Random Drills will generate the same statistics as the quick tests, but are more likely to capture the full range of operational (noise) conditions and operator attentiveness.\nPrevious: Sidebar\nNext: SIDE Output",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Workflow"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_Sidebar.html",
    "href": "utilities/SIDEModule/docs/SIDE_Sidebar.html",
    "title": "Sidebar",
    "section": "",
    "text": "The Sidebar shows the current operational state, as well as information about the last test run.\n\nThe current operations status can be selected from the drop-down text box. In order to properly log a status change to the database, a selection must be made from the text box even if the correct status is already displayed. When a status is selected, it will be shown in the Operations State table in the middle of the SIDE Module display, along with a time stamp to indicate when the status was changed.\nThe test information can be displayed or hidden by clicking on the arrow (). Use this feature if you are limited on screen space and don’t need to see all of the information.\nPrevious: Reporting Matrix\nNext: SIDE Workflow",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Sidebar"
    ]
  },
  {
    "objectID": "utilities/SIDEModule/docs/SIDE_TestParams.html",
    "href": "utilities/SIDEModule/docs/SIDE_TestParams.html",
    "title": "Test Parameters",
    "section": "",
    "text": "For descriptions of the Quick Test and Random Drill Tests, please see the Overview page.\n\nQuick test\n\nThe Number of Sequences defines how many sequences the SIDE Module will generate for each of the species checked off under Quick in the Species Cluster window. 20 sequences are a recommended minimum to complete a Quick Test. A 20-sequence Quick Test with all species clusters should take approximately 15 minutes to complete. If you have enough time, 40 sequences will provide you with more accuracy.\nPressing the Run Quick Tests button starts the Quick Test process. Note that this button is disabled (as shown in the image above) until all of the following conditions are met\n\nPAMGuard processing has begun\nAt least one species has been selected for a Quick Test in the Species Clusters window\nA Quick Test is not already running\nPAMGuard is not in Viewer mode\nAn Operations Status has been selected.\n\nPoor results (e.g. poor regressions or all misses) likely indicate system or noise issues. Rather than increase the number of sequences injected in the hopes that a more accurate measure will yield better results, those issues should be investigated and solved first.\nChecking the Auto generate report box will cause a report to immediately be created upon completion of the Quick Test. If this box is left unchecked, a report can be generated any time after a test by simply right-clicking on one or more tests listed in the PAMGuard Test History Information Table and selecting Process Test ## from the drop down menu.\n\n\nRandom Drill Tests\n\nThe Random Drill Interval defines the average amount of time (in minutes) between injected sounds. Actual elapsed time between sounds will be randomly distributed around this number. The injection period may be adjusted depending on the monitoring phase. The following minimum intervals are recommended to reduce the frequency of injections:\n\n60 minutes for 3-5 species clusters\n120 minutes for &gt; 5 species clusters\n\nPrevious: Species Cluster Selection\nNext: Operations Status",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "SIDE Module ",
      "Test Parameters"
    ]
  },
  {
    "objectID": "utilities/spectrogramannotations/docs/spectrogramannotations.html",
    "href": "utilities/spectrogramannotations/docs/spectrogramannotations.html",
    "title": "Overview",
    "section": "",
    "text": "Spectrogram Annotations allow the user to make marks on the spectrogram display and add a small amount of text to go with each mark.\n\nThey can be used either in real time or offline using the PAMGuard viewer\nData from the marks are stored in the PAMGuard Database\nNext: Annotations Configuration",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Spectrogram Annotations ",
      "Overview"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/calibrations.html",
    "href": "utilities/tethys/docs/calibrations.html",
    "title": "Instrument Calibrations",
    "section": "",
    "text": "Most of the calibration data is taken from the array manager and from the sound acquisition module. However, PAMGuard will ask a few questions about HOW the instrument was calibrated, when it was done and who is responsible.\nThere are two dialogs associated with calibration. The first asks for a calibration method and has the following fields:\n\nMethod: Must be one of the following options:\n\nReference hydrophone\nManufacturer�s specification\nPiston phone\nOther calibrated source\nUnknown\n\nSerial number: Hydrophone serial number\nQuality: Quality assurance value:\n\nunverified: The calibration has not been verified\nvalid: The calibration has been validated as per the quality assurance process\ninvalid: The calibration was found to be invalid during quality assurance\n\nQA Comment: Textual description of the quality assurance process.\nCalibration method: Textual description of the Method.\n\nThe second calibrations dialog asks for:\n\nCalibration date: Date the calibration was performed.\nUpdate frequency: Must be one of the following:\n\nas-needed: No updates are planned, but if a change is needed the calibration will be updated (defaul)t\nunplanned: There are no plans to ever update the record.\nyearly: A yearly review will be conducted to ensure that the record is valid.\n\nTechnical Person / Data Manager: These two types of data have the same fields and detail who was responsible for the calibration and who is responsible for maintaining the record of the calibration. In many cases, this may be the same person and copy buttons allow the fields to be duplicated.\n\nName: Responsible party�s naem\nOrganisation: Organisation to which the party reports\nPosition: Responsible party�s title\nEmail: Email contact information\n\n\nFill in as much information as you can! If the export is successful, a record will show for each hydrophone (or sensor) in your instrument array in the calibration information table:\n\n\n\nPanel with information about instrument calibration\n\n\nPrevious: Module overview\nNext: Instrument deployments",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Instrument Calibrations"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/deployments.html",
    "href": "utilities/tethys/docs/deployments.html",
    "title": "Instrument Deployments",
    "section": "",
    "text": "Tethys uses deployment records to register information about when instruments have been deployed as well as their characteristics. Examples of characteristics that are recorded include sample rate and the number of quantization bits, description of duty cycles (if applicable), hydrophone geometry, and enough details to be able find calibration data for specific hydrophones.\nPAMGuard will examine the PAMGuard database and binary Store to determine what records should be generated for your instrumentation.\nWhere data were collected continuously or on a regular duty cycle, PAMGuard will create a single deployment record. If data were collected on a more “ad-hoc” basis, where the instrument has been deployed multiple times or has irregular recording, PAMGuard will generate a deployment record for each period of recording.\nThe figure below shows an example of ad-hoc recording periods identified by PAMGuard:\n\n\n\nPanel showing recording times/deployments for this PAMGuard database\n\n\nOccasionally, there may be short recording periods (e.g. while you were testing kit on deck) that you do not want to export. Use the select checkbox to pick all of the rows that you wish to export, or right click on the table and “Select All.”\nWhen one or more deployment records are selected, the “Export…” button will become available. Selecting the export button will start a dialog that asks for additional information about the deployments and then write records to Tethys.\nThe first page of the dialog asks for the project and geographic region which will be automatically populated if they have been previously specified. In addition, the following fields are requested:\n\nCruise name - Optional name of the deployment cruise\nSite - Case-sensitive name for the deployment site, e.g. “Tanner Banks” or a letter designation “T”. This can provide a simple way to identify multiple deployments at the same general location.\nResponsible Party - A set of fields describing who was responsible for the deployment and how they may be contacted.\n\nThe next page of the dialog asks whether you would like to export a single deployment document or multiple deployments. todo: add more detail here\nFinally, you are prompted to provide optional textual descriptions of:\n\nObjectives - What were your objectives when deploying the instrument? Example: Determine population estimates for critically endangered populations of vaquita (Phocoena sinus).\nAbstract - A textual description of the deployment. Example: A set of high frequency recorders were deployed across the northern portion of the Sea of Cortez in the historical range of the vaquita (Phocoena sinus). These recordings will support detection and density estimation efforts.\nMethod - A description of the methods used. Example: Small boat deployment of bottom moored SoundTrap recorders with acoustic releases.\n\nPress Finish to export the records. Once the document(s) have been successuflly exported, the document name associated with each recording period will be shown in the Tethys Deployment column.\nPrevious: Calibrations\nNext: Detections & Localizations",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Instrument Deployments"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_batch.html",
    "href": "utilities/tethys/docs/tethys_batch.html",
    "title": "Batch Output",
    "section": "",
    "text": "The Tethys display is great for outputting data from one set of data, giving you fine scale control over what is output, and instant access to the documents created in the database. However, what if you want to output Tethys data from several different PAMGuard datasets ? You could open each dataset with PAMGuard Viewer, add the Tethys module, then output the Calibrations, Deployments, and Detections. Or you could use the PAMGuard batch processor (version 2.0 or later) to automate the entire process and do the whole lot. This is particularly useful if the outputs take a long time, since the batch processor will run multiple ‘jobs’ sequentially, e.g. over night.\nThe batch processor is currently a PAMGuard plugin module which is installed separately from the main program. In future releases, it may be incorporated as a core module.\nOne installed, help pages for the batch processor will be available within the online help. Read the instructions on setting up batch processing for PAMGuard viewer tasks, then configure jobs (sets of PAMGuard data to process) you want to export to Tethys.\n\nIn your batch configuration psfx file (yes, you use a psfx file, for controlling Viewer tasks in the batch processor) add the Tethys module if not already present. A list of possible Tethys output tasks will then be added to the the Offline Tasks table. It is quite possible that the check boxes used to select the Tethys tasks will be disabled at this point. Hover the mouse over each task and it will tell you why, so that you can rectify the problem and proceed.The three main reasons why a Tethys task cannot operate are\n\nThe Tethys server is not running.\nInstrument and array information has not been entered correctly\nRequired information for the task (such as Deployment abstract information) has not been entered.\nITIS Species codes have not been entered for Detections and Localisations output.\n\nIt is important that you set up the array for each job with correct Instrument / array information. This can be set for each task by right clicking on the appropriate line in the jobs table.\nOnce all the required information has been entered, you can select the tasks you want to run and start outputting to Tethys. There are a fair number of things that can go wrong at this stage, so it’s important that you check the output either in the Tethys Client, or by opening the PAMGuard datasets in viewer mode to check their Tethys output.\nNote that this is very new functionality. Feedback is very much appreciated!\nPrevious: Tethys / PAMGuard mappings\nReturn to overview",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Batch Output"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_granularity.html",
    "href": "utilities/tethys/docs/tethys_granularity.html",
    "title": "Granularity",
    "section": "",
    "text": "When exporting Detections to Tethys, you must select the “Granularity” for the exports. This will be one of the following:\n\nCall - each detected call, or noise measurement is individually output to Tethys.\nBinned - Counts of calls in fixed time bins are output to Tethys.\nEncounter - Counts of calls forming and Encounter, that is a period of calling without a predetermined gap between calls.\nGrouped - A Count of groups of calls associated in some other way (for instance through manual grouping of detections).\n\nBinned granularity will require you to enter the duration of each bin, and a minimum number of calls for a bin to be output (e.g. you might set this above 1 if there were occasional false positive detections, but when the animals do call, you tend to get lots of them).\nEncounter granularity will require you to enter a minimum gap between calls which would constitute a new encounter. As with Binned, you also enter a minimum number of calls for a bin to be output\nEncounter and Binned granularities also offer to output separate records for each detection channel (or hydrophone), or to group detections across channels. The former would be most appropriate for widely spaces hydrophones, where you’d expect different encounters on each hydrophone, whereas the latter would be more suitable if the hydrophones were spaced close enough together that you’d expect broadly the same detections on them all.\nPrevious: Detections and Localizations\nPrevious: Species Codes",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Granularity"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_granularity.html#tethys-granularity-1",
    "href": "utilities/tethys/docs/tethys_granularity.html#tethys-granularity-1",
    "title": "Granularity",
    "section": "",
    "text": "When exporting Detections to Tethys, you must select the “Granularity” for the exports. This will be one of the following:\n\nCall - each detected call, or noise measurement is individually output to Tethys.\nBinned - Counts of calls in fixed time bins are output to Tethys.\nEncounter - Counts of calls forming and Encounter, that is a period of calling without a predetermined gap between calls.\nGrouped - A Count of groups of calls associated in some other way (for instance through manual grouping of detections).\n\nBinned granularity will require you to enter the duration of each bin, and a minimum number of calls for a bin to be output (e.g. you might set this above 1 if there were occasional false positive detections, but when the animals do call, you tend to get lots of them).\nEncounter granularity will require you to enter a minimum gap between calls which would constitute a new encounter. As with Binned, you also enter a minimum number of calls for a bin to be output\nEncounter and Binned granularities also offer to output separate records for each detection channel (or hydrophone), or to group detections across channels. The former would be most appropriate for widely spaces hydrophones, where you’d expect different encounters on each hydrophone, whereas the latter would be more suitable if the hydrophones were spaced close enough together that you’d expect broadly the same detections on them all.\nPrevious: Detections and Localizations\nPrevious: Species Codes",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Granularity"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_module.html",
    "href": "utilities/tethys/docs/tethys_module.html",
    "title": "Tethys Module",
    "section": "",
    "text": "It is assumed that you are familiar with PAMGuard and have some knowledge about Tethys. Documentation and tutorials are available at the Tethys web site.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Tethys Module"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_module.html#launch-pamguard-in-viewer-mode",
    "href": "utilities/tethys/docs/tethys_module.html#launch-pamguard-in-viewer-mode",
    "title": "Tethys Module",
    "section": "Launch PAMGuard in viewer mode",
    "text": "Launch PAMGuard in viewer mode\nTethys export is only available in PAMGuard Viewer mode and is used to archive project data to a centralised database. It is NOT a replacement for the existing PAMGuard database. Open the PAMGuard database that you wish to use in viewer mode.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Tethys Module"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_module.html#pamguard-tethys-module",
    "href": "utilities/tethys/docs/tethys_module.html#pamguard-tethys-module",
    "title": "Tethys Module",
    "section": "PAMGuard Tethys Module",
    "text": "PAMGuard Tethys Module\nAdd a Tethys module to PAMGuard from the File / Add Modules / Utilities menu. A new tab panel will show the Tethys interface\n\nThe tab shows a number of panes for the connection to the server and the various types of data that will be output to the database. Some of these panes summarize information on what’s in the current PAMGuard dataset (consisting of your PAMGuard database and binary store), others may be empty until you start to export to Tethys.\nThe Tethys module consists of several panels:\n\nConnection and Project Details - Specifies the location of the Tethys server and metadata about the project.\nData Export - There are several panes that are responsible for exporting information about instrument deployments, their calibrations, and what they detected/localized.\n\nInstrument calibration information\nRecording periods and deployments information.\nDetections and localizations. A final panel next to this one lists exported detection/localization documents.\n\n\nPrevious: Overview\nNext: Connection & Project Details",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "Tethys Interface ",
      "Tethys Module"
    ]
  },
  {
    "objectID": "utilities/tethys/docs/tethys_server.html",
    "href": "utilities/tethys/docs/tethys_server.html",
    "title": "Tethys Server",
    "section": "",
    "text": "Tethys is …\nPrevious: Quick Start"
  },
  {
    "objectID": "utilities/userInputHelp/docs/userInput.html",
    "href": "utilities/userInputHelp/docs/userInput.html",
    "title": "User Input Panel",
    "section": "",
    "text": "The user input utility allows users to type comments into PAMGuard. These will be time-stamped and stored in the database.\nTo add a new User Input module to PAMGuard, select the File&gt;Add Modules&gt;Utilities&gt;User Input menu command.\n\n\n\nUser Input\n\n\nIn addition to the main panel which can be used for entering comments of any length, a small input box is provide on the left hand side panel to allow short comments can be added without needing to tab to the main panel.\nLong comments written to the database will be broken into shorter sections each less than 255 characters in length and will be written to multiple rows in the database table.",
    "crumbs": [
      "PAMGuard Website",
      "Utilities ",
      "User Input ",
      "User Input Panel"
    ]
  },
  {
    "objectID": "visual_methods/angleMeasurementHelp/docs/angleMeasurement.html",
    "href": "visual_methods/angleMeasurementHelp/docs/angleMeasurement.html",
    "title": "Automated Bearing Measurement",
    "section": "",
    "text": "to be done"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/BEARING.html",
    "href": "visual_methods/loggerFormsHelp/docs/BEARING.html",
    "title": "BEARING Property",
    "section": "",
    "text": "The BEARING Property is used to tell PAMGuard which of the Controls contains bearing information (about a sighting, etc.)\n\nRequired Fields\nTopic\nThe title of one of the other controls, which contains numeric data giving a bearing in degrees.\nTopic\nMust be one of the following:\n\nMAGNETIC: Bearing is relative to magnetic North\nTRUE: Bearing is relative to true North\nRELATIVE1: Bearing is relative to the vessels heading\nRELATIVE2: Bearing is relative to the vessels heading, but with left/right ambiguity\n\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/CHECKBOX.html",
    "href": "visual_methods/loggerFormsHelp/docs/CHECKBOX.html",
    "title": "CHECKBOX Control",
    "section": "",
    "text": "The CHECKBOX Type is used to create a check box for entering true/false data on a Logger form\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared (deselected) when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this field is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nIf this is true (-1 in Access, generally any non zero or non null number) then data from this form can be plotted if the check box is selected. Note that there are extensive plot options available from the Display / Logger forms menu.\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nThe checkbox will be set to true if the NMEA data is a non-null character of any type that is not “0”.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/designingForms.html",
    "href": "visual_methods/loggerFormsHelp/docs/designingForms.html",
    "title": "Designing Forms",
    "section": "",
    "text": "Key to designing Logger forms in PAMGuard is the generation of one or more UDF_ tables in the PAMGuard database.\nThe easiest way to generate a blank UDF table is to start PAMGuard, ensure that the database and Logger forms modules have been loaded, then from the Detection menu select “Detection/Logger forms/Create new form …”. A dialog box will then appear asking for the name of the form. Enter the name of the form you want to appear on the display (i.e. don’t include UDF_ at the beginning)\nPAMGuard will then generate a new UDF table in the PAMGuard database prefixed with the characters “UDF_”. i.e. if you enter a form name “Effort”, PAMGuard will create a form UDF_Effort\nYou should then be able to open the database and view the new UDF_ form which will currently be empty\nAt this point, nothing will appear on the display. To see the form on the display, go to the PAMGuard Detection menu and select “Detection/Logger forms/Regenerate all forms”. An empty form should now appear on the display.\nIf you look again in the database, you will see that a new output data table has been created with the table name you typed in (i.e. without UDF_). This will currently contain the following columns which are included in all data tables:\nMake sure you now close this table since PAMGuard will need to modify it when you start adding additional controls to the form.",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Logger forms ",
      "Designing Forms"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/designingForms.html#adding-controls",
    "href": "visual_methods/loggerFormsHelp/docs/designingForms.html#adding-controls",
    "title": "Designing Forms",
    "section": "Adding Controls",
    "text": "Adding Controls\nThere are two ways of adding controls to the form. The old method is to edit the UDF table directly. This can be quick and efficient if you know what you are doing and is useful if you have several similar controls since you can copy and modify entire rows in the UDF table.\nA much more simple method is to use to the built in form editing functions which can be accessed directly from the logger forms menus: Settings/Logger Forms/Edit Forms/[Your form name].\nThe built in form editor is modifying the same underlying information in the UDF tables in the database so it is normally possible to use a combination of direct editing of the UDF tables and the in built form editor.\n\nEditing the UDF Table\nTo add controls to the form, you simply type lines of instructions into the UDF_ table. PAMGuard will interpret these and generate the appropriate input fields on the display and output columns in the output database table.\nAlthough there are many different columns in the UDF_ tables, generally only a few of them need to be filled in for basic functionality with most control types.\nNow go back to the UDF_ table in the database and start to add controls. Whenever you want to see these changes on the display simply execute the menu command “Detection/Logger forms/Regenerate all forms”\n\n\nUsing the Inbuilt Forms Editor\nTo access the forms editor, from the PAMGuard menu select Settings/Logger Forms/Edit Forms/[]Your form name] to show the forms editing dialog:\n\nUse the buttons to the left of the dialog to add, delete and change the order of controls. When a control is selected in the controls list, it’s properties will appear in th erigh thad side of the dialog. Enter appropriate values as required for each control type.\nAt any point you can preview the form. Pressing OK will cause the dialog to close and the form to be updated on the PAMGuard user interface.\nSelect the “Form Properties” tab to change form properties such as colour, alerts, etc.\nSee below for further informaton on Control and Property types.\n\n\nControl Types\nThere are two types of control which can be added to the form: Data controls and Property controls.\nActive controls are something that handles data, i.e. will have something to type into on the display and will have an column for output data in the output database table.\nProperty controls don’t control data in any way, but affect the appearance or general behaviour of the form.\n\n\nNMEA Input\nAll controls can now receive NMEA input, no just NMEACHAR, NMEAFLOAT and NMEAINT.\nTo set up NMEA input on a control, fill in the three fields of the UDF_ table NMEA_Module, NMEA_String and NMEA_Position.\nNMEA_Moduleshoud be the name of the NMEA module you expect to find data in, e.g. “NMEA Data Collection”. If you leave this empty it will search for data in the first NMEA module it finds.\nNMEA_String is the name of the NMEA string containing the data, e.g. “GPRMC”.\nNMEA_Position is the index of the data item within the NMEA string (0 is the string name, 1 the first data item, etc).\nFurther details are provided in individual Data Control descriptions below:\n\nData Control Types\n\nCHAR for character data\nCHECKBOX for logical data\nCOUNTER for auto incrementing counters\nDOUBLE for double precision data\nINTEGER for integer data\nLOOKUP for drop down lists\nLATLONG to Lat Long information\nNMEACHAR for NMEA character data\nNMEAFLOAT for NMEA floating point data\nNMEAINT for NMEA integer data\nSHORT for short integer (16 bit) data\nSINGLE for single precision floating point data\nTIME for time data\nTIMESTAMP for date and time data\nNEWLINE forces the next control to appear at the start of the next line\n\n\n\nProperty Control Types\n\nAUTOALERT Issues a warning when the form is due to be filled in\nAUTORECORD Not yet implemented\nBEARING Selects a Data Control which contains bearing information which will be used on the map display\nRANGE Selects a Data Control which contains range information which will be used on the map display\nHEADING Selects a Data Control which contains heading information which will be used on the map display\nPLOT Indicates that the data from these forms can be plotted on the PAMGuard map (note that there are also options with many Data Controls which give finer control over plot options)\nNOCLEAR The clear button will be removed from a form\nNOCANCEL The clear button will be removed from a form\nREADONTIMER The form will be read automatically and saved on a timer\nREADONGPS The form will be read automatically and saved whenever new GPS data arrive (not yet implemented)\nREADONMEA The form will be read automatically and saved whenever new NMEA data arrive\nSUBTABS Forms will be displayed on sub-tabs (allowing multiple forms of the same type to be open simultaneously)\nSYMBOLTYPE The type of symbol used for plotting on the map\n\nPrevious: Forms Overview\nNext: Using Old Logger 2000 forms",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Logger forms ",
      "Designing Forms"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/HEADING.html",
    "href": "visual_methods/loggerFormsHelp/docs/HEADING.html",
    "title": "HEADING Property",
    "section": "",
    "text": "The HEADING Property is used to tell PAMGuard which of the Controls contains heading information (about a sighting, etc.)\nThis can be plotted on the map in the form of a small arrow pointing in that direction.\n\nRequired Fields\nTopic\nThe title of one of the other controls, which contains numeric data giving a range.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/LATLONG.html",
    "href": "visual_methods/loggerFormsHelp/docs/LATLONG.html",
    "title": "LATLONG Control",
    "section": "",
    "text": "The LATLONG Type is used on a User Defined Form to create an input field for Latitude and Longitude data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this field is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the first (Latitude) data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nTwo numbers will in face be read from the NMEA string. It is assumed that Latitude is at the position given by NMEA_Position and that the next number in the NMEA string (i.e. NMEA_Position+1) is the Longitude. Teh latitude and longitude should be in decimal degrees. If conversion of either number fails, the values will be set to null.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/loggerFormsOverview.html",
    "href": "visual_methods/loggerFormsHelp/docs/loggerFormsOverview.html",
    "title": "Overview",
    "section": "",
    "text": "This is a temporary guide which explains the current state of Logger Forms module in PAMGuard and how to get it going.\nThe Logger forms implementation in PAMGuard uses an almost identical UDF_table system as the Logger2000 software. There are however a few small differences and old Logger UDF_ tables may not be fully compatible with PAMGuard.\nThe UDF_ tables define the contents of the individual forms which will appear in PAMGuard and the content of the output database table.\nUDF tables all have the same fixed column format. The Logger forms module will read the contents of each UDF table when it starts up. For each UDF_ table, a new form will be created on the PAMGuard display. For each row in the UDF table a control (something you type into) will be generated on that form. A new database table to receive data from the form will also be created in the databsae and for each control on the form, a column will be created in the output database table.\nFor example, the table UDF_Effort will create a form called effort and an output table in the database also called “Effort”, A row in the UDF_effort table with it’s “Type” set to TIMESTAMP will generate a control on the form for entering dates and times and a column in the Effort table formatted to hold data/time data.\nHere is an simple UDF_ table as an example.\nForms can be modified by editing the UDF tables with database software, or purely from menu driven commands with PAMGuard.",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Logger forms ",
      "Overview"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/loggerFormsOverview.html#adding-the-logger-forms-module",
    "href": "visual_methods/loggerFormsHelp/docs/loggerFormsOverview.html#adding-the-logger-forms-module",
    "title": "Overview",
    "section": "Adding the Logger Forms module",
    "text": "Adding the Logger Forms module\nTo add the Logger Forms module a database module must already be present. You should make sure you have one AND that it is connected to a database.\nPAMGuard will need write access to the database and may need to modify the design of some of the tables in the database. Generally you can get away with having the database open with other programmes, however, it’s best not to open the output tables, since these may need to be modified by PAMGaurd. If you have any difficulties, make sure the database is not open with any other programme.\n\nAdding a Logger forms module\nTo add the Logger Forms module select the File&gt;Add Modules&gt;Visual Methods&gt;Logger Forms menu command and give it a name.",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Logger forms ",
      "Overview"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/loggerFormsOverview.html#adding-individual-forms",
    "href": "visual_methods/loggerFormsHelp/docs/loggerFormsOverview.html#adding-individual-forms",
    "title": "Overview",
    "section": "Adding Individual Forms",
    "text": "Adding Individual Forms\nFor each form you wish to add select the Detection&gt;Logger Forms&gt;Create New Form… menu command and give it a name. This will generate a new “UDF” tabel in the databse, which you must then fill in using other software (e.g. MS Access)\nNext: Designing Forms",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Logger forms ",
      "Overview"
    ]
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/NMEACHAR.html",
    "href": "visual_methods/loggerFormsHelp/docs/NMEACHAR.html",
    "title": "NMEACHAR Control",
    "section": "",
    "text": "The NMEACHAR Type is used on a User Defined Form to automatically collect character data from an NMEA string\nAn NMEA module should be included in the PAMGuard configuration to acquire NMEA data from a serial port\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’th item will be the string name, the 1’st item the one after that, etc.\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoupdate\nThis control will update on a time if a non-null positive integer value is entered in the Autoupdate column. The number is the number of seconds between auto-updates\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/NMEAINT.html",
    "href": "visual_methods/loggerFormsHelp/docs/NMEAINT.html",
    "title": "NMEAINT Control",
    "section": "",
    "text": "The NMEAINT Type is used on a User Defined Form to automatically collect integer data from an NMEA string\nAn NMEA module should be included in the PAMGuard configuration to acquire NMEA data from a serial port\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nTopic\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoupdate\nThis control will update on a time if a non-null positive integer value is entered in the Autoupdate column. The number is the number of seconds between auto-updates\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the entered value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/NOCLEAR.html",
    "href": "visual_methods/loggerFormsHelp/docs/NOCLEAR.html",
    "title": "NOCLEAR Property",
    "section": "",
    "text": "The NOCLEAR Property will cause the “Clear” button not to appear on a form.\n\nRequired Fields\nNone\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/RANGE.html",
    "href": "visual_methods/loggerFormsHelp/docs/RANGE.html",
    "title": "RANGE Property",
    "section": "",
    "text": "The RANGE Property is used to tell PAMGuard which of the Controls contains range information (about a sighting, etc.)\n\nRequired Fields\nTopic\nThe title of one of the other controls, which contains numeric data giving a range.\nPostTitle\nMust be one of the following:\n\nnmi: Range is in nautical miles\nkm: Range is in kilometres\nm: Range is in metres\n\n\n\nOptional Fields\nTopic - set to FIXED to display data at a fixed range (i.e. if you have bearing data but no range data)\nLength - Used to specify the range if Topic has been set to FIXED\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/READONNMEA.html",
    "href": "visual_methods/loggerFormsHelp/docs/READONNMEA.html",
    "title": "READONNMEA Property",
    "section": "",
    "text": "The READONNMEA Property is used to make a form automatically save every time a specified NMEA string arrives.\nTypically, READONMEA is used if you want to store every instance of a particular string. In this case, you will need to build a form containing a number of fields of types NMEACHAR, NMEAFLOAT and NMEAINT which will read individual values from the NMEA string and store them in database columns.\nNote that this is very different to reading on a timer which will only ever store the latest data from a particular string.\n\nRequired Fields\nAutoupdate\nThe time interval in seconds at which the form should be automatically saved\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/SHORT.html",
    "href": "visual_methods/loggerFormsHelp/docs/SHORT.html",
    "title": "SHORT Control",
    "section": "",
    "text": "The SHORT Type is used on a User Defined Form to create an input field for 16 bit integer data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this field is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the entered value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\n\n\nNMEA Input\nNMEA_Module\nThe name of the NMEA module from which data should be harvested\nNMEA_String\nThe name of the NMEA string containing the data\nNMEA_Position\nThe position of the data item in the NMEA string. Strings are comma separated, the 0’the item will be the string name, the 1’st item the one after that, etc.\nNMEA data will be converted to a short integer number. If the conversion fails, the control value will be set to null.\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/SUBTABS.html",
    "href": "visual_methods/loggerFormsHelp/docs/SUBTABS.html",
    "title": "SUBTABS Property",
    "section": "",
    "text": "The SUBTABS Property is used to change the way forms appear on the display.\nBy default (i.e. if the SUBTABS property is not used) one copy of each form is always visible. If the SUBTABS property is set, then initially no forms are visible, just an empty space in the main Logger forms layout. You may then open as many forms as you require simply by double clicking on the tab on the main layout.\n(Functionality to open SUBTAB forms using buttons, as in Logger 2000 will be added at some future date)\nSUBTAB forms are great for things like animal sightings, when several things may be happening at once.\n\nRequired Fields\nNone\nBack to form Design"
  },
  {
    "objectID": "visual_methods/loggerFormsHelp/docs/TIME.html",
    "href": "visual_methods/loggerFormsHelp/docs/TIME.html",
    "title": "TIME Control",
    "section": "",
    "text": "The TIME Type is used on a User Defined Form to create an input filed for time data\n\nRequired Fields\nOrder\nThe order in which the controls are read in by the program\nTitle\nThe text to be shown on the display\nLength\nLength of the input field in characters\n\n\nOptional Fields\nAutoupdate\nThis control will update on a time if a non-null positive integer value is entered in the Autoupdate column. The number is the number of seconds between auto-updates\nTopic\nThe time zone for the data. By default all data are in UTC. Enter a standard time zone name to collect data in other time zones.\nAutoclear\nThe control is automatically cleared when data is saved\nDbTitle\nColumn heading for the output database. (This will default to the Title if this filed is not completed)\nHint\nText for a hint to be displayed when entering data in the control\nPostTitle\nAdditional text to display after the input box.\nRequired\nForces the user to fill in the input box before the form can be saved\nPlot\nData from this form can be plotted if the entered value is non-zero. Note that there are extensive plot options available from the Display / Logger forms menu.\n\n\nNMEA Input\nNot yet implemented for this control type\nBack to form Design"
  },
  {
    "objectID": "visual_methods/videoRangeHelp/docs/videoRange_Calibrating.html",
    "href": "visual_methods/videoRangeHelp/docs/videoRange_Calibrating.html",
    "title": "Calibration",
    "section": "",
    "text": "A calibration factor is required to allow distances measured on the image (in pixels) to be converted into angles subtended at the lens and a new a factor will be needed for each camera / zoom combination.\nCalculation of a calibration factor using PAMGuard involves making measurements between points on a perpendicular image of an object of known size taken at a known range, with the camera and zoom setting to be used for later range measurements.\nTo open the image press either the Paste or File buttons under Image in the control panel as appropriate (depending on whether the image has bee stored as a file or on the clipboard.)\nUse the cursor to mark two known points on the object.\nA dialog opens prompting for the distance between these points (in cm) and the range from the camera to the object (in m). Provide a sensible name for the calibration factor (e.g. “Full Zoom”) and store it.\n\n\n\nCalibration\n\n\nIn the image above the distance between two white bands 50cm apart on a pole placed 46m from the camera have been marked. The calibrations factor will be stored with the name “Full Zoom”.\nThis calibration factor will now be available to be chosen for future analysis of any images taken with these camera settings.\nPrevious: Adding a Video Range Module\nNext: Range Measurement Setup",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Video Range ",
      "Calibration"
    ]
  },
  {
    "objectID": "visual_methods/videoRangeHelp/docs/videoRange_Measuring_Plot.html",
    "href": "visual_methods/videoRangeHelp/docs/videoRange_Measuring_Plot.html",
    "title": "Measuring to the horizon",
    "section": "",
    "text": "To measure range to an object shown in an image the operator must plot two points on the horizon (or shoreline) and a point at the waterline of the object itself.\nUsing the side panel, Load the image to be analysed from a file or the clipboard as appropriate.\nPlot the required points using the cursor, staring with two points to define the horizon. For accuracy, these should be widely spaced. (To replot the horizon for example if an eror has been made click Clear Horizon on the side panel.)\nPlot a point on the waterline of the object and a dialog will open showing the calculated range.\nPress reject if an error in plotting has been made (the dialog will clear and you will be able to plot the object again). Otherwise, add a note to be stored in the database with the range data and press accept.\nAdditional objects in the same frame can now be plotted using the same horizon line. In the image below for example the location of both a boat and a beaked whale have been plotted.\n\n\n\nrange plot\n\n\nThe figure above shows an example of an image taken from a shore station showing a beaked whale close to a vessel. The location of both the vessel and the whale have been plotted.\nIf Bearings have been obtained manually (e.g. from a bearing ring or compass) then they should be entered as true bearings in the box in the bar at the top of the display window. The incremental angle for each point plotted within the image is calculated and added to the bearing angle.\nPAMGuard includes modules for measuring bearings automatically and help on these can be found here Angle Measurement\nSettings will remain in place unless changed. To analyse additional images with the same settings simply Load the new image.\nPrevious: Setup\nNext: Measure to a shoreline",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Video Range ",
      "Measuring to the horizon"
    ]
  },
  {
    "objectID": "visual_methods/videoRangeHelp/docs/VideoRange_SidePanel.html",
    "href": "visual_methods/videoRangeHelp/docs/VideoRange_SidePanel.html",
    "title": "Side Panel",
    "section": "",
    "text": "Creating a Video Range Module\nFrom the File&gt;Add Modules&gt;Visual Methods menu, or from the pop-up menu on the data model display select “Video Range”. Enter a name for the module(e.g. big eye video, 7x50 video, etc) and press Ok.\nThis will create a new side panel which contains access to the controls required to use the video range module.\n\n\n\nSide Panel\n\n\nTwo Image buttons allow an image, stored as a file or on the clipboard, to be opened.\nThe Scrolling dialog provides options for how PAMGuard should handle images that are larger than the display window\n\nScroll, allows the user to scroll around the image using the image-viewer scroll bars.\nCrop, crops the image to the size of the window\nShrink, shrinks the image to the window size while maintaining its aspect ratio\n\nBrightness and Contrast slide bars allow adjustment of these parameters in the image\nCalibration allows a preset calibration factor to be chosen, any number of these can been stored. Calibration factors are used to convert distances between points on the image, measured in pixels, to angles subtended at the camera lens.\nHeight allows a predetermined camera height above sea level to be chosen. (Any number of these can be stored)\nAnalysis provides a choice between different types of analysis: either, calibration or one of two range measurement methods.\nClear Horizon allows the horizon to be replotted during range measurement.\nSettings allows various aspects of the program to be configured.\nIt is usually necessary to configure the program using options on the Side Bar and the Settings tabs, especially if its the first time program has been used.\nTypically the first step is to calculate a Calibration factor.\n(However, if a calibration factor is already available jump to Range Measurement.)\nPrevious: Overview\nNext: Calibration",
    "crumbs": [
      "PAMGuard Website",
      "Visual Methods ",
      "Video Range ",
      "Side Panel"
    ]
  }
]